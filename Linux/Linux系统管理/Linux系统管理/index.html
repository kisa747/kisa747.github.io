
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kisa747.top/Linux/Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/">
      
      
        <link rel="prev" href="../Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86/">
      
      
        <link rel="next" href="../Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/">
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Linux 系统管理 - Kevin's Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../assets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#linux" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Kevin&#39;s Wiki" class="md-header__button md-logo" aria-label="Kevin's Wiki" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kevin's Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Linux 系统管理
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/kisa747/kisa747.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../Debian%E7%AC%94%E8%AE%B0/" class="md-tabs__link">
          
  
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Office%E5%8A%9E%E5%85%AC/ASCII%E7%A0%81%E8%AF%A6%E8%A7%A3/" class="md-tabs__link">
          
  
  
  Office办公

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Python/Github/" class="md-tabs__link">
          
  
  
  Python

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Windows/01-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-tabs__link">
          
  
  
  Windows

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../blog/" class="md-tabs__link">
          
  
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/CD%E6%8A%93%E8%BD%A8/" class="md-tabs__link">
          
  
  
  多媒体

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E4%B8%A4%E7%AE%97%E5%AF%B9%E6%AF%94/" class="md-tabs__link">
          
  
  
  工作

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E6%91%84%E5%BD%B1/01-%E7%85%A7%E7%89%87%E6%8B%8D%E6%91%84/" class="md-tabs__link">
          
  
  
  摄影

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/AI%E6%8F%90%E9%97%AE%E6%8A%80%E5%B7%A7/" class="md-tabs__link">
          
  
  
  效率技巧

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E6%95%99%E8%82%B2/%E5%B0%8F%E8%BE%BE%E4%BA%BA%E7%82%B9%E8%AF%BB%E6%9C%BA/" class="md-tabs__link">
          
  
  
  教育

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%94%9F%E6%B4%BB/%E4%B8%AA%E4%BA%BA%E6%89%80%E5%BE%97%E7%A8%8E/" class="md-tabs__link">
          
  
  
  生活

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%BD%91%E7%BB%9C/GitBook%E7%AC%94%E8%AE%B0/" class="md-tabs__link">
          
  
  
  网络

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Kevin&#39;s Wiki" class="md-nav__button md-logo" aria-label="Kevin's Wiki" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    Kevin's Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kisa747/kisa747.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Debian%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debian 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Fedora%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fedora 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LinuxMint%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LinuxMint 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OpenWrt%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenWrt 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RaspberryPi%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    树莓派笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SSH%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Samba%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Samba笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Shell%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Shell%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grub.cfg%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GRUB2 配置文件 grub.cfg 详解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vi%E7%BC%96%E8%BE%91%E5%99%A8%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vi 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%BE%A4%E6%99%96%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    群晖笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    许可协议
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_15" checked>
        
          
          <label class="md-nav__link" for="__nav_2_15" id="__nav_2_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux系统管理
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_15_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_15">
            <span class="md-nav__icon md-icon"></span>
            Linux系统管理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux 文件系统层次结构标准 (FHS)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Linux 系统管理
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Linux 系统管理
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cockpit" class="md-nav__link">
    <span class="md-ellipsis">
      安装 cockpit 管理面板
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sudo" class="md-nav__link">
    <span class="md-ellipsis">
      sudo 权限
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sudo 权限">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sudo_1" class="md-nav__link">
    <span class="md-ellipsis">
      脚本中使用 sudo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux_1" class="md-nav__link">
    <span class="md-ellipsis">
      linux 目录与文件的权限
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      发送邮件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="发送邮件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#s-nails-mailx" class="md-nav__link">
    <span class="md-ellipsis">
      使用 S-nail(S-mailx)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msmtp" class="md-nav__link">
    <span class="md-ellipsis">
      使用 msmtp（不推荐）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    <span class="md-ellipsis">
      Systemd 服务管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Systemd 服务管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      启动耗时分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      服务编写
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit" class="md-nav__link">
    <span class="md-ellipsis">
      Unit 管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      日志管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      持久化存储日志
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      创建服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target" class="md-nav__link">
    <span class="md-ellipsis">
      启动 target
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      软件包管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="软件包管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apt" class="md-nav__link">
    <span class="md-ellipsis">
      APT 常用命令
    </span>
  </a>
  
    <nav class="md-nav" aria-label="APT 常用命令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apt_1" class="md-nav__link">
    <span class="md-ellipsis">
      APT 命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-cache" class="md-nav__link">
    <span class="md-ellipsis">
      apt-cache 命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-get" class="md-nav__link">
    <span class="md-ellipsis">
      apt-get 命令
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-pinning" class="md-nav__link">
    <span class="md-ellipsis">
      APT Pinning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt_2" class="md-nav__link">
    <span class="md-ellipsis">
      APT 自动更新
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      安装软件组合
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-upgrade-dist-upgrade" class="md-nav__link">
    <span class="md-ellipsis">
      apt upgrade 与 dist-upgrade 对比
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snap" class="md-nav__link">
    <span class="md-ellipsis">
      snap 命令
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grub" class="md-nav__link">
    <span class="md-ellipsis">
      GRUB 管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GRUB 管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      修改默认启动项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grub_1" class="md-nav__link">
    <span class="md-ellipsis">
      修改 GRUB 启动等待时间
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      磁盘管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="磁盘管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      自动挂载
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      挂载参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trim" class="md-nav__link">
    <span class="md-ellipsis">
      检验 TRIM 支持
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trim_1" class="md-nav__link">
    <span class="md-ellipsis">
      通过挂载参数启用 TRIM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      按需挂载
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udev" class="md-nav__link">
    <span class="md-ellipsis">
      udev 热插拔
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      磁盘加密
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      创建分区
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart" class="md-nav__link">
    <span class="md-ellipsis">
      SMART 监测
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      硬盘休眠
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      用户、组管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用户、组管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      批量修改用户密码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      远程访问
    </span>
  </a>
  
    <nav class="md-nav" aria-label="远程访问">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh" class="md-nav__link">
    <span class="md-ellipsis">
      SSH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sftp" class="md-nav__link">
    <span class="md-ellipsis">
      SFTP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令
    </span>
  </a>
  
    <nav class="md-nav" aria-label="常用命令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ntp" class="md-nav__link">
    <span class="md-ellipsis">
      NTP 时间同步
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      计划任务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#man" class="md-nav__link">
    <span class="md-ellipsis">
      中文 man
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux 网络管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../XDG%E5%9F%BA%E6%9C%AC%E7%9B%AE%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XDG 基本目录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../systemd%E6%9C%8D%E5%8A%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Systemd 服务管理
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Office办公
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Office办公
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/ASCII%E7%A0%81%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ASCII 码详解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/Excel%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Excel 学习笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/Excel%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Excel 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/PowerQuery%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PowerQuery笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/WPS%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WPS 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/%E6%95%B0%E6%8D%AE%E9%80%8F%E8%A7%86%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据透视表
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    VBA
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            VBA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/VBA/VBA%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Excel VBA 学习总结 - 内置函数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/VBA/VBA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Excel VBA 学习总结 - 基础知识
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/VBA/VBA%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VBA 正则表达式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/VBA/VBA%E6%B6%88%E6%81%AF%E6%A1%86%E8%BE%93%E5%85%A5%E6%A1%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VBA消息框输入框
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Office%E5%8A%9E%E5%85%AC/VBA/VBA%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VBA 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Git%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/HTTP%E8%AF%B7%E6%B1%82/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP 请求
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AE%A1%E7%90%86-UV/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python 管理工具 UV 使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AE%A1%E7%90%86-pip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python 包管理系统之 PIP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AE%A1%E7%90%86-%E5%8D%87%E7%BA%A7Python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows 下升级 python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字符编码
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用配置文件格式指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E5%BC%82%E6%AD%A5IO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    异步 IO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-re%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    正则表达式-re 模块
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    正则表达式 - 学习
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E8%A3%85%E9%A5%B0%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    装饰器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/%E8%AE%A1%E7%AE%97%E6%97%A5%E5%87%BA%E6%97%A5%E8%90%BD%E6%97%B6%E9%97%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算日出日落时间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_14" id="__nav_4_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pandas笔记
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_14">
            <span class="md-nav__icon md-icon"></span>
            Pandas笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-01-%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pandas 基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-02-%E8%AF%BB%E5%86%99/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pandas 读写
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-03-%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pandas 表格处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-04-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字符串处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-05-Jupyter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jupyter 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-06-matplotlib%E7%BB%98%E5%9B%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    matplotlib 绘图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-07-%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pandas 速查手册
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-08-Apply%E3%80%81Map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    循环迭代 DataFrame
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-09-%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pandas 缺失值处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-10-Numpy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Numpy 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-11-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pandas 常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-12-%E6%95%B0%E6%8D%AE%E6%8B%BC%E6%8E%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据拼接
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Pandas%E7%AC%94%E8%AE%B0/Pandas%E7%AC%94%E8%AE%B0-13-%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分组聚合
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_15" >
        
          
          <label class="md-nav__link" for="__nav_4_15" id="__nav_4_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python标准库
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_15">
            <span class="md-nav__icon md-icon"></span>
            Python标准库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E6%A0%87%E5%87%86%E5%BA%93/Argparse%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Argparse 标准库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E6%A0%87%E5%87%86%E5%BA%93/SQLite%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQLite 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E6%A0%87%E5%87%86%E5%BA%93/pathlib%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pathlib 标准库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E6%A0%87%E5%87%86%E5%BA%93/%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用标准库
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_16" >
        
          
          <label class="md-nav__link" for="__nav_4_16" id="__nav_4_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python笔记
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_16">
            <span class="md-nav__icon md-icon"></span>
            Python笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-01-%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python 技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-02-Python%E5%90%84%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python 各版本更新内容
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-03-%E7%BC%96%E8%BE%91%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    编辑器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-04-%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python笔记 04 语法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-05-%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字符串笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-06-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    类和对象
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-07-%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python 模块与包
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-08-%E6%97%A5%E5%BF%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    日志
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-09-%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    时间日期
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    多线程与多进程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-11-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    项目管理及虚拟环境管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-12-%E8%B0%83%E8%AF%95%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python笔记 12 调试测试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-13-%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    测试框架
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-14-%E4%BB%BB%E5%8A%A1%E8%87%AA%E5%8A%A8%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    任务自动化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-15-%E5%88%9B%E5%BB%BA%E5%8F%91%E5%B8%83%E5%8C%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    创建并发布包
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%94%E8%AE%B0/Python%E7%AC%94%E8%AE%B0-16-%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python 静态类型注解
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_17" >
        
          
          <label class="md-nav__link" for="__nav_4_17" id="__nav_4_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python第三方库
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_17">
            <span class="md-nav__icon md-icon"></span>
            Python第三方库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/BeautifulSoup%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BeautifulSoup 库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/OCR%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OCR文字识别
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/Openpyxl%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Openpyxl库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/Requests%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Requests 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/Tushare%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tushare库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/Win10_Toast%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    win10toast 库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/XlsxWriter%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XlsxWriter 库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/Xlwings%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Xlwings 库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/httpx%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    httpx 库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/playwright%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    playwright 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Python/Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/python-office%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python-office 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Windows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Windows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/01-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Aria2%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aria2 下载工具
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/AutoHotkey%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AutoHotkey
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Bitlocker%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bitlocker 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Chrome%E6%B5%8F%E8%A7%88%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chrome浏览器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Foobar2000%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Foobar2000 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/KMS%E6%BF%80%E6%B4%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KMS 激活
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/MPV%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPV 使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Office2021%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Office2021 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Office2024%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Office2024 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/PDF%E6%96%87%E6%A1%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDF文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Typora%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Typora笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/WPS%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WPS Office
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Windows10%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows 10 安装指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Windows11%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows 11 安装指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Windows%E5%8C%85%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows 包管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Windows%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Windows%E6%90%AD%E5%BB%BAntp%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows 搭建 ntp 服务器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/Windows%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/qBitorentEE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    qBittorrentEE 设置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/syncthing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Syncthing 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中文输入法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/%E5%A4%87%E4%BB%BD%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    备份策略
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/%E5%AE%89%E8%A3%85%E7%85%A7%E7%89%87%E5%BA%94%E7%94%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    安装照片应用
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/%E7%AE%A1%E7%90%86Windows%E6%9B%B4%E6%96%B0%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    管理其他 Windows 更新设置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/%E8%BD%AF%E4%BB%B6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    软件笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_28" >
        
          
          <label class="md-nav__link" for="__nav_5_28" id="__nav_5_28_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CMD批处理
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_28_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_28">
            <span class="md-nav__icon md-icon"></span>
            CMD批处理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/7zip%E5%91%BD%E4%BB%A4%E8%A1%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7-zip 命令行用法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/CSS%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/GO%E8%AF%AD%E8%A8%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GO 语言
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/PowerShell%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PowerShell 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/Robocopy%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Robocopy笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/VBS%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VBS 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/WinSCP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WinSCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/WindowsTerminal%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows Terminal 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/cwrsync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cwrsync
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/%E6%89%B9%E5%A4%84%E7%90%86For%E8%AF%AD%E5%8F%A5%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    for 语句从入门到精通
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/%E6%89%B9%E5%A4%84%E7%90%86For%E8%AF%AD%E5%8F%A5%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    批处理 For 语句笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/%E6%89%B9%E5%A4%84%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    批处理笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Windows/CMD%E6%89%B9%E5%A4%84%E7%90%86/%E6%B3%A8%E5%86%8C%E8%A1%A8%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    注册表笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    个人博客
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    归档
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blog/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    多媒体
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            多媒体
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/CD%E6%8A%93%E8%BD%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CD 抓轨
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/PhotoShop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PhotoShop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/QAAC%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QAAC使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/immich/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Immich
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    处理图片
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/%E5%A4%84%E7%90%86%E8%A7%86%E9%A2%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    处理视频
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/%E5%A4%84%E7%90%86%E9%9F%B3%E9%A2%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    处理音频
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/%E7%94%B5%E8%A7%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    电视
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%9A%E5%AA%92%E4%BD%93/%E9%9F%B3%E4%B9%90%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    音乐管理
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    工作
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            工作
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    工作 商务
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            工作 商务
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E4%B8%A4%E7%AE%97%E5%AF%B9%E6%AF%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    两算对比
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E5%85%AC%E5%8F%B8%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    公司知识
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E5%88%86%E5%8C%85%E7%BB%93%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分包结算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E5%90%88%E5%90%8C%E4%BA%A4%E5%BA%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    项目总承包合同的交底
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E5%95%86%E5%8A%A1%E7%AD%96%E5%88%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    商务策划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E5%B7%A5%E7%A8%8B%E8%AE%A1%E7%A8%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工程计税
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E5%95%86%E5%8A%A1/%E9%A1%B9%E7%9B%AE%E6%8B%9B%E6%A0%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    项目招标
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    工作 投标
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            工作 投标
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%8A%95%E6%A0%87/%E5%90%88%E8%82%A5%E6%9C%BA%E5%9C%BAT2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    合肥机场 T2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%8A%95%E6%A0%87/%E5%A4%A9%E6%96%B9%E8%8D%AF%E4%B8%9A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    天方药业
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%8A%95%E6%A0%87/%E6%8A%95%E6%A0%87%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    投标笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%8A%95%E6%A0%87/%E6%96%B0%E7%82%B9%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    新点
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    工作 施工
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            工作 施工
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/01-%E6%96%BD%E5%B7%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    施工
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/02-%E7%AE%97%E9%87%8F%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    算量计算公式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E5%8A%B3%E5%8A%A1%E7%BB%93%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    劳务结算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E5%8A%B3%E5%8A%A1%E7%BB%93%E7%AE%97%E4%B8%8E%E7%89%A9%E8%B5%84%E5%B9%B3%E8%A1%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    劳务结算与物资平衡
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E5%95%86%E5%8A%A1%E5%B7%A5%E4%BD%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    商务工作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E5%B7%A5%E4%BD%9C%E6%B1%87%E6%8A%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工作汇报
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E5%B7%A5%E4%BD%9C%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工作笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E6%80%BB%E5%AE%89%E5%AE%89%E5%85%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    总安安全
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E6%8A%97%E9%9C%87%E6%94%AF%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    抗震支架
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E6%8A%A5%E9%94%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    报销
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E6%94%AF%E6%9E%B6%E9%AA%8C%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    民用建筑机电专业综合支吊架选用的问题研究
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E7%A9%BA%E8%B0%83%E5%88%B6%E5%86%B7%E5%89%82%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空调制冷剂分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E7%A9%BA%E8%B0%83%E8%B0%83%E8%AF%95%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空调调试记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E7%AB%9E%E8%81%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2022 年竞聘演讲
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E7%BA%B8%E5%BC%A0%E5%B0%BA%E5%AF%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    纸张尺寸
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E8%A7%81%E8%AF%81%E5%8F%96%E6%A0%B7%E6%A3%80%E9%AA%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    见证取样检验
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E8%AE%BE%E5%A4%87-%E5%88%86%E4%BD%93%E7%A9%BA%E8%B0%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分体空调
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E8%AE%BE%E5%A4%87-%E6%95%A3%E7%83%AD%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    散热器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E8%AE%BE%E5%A4%87-%E6%B0%B4%E6%B3%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    水泵
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E8%AE%BE%E5%A4%87-%E7%B2%BE%E5%AF%86%E7%A9%BA%E8%B0%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工艺阀门
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E8%AE%BE%E5%A4%87-%E9%A3%8E%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风机
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E9%92%A2%E5%88%B6%E6%B3%95%E5%85%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    钢制法兰
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E9%A3%8E%E7%AE%A1-01-%E6%96%BD%E5%B7%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    防排烟风管施工技术要求
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E9%A3%8E%E7%AE%A1-02-%E9%A3%8E%E7%AE%A1%E9%87%87%E7%94%A8%E5%BD%A2%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风管形式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E9%A3%8E%E7%AE%A1-03-%E9%98%B2%E6%8E%92%E7%83%9F%E5%8F%AF%E5%90%A6%E7%94%A8%E5%85%B1%E6%9D%BF%E6%B3%95%E5%85%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    防排烟风管是否可以使用共板法兰
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E9%A3%8E%E7%AE%A1-04-%E8%80%90%E7%81%AB%E6%9E%81%E9%99%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    防排烟风管的耐火极限施工
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E6%96%BD%E5%B7%A5/%E9%A3%8E%E7%AE%A1-05-%E5%AF%BC%E6%B5%81%E5%8F%B6%E7%89%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风管导流叶片
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    工作 软件
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            工作 软件
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/Python%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python 工具
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-AutoCAD%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    软件使用 AutoCAD笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-Project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 使用笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-Python%E5%B7%A5%E4%BD%9C%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    命令行工具
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-Revit%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    软件使用 Revit笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-%E5%B9%BF%E8%81%94%E8%BE%BEBIM%E7%AE%97%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    软件使用 广联达BIM算量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E5%B7%A5%E4%BD%9C-%E8%BD%AF%E4%BB%B6/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-%E7%AE%97%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    算量
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    电气专业
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            电气专业
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E7%94%B5%E6%B0%94%E4%B8%93%E4%B8%9A/%E7%94%B5%E7%BA%BF%E7%94%B5%E7%BC%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    电线电缆
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E7%94%B5%E6%B0%94%E4%B8%93%E4%B8%9A/%E7%94%B5%E7%BA%BF%E7%94%B5%E7%BC%86%E9%98%BB%E7%87%83%E7%87%83%E7%83%A7%E7%AD%89%E7%BA%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    电线电缆阻燃、燃烧等级
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_6" >
        
          
          <label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    项目 徐州金弗
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_6">
            <span class="md-nav__icon md-icon"></span>
            项目 徐州金弗
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/01-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    项目总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/02-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    项目笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/BIM%E7%BB%BC%E5%90%88%E6%8E%92%E5%B8%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BIM 综合排布
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/%E8%AE%BE%E5%A4%87-%E5%86%B7%E5%8D%B4%E5%A1%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    冷却塔
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/%E8%AE%BE%E5%A4%87-%E5%86%B7%E6%B0%B4%E6%9C%BA%E7%BB%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    冷水机组
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/%E8%AE%BE%E5%A4%87-%E5%AF%BC%E7%83%AD%E6%B2%B9%E9%94%85%E7%82%89%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    导热油锅炉系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/%E8%AE%BE%E5%A4%87-%E6%B0%B4%E6%B3%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    水泵
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/%E8%AE%BE%E5%A4%87-%E6%B0%B4%E9%98%80%E9%97%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    阀门
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E5%BE%90%E5%B7%9E%E9%87%91%E5%BC%97/%E8%AE%BE%E5%A4%87-%E7%A9%BA%E5%8E%8B%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空压机
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" >
        
          
          <label class="md-nav__link" for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    项目 河南科技馆
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            项目 河南科技馆
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/BIM%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BIM笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E4%BF%9D%E6%B8%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    保温
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E5%8A%B3%E5%8A%A1%E6%80%BB%E7%BB%93%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    劳务总结算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E5%95%86%E5%8A%A1%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    商务笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E5%9B%BE%E7%BA%B8%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图纸问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E5%B7%A5%E7%A8%8B%E5%88%9B%E4%BC%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工程创优
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E5%B9%B3%E5%AE%89%E6%80%BB%E5%8C%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    平安总包
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E6%9C%BA%E6%88%BF%E6%B7%B1%E5%8C%96%E6%96%BD%E5%B7%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    机房深化施工
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E6%A5%BC%E5%AE%87%E8%87%AA%E6%8E%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    楼宇自控
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A9%BA%E8%B0%83%E4%B8%93%E4%B8%9A%E8%AE%BE%E5%A4%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分集水器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A9%BA%E8%B0%83%E6%B0%B4%E9%98%80%E9%97%A8%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    水阀门知识
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A9%BA%E8%B0%83%E6%B0%B4%E9%98%80%E9%97%A8%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空调水阀门
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A9%BA%E8%B0%83%E9%A3%8E%E7%AE%A1%E5%B7%A5%E7%A8%8B%E9%87%8F%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空调风管工程量分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    经验总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%B2%BE%E8%A3%85%E4%BF%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    精装修
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%BB%BC%E5%90%88%E7%AE%A1%E7%BA%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    综合管线
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E8%AE%BE%E5%A4%87%E6%94%AF%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    设备支架
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E9%A3%8E%E5%8F%A3%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风口计划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E9%A3%8E%E5%8F%A3%E9%A3%8E%E9%98%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风口风阀
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E9%A3%8E%E6%9C%BA%E5%AE%89%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风机安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E9%A3%8E%E7%B3%BB%E7%BB%9F%E6%96%BD%E5%B7%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    镀锌钢板风管
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7_22" >
        
          
          <label class="md-nav__link" for="__nav_8_7_22" id="__nav_8_7_22_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    科技馆对量
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_7_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7_22">
            <span class="md-nav__icon md-icon"></span>
            科技馆对量
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E5%92%A8%E8%AF%A2%E5%85%AC%E5%8F%B8%E5%AF%B9%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    清单项
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E5%9B%BE%E7%BA%B8%E4%BF%AE%E6%94%B9%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图纸修改记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E5%AF%B9%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    对量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E7%8B%AC%E7%AB%8B%E8%BD%A6%E5%BA%93%E5%9C%AD%E8%A1%A8%E5%A1%94%E9%80%9A%E9%A3%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    独立车库通风
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E7%A9%BA%E8%B0%83%E6%B0%B4%E5%AF%B9%E9%87%8F%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    王雪莲 20210609 清单对比结果
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E7%A9%BA%E8%B0%83%E9%A3%8E%E5%AF%B9%E9%87%8F%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空调风对量笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B2%B3%E5%8D%97%E7%A7%91%E6%8A%80%E9%A6%86/%E7%A7%91%E6%8A%80%E9%A6%86%E5%AF%B9%E9%87%8F/%E7%BB%BC%E5%90%88%E6%94%AF%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    综合支架
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_8" >
        
          
          <label class="md-nav__link" for="__nav_8_8" id="__nav_8_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    项目 洛阳光电产业园
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_8">
            <span class="md-nav__icon md-icon"></span>
            项目 洛阳光电产业园
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/1.%E5%91%A8%E6%9C%9F%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.周期工作内容
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/2.%E5%B1%80%E6%8A%A5%E5%A1%AB%E5%86%99/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.局报填写
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/3.%E8%B4%A3%E4%BB%BB%E6%88%90%E6%9C%AC%E8%80%83%E6%A0%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    责任成本考核
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/4.%E5%8A%B3%E5%8A%A1%E7%BB%93%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    劳务结算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/5.%E9%A1%B9%E7%9B%AE%E6%88%90%E6%9C%AC%E8%B4%B9%E7%94%A8%E7%A1%AE%E8%AE%A4%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    项目成本费用确认表
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/6.%E5%8A%B3%E5%8A%A1%E7%AD%BE%E8%AF%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    签证
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E4%B8%A4%E7%AE%97%E5%AF%B9%E6%AF%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    两算对比
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E5%8A%B3%E5%8A%A1%E3%80%81%E4%B8%93%E4%B8%9A%E5%88%86%E5%8C%85%E6%8B%9B%E6%A0%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    劳务、专业分包招标
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E5%95%86%E5%8A%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    商务
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E5%95%86%E5%8A%A1%E7%AD%96%E5%88%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    商务策划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E5%9F%B9%E8%AE%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    培训
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E6%80%BB%E7%BB%93%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    总结算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E6%9A%96%E9%80%9A%E7%AE%97%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    暖通算量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E7%BB%84%E7%A9%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    组空
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E8%8A%82%E7%82%B9%E8%80%83%E6%A0%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    节点考核
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E6%B4%9B%E9%98%B3%E5%85%89%E7%94%B5%E4%BA%A7%E4%B8%9A%E5%9B%AD/%E8%B4%A2%E5%8A%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    财务
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_9" >
        
          
          <label class="md-nav__link" for="__nav_8_9" id="__nav_8_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    项目 郑州机场三期
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_9">
            <span class="md-nav__icon md-icon"></span>
            项目 郑州机场三期
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E4%BF%9D%E6%B8%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    保温笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%86%B7%E5%BA%93-01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    冷库 01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%86%B7%E5%BA%93-02-%E9%92%A2%E7%BB%93%E6%9E%84%E8%AF%86%E5%9B%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    钢结构识图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%86%B7%E5%BA%93%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    冷库存在问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%8A%B3%E5%8A%A1%E7%BB%93%E7%AE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    劳务结算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%95%86%E5%8A%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    商务
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%9B%BE%E7%BA%B8%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图纸笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%A4%9A%E8%81%94%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    多联机笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%AF%B9%E5%A4%96%E7%AD%BE%E8%AF%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    对外签证
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E5%B7%A5%E4%BD%9C%E4%BA%A4%E6%8E%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工作交接
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%94%B6%E5%B0%BE%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中兆剩余工作 -20220810
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%B8%85%E5%8D%95%E5%AF%B9%E6%AF%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    清单对比
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E7%86%8F%E8%92%B8%E5%AE%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    熏蒸室
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E7%B2%BE%E8%A3%85%E4%BF%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    精装修
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E8%AE%A1%E9%87%8F%E6%A3%80%E5%AE%9A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计量检定
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E9%87%87%E6%9A%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    采暖
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E9%87%87%E6%9A%96%E5%AF%B9%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    采暖对量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E9%A3%8E%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风机
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E9%A3%8E%E9%98%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风阀
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_9_21" >
        
          
          <label class="md-nav__link" for="__nav_8_9_21" id="__nav_8_9_21_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    机场三期商务
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_9_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_9_21">
            <span class="md-nav__icon md-icon"></span>
            机场三期商务
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/A%E7%89%88%E5%9B%BE%E7%BA%B8%E5%87%BA%E5%9B%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A版图纸出图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/A%E7%89%88%E5%9B%BE%E7%BA%B8%E6%B8%85%E5%8D%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A 版图纸清单
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E4%BA%8C%E5%AE%A1%E5%AF%B9%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    二审对量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E5%86%B7%E5%BA%93%E5%AF%B9%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    冷库对量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E5%AF%B9%E5%A4%96%E7%AD%BE%E8%AF%81%E5%8F%98%E6%9B%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    对外签证变更
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E6%A6%82%E9%A2%84%E7%AE%97%E5%AF%B9%E6%AF%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    概预算对比
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E6%B5%B7%E5%85%B3%E6%A3%80%E7%96%AB%E5%9B%BE%E7%BA%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    海关检疫图纸变化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E4%BD%9C/%E9%A1%B9%E7%9B%AE-%E9%83%91%E5%B7%9E%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F/%E6%9C%BA%E5%9C%BA%E4%B8%89%E6%9C%9F%E5%95%86%E5%8A%A1/%E8%B4%A7%E8%BF%90%E5%8C%BA%E4%BA%8C%E5%AE%A1%E5%AF%B9%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    摄影
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            摄影
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/01-%E7%85%A7%E7%89%87%E6%8B%8D%E6%91%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    照片拍摄
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/02-%E8%A7%86%E9%A2%91%E6%8B%8D%E6%91%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    视频拍摄
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/03-Lightroom%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lightroom 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/04-PhotoShop%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photoshop 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/04-%E4%BA%BA%E5%83%8F%E6%91%84%E5%BD%B1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    人像摄影
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/05-%E9%A3%8E%E6%99%AF%E6%91%84%E5%BD%B1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    风景摄影
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/VSCO%E6%BB%A4%E9%95%9C%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VSCO 滤镜使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/%E5%B0%BC%E5%BA%B7%E7%9B%B8%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    尼康相机
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/%E6%91%84%E5%BD%B1%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    摄影笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%91%84%E5%BD%B1/%E6%98%A5%E8%8A%82%E8%A7%86%E9%A2%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    春节视频
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    效率技巧
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            效率技巧
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/AI%E6%8F%90%E9%97%AE%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI 提问技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/Android%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Android 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/BT%E4%B8%8B%E8%BD%BD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BT 下载
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/GitHub%E5%8A%A0%E9%80%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub加速
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/IPv6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPv6笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/%E5%88%B6%E4%BD%9C%E7%94%B5%E5%AD%90%E4%B9%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    制作 epub 格式电子书
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/%E5%AE%B6%E5%BA%AD%E7%94%B5%E8%84%91%E5%A4%9A%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    家庭电脑多用户使用设置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    机械键盘
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/%E7%BD%91%E7%BA%BF%E6%8E%A5%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网线接法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/%E8%81%94%E9%80%9A%E5%85%89%E7%8C%AB%E8%AE%BE%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    联通光猫设置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11" >
        
          
          <label class="md-nav__link" for="__nav_10_11" id="__nav_10_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Grub&UEFI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11">
            <span class="md-nav__icon md-icon"></span>
            Grub&UEFI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/Grub%26UEFI/GRUB%E3%80%81UEFI%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UEFI 与 GRUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%88%E7%8E%87%E6%8A%80%E5%B7%A7/Grub%26UEFI/WindowsPE%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WindowsPE 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    教育
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            教育
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%99%E8%82%B2/%E5%B0%8F%E8%BE%BE%E4%BA%BA%E7%82%B9%E8%AF%BB%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    点读机
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%99%E8%82%B2/%E6%8B%9B%E7%94%9F%E4%BF%A1%E6%81%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    招生信息
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%99%E8%82%B2/%E6%95%99%E8%82%B2%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    教育笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    生活
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            生活
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E4%B8%AA%E4%BA%BA%E6%89%80%E5%BE%97%E7%A8%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    个人所得税
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E4%B8%AD%E8%8D%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中药
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E4%BF%9D%E9%99%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    保险
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E5%8A%9E%E4%BA%8B%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    办事指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E5%AD%97%E4%BD%93%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字体使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E5%B9%B3%E6%9D%83%E4%B9%8B%E8%B7%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    平权之路
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    感想
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%88%BF%E4%BA%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    房产
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%88%BF%E5%B1%8B%E9%AA%8C%E6%94%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    房屋验收
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%AF%9B%E9%80%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    毛选读书笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%B1%BD%E8%BD%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    汽车
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E7%94%9F%E6%B4%BB%E7%BC%B4%E8%B4%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    生活缴费
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E7%98%A6%E8%BA%AB%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    瘦身计划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E7%A4%BE%E4%BF%9D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    社保
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记本电脑
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E7%BD%91%E5%9D%80%E6%94%B6%E8%97%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网址收藏
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E8%A3%85%E4%BF%AE%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    装修指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E9%9A%8F%E7%AC%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    随笔
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_19" >
        
          
          <label class="md-nav__link" for="__nav_12_19" id="__nav_12_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    投资
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_19">
            <span class="md-nav__icon md-icon"></span>
            投资
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%8A%95%E8%B5%84/%E6%8A%95%E8%B5%84-%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    投资知识
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%8A%95%E8%B5%84/%E6%8A%95%E8%B5%84-%E7%AC%94%E8%AE%B0-01-%E5%AE%8F%E8%A7%82%E5%B8%82%E5%9C%BA%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    投资笔记之宏观市场分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%8A%95%E8%B5%84/%E6%8A%95%E8%B5%84-%E7%AC%94%E8%AE%B0-02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    投资笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%8A%95%E8%B5%84/%E6%8A%95%E8%B5%84-%E7%AC%94%E8%AE%B0-03-%E6%8C%87%E6%95%B0%E5%9F%BA%E9%87%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    指数基金
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB/%E6%8A%95%E8%B5%84/%E6%8A%95%E8%B5%84-%E8%82%A1%E7%A5%A8%E4%BD%A3%E9%87%91%E8%B4%B9%E7%8E%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A 股佣金费率
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    网络
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/GitBook%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GItBook 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Hexo%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hexo+Github Page 搭建静态博客
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Markdown%E4%B8%AD%E6%96%87%E6%8E%92%E7%89%88%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中文排版指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Markdown%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown 写作笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Markdown%E8%AF%AD%E6%B3%95%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown 语法指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Nodejs%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node.js 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Pelican%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pelican 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/Readthedocs%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ReadtheDocs 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/WordPress%E8%BD%ACMarkdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WordPress 转 Markdown
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/mkdocs%E6%8C%87%E5%8D%97-01-%E5%88%9B%E5%BB%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    使用 mkdocs 创建在线文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/mkdocs%E6%8C%87%E5%8D%97-02-%E5%8F%91%E5%B8%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    在线文档发布
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/mkdocs%E6%8C%87%E5%8D%97-03-%E8%87%AA%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    自定义
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/%E5%9F%9F%E5%90%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    域名
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/%E5%AE%B6%E5%BA%AD%E7%BB%84%E7%BD%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    家庭组网
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%BB%9C/%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网页开发
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cockpit" class="md-nav__link">
    <span class="md-ellipsis">
      安装 cockpit 管理面板
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sudo" class="md-nav__link">
    <span class="md-ellipsis">
      sudo 权限
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sudo 权限">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sudo_1" class="md-nav__link">
    <span class="md-ellipsis">
      脚本中使用 sudo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux_1" class="md-nav__link">
    <span class="md-ellipsis">
      linux 目录与文件的权限
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      发送邮件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="发送邮件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#s-nails-mailx" class="md-nav__link">
    <span class="md-ellipsis">
      使用 S-nail(S-mailx)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msmtp" class="md-nav__link">
    <span class="md-ellipsis">
      使用 msmtp（不推荐）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    <span class="md-ellipsis">
      Systemd 服务管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Systemd 服务管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      启动耗时分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      服务编写
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit" class="md-nav__link">
    <span class="md-ellipsis">
      Unit 管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      日志管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      持久化存储日志
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      创建服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target" class="md-nav__link">
    <span class="md-ellipsis">
      启动 target
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      软件包管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="软件包管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apt" class="md-nav__link">
    <span class="md-ellipsis">
      APT 常用命令
    </span>
  </a>
  
    <nav class="md-nav" aria-label="APT 常用命令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apt_1" class="md-nav__link">
    <span class="md-ellipsis">
      APT 命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-cache" class="md-nav__link">
    <span class="md-ellipsis">
      apt-cache 命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-get" class="md-nav__link">
    <span class="md-ellipsis">
      apt-get 命令
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-pinning" class="md-nav__link">
    <span class="md-ellipsis">
      APT Pinning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt_2" class="md-nav__link">
    <span class="md-ellipsis">
      APT 自动更新
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      安装软件组合
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-upgrade-dist-upgrade" class="md-nav__link">
    <span class="md-ellipsis">
      apt upgrade 与 dist-upgrade 对比
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snap" class="md-nav__link">
    <span class="md-ellipsis">
      snap 命令
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grub" class="md-nav__link">
    <span class="md-ellipsis">
      GRUB 管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GRUB 管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      修改默认启动项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grub_1" class="md-nav__link">
    <span class="md-ellipsis">
      修改 GRUB 启动等待时间
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      磁盘管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="磁盘管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      自动挂载
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      挂载参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trim" class="md-nav__link">
    <span class="md-ellipsis">
      检验 TRIM 支持
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trim_1" class="md-nav__link">
    <span class="md-ellipsis">
      通过挂载参数启用 TRIM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      按需挂载
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udev" class="md-nav__link">
    <span class="md-ellipsis">
      udev 热插拔
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      磁盘加密
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      创建分区
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart" class="md-nav__link">
    <span class="md-ellipsis">
      SMART 监测
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      硬盘休眠
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      用户、组管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用户、组管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      批量修改用户密码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      远程访问
    </span>
  </a>
  
    <nav class="md-nav" aria-label="远程访问">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh" class="md-nav__link">
    <span class="md-ellipsis">
      SSH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sftp" class="md-nav__link">
    <span class="md-ellipsis">
      SFTP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令
    </span>
  </a>
  
    <nav class="md-nav" aria-label="常用命令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ntp" class="md-nav__link">
    <span class="md-ellipsis">
      NTP 时间同步
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      计划任务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#man" class="md-nav__link">
    <span class="md-ellipsis">
      中文 man
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="linux">Linux 系统管理</h1>
<p>参考：<a href="https://itboon.github.io/linux-20/">Linux 二零</a></p>
<h2 id="cockpit">安装 cockpit 管理面板</h2>
<p>Debian 下安装</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>cockpit
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># 安装磁盘管理插件</span>
</code></pre></div>
<h2 id="sudo">sudo 权限</h2>
<p>参考：<a href="https://man.linuxde.net/sudo">https://man.linuxde.net/sudo</a></p>
<p><strong>sudo 命令</strong> 用来以其他身份来执行命令，预设的身份为 root。在<code>/etc/sudoers</code>中设置了可执行 sudo 指令的用户。若其未经授权的用户企图使用 sudo，则会发出警告的邮件给管理员。用户使用 sudo 时，必须先输入密码，之后有 5 分钟的有效期限，超过期限则必须重新输入密码。</p>
<p>配置 sudo 必须通过编辑<code>/etc/sudoers</code>文件，而且只有超级用户才可以修改它，还必须使用 visudo 编辑。之所以使用 visudo 有两个原因，一是它能够防止两个用户同时修改它；二是它也能进行有限的语法检查。所以，即使只有你一个超级用户，你也最好用 visudo 来检查一下语法。</p>
<p>其实一般来说，根本不用修改 <code>/etc/sudoers</code>文件，只用在 <code>/etc/sudoers.d/</code> 目录中新创建文件即可。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo<span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;/^#/d;/^$/d&#39;</span><span class="w"> </span>/etc/sudoers
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># 显示如下：</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># Defaults env_reset 表示默认会将环境变量重置为 secure_path，这样你定义的变量在 sudo 环境就会失效，获取不到。</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>Defaults<span class="w">        </span>env_reset
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>Defaults<span class="w">        </span>mail_badpass
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1"># secure_path 的路径</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>Defaults<span class="w">        </span><span class="nv">secure_path</span><span class="o">=</span><span class="s2">&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>root<span class="w">    </span><span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span><span class="w"> </span>ALL
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>%sudo<span class="w">   </span><span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span><span class="w"> </span>ALL
</code></pre></div>
<p>注意：直接使用 sudo 命令与 sudo 执行脚本效果不一样。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$PATH</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1"># 显示如下：</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>/home/kevin/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>sudo<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$HOME</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1"># 显示如下：</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>/home/kevin
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>sudo<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="k">$(</span>whoami<span class="k">)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c1"># 显示如下：</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>kevin
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>sudo<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$SUDO_USER</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># 显示为空</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="c1"># 创建一个脚本 ~/test.sh。</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>~/test.sh
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c1">#!/usr/bin/env bash</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;我的家目录在： </span><span class="nv">$HOME</span><span class="s2">&quot;</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;我是谁：</span><span class="k">$(</span>whoami<span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;\$SUDO_USER 变量是：</span><span class="nv">$SUDO_USER</span><span class="s2">&quot;</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>EOF
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="c1"># 以 sudo 执行</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>sudo<span class="w"> </span>bash<span class="w"> </span>~/test.sh
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="c1"># 显示如下：</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>我的家目录在：<span class="w"> </span>/root
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>我是谁：root
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="nv">$SUDO_USER变量是</span>：kevin
</code></pre></div>
<h3 id="sudo_1">脚本中使用 sudo</h3>
<p>参考：<a href="https://cloud.tencent.com/developer/article/1721853">https://cloud.tencent.com/developer/article/1721853</a></p>
<p>最好是使用 sudo 命令运行脚本。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>sudo<span class="w"> </span>bash<span class="w"> </span>./test.sh
</code></pre></div>
<p>然后在脚本中判断是否使用了 sudo 执行的脚本，如果不是就停止执行并报出错误。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="k">$(</span>whoami<span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;请使用 sudo 执行此脚本！&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span>
</code></pre></div>
<h2 id="linux_1">linux 目录与文件的权限</h2>
<p>参考：<a href="https://www.cnblogs.com/chengjian-physique/p/8878410.html">Linux 中权限 (r、w、x) 对于目录与文件的意义</a></p>
<p>Linux 中权限 (r、w、x) 对于目录与文件的意义</p>
<table>
<thead>
<tr>
<th style="text-align: center;">权限</th>
<th style="text-align: center;">r（4）</th>
<th style="text-align: center;">w（2）</th>
<th style="text-align: center;">w（1）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">目录</td>
<td style="text-align: center;">可以查看目录下的文件名和子目录名，注意：仅仅指的是名字。</td>
<td style="text-align: center;">更改该目录结构列表的权限。</td>
<td style="text-align: center;">可以进入该目录成为工作目录。</td>
</tr>
<tr>
<td style="text-align: center;">文件</td>
<td style="text-align: center;">可以读取此文件的实际内容。</td>
<td style="text-align: center;">表示可以编辑、添加或者是修改该文件的内容。但是不包含删除该文件。</td>
<td style="text-align: center;">表示该文件具有可以被系统执行的权限。</td>
</tr>
</tbody>
</table>
<p>一、权限对于目录的意义</p>
<p>1、首先要明白的是目录主要的内容是记录文件名列表和子目录列表，而不是实际存放数据的地方。</p>
<p>2、r 权限：拥有此权限表示可以读取目录结构列表，也就是说可以查看目录下的文件名和子目录名，注意：仅仅指的是名字。</p>
<p>3、w 权限：拥有此权限表示具有更改该目录结构列表的权限，总之，目录的 w 权限与该目录下的文件名或子目录名的变动有关，注意：指的是名字。具体如下：</p>
<p>1）在该目录下新建新的文件或子目录。</p>
<p>2）删除该目录下已经存在的文件或子目录（不论该文件或子目录的权限如何），注意：这点很重要，用户能否删除一个文件或目录，看的是该用户是否具有该文件或目录所在的目录的 w 权限。</p>
<p>3）将该目录下已经存在的文件或子目录进行重命名。</p>
<p>4）转移该目录内的文件或子目录的位置。</p>
<p>4、x 权限：拥有目录的 x 权限表示用户可以进入该目录成为工作目录，能不能进入一个目录，只与该目录的 x 权限有关，如果用户对于某个目录不具有 x 权限，则无法切换到该目录下，也就无法执行该目录下的任何命令，即使具有该目录的 r 权限。且如果用户对于某目录不具有 x 权限，则该用户不能查询该目录下的文件的内容，注意：指的是内容，如果有 r 权限是可以查看该目录下的文件名列表或子目录列表的。所以要开放目录给任何人浏览时，应该至少要给与 r 及 x 权限。</p>
<p>二、权限对于文件的意义</p>
<p>1、也应该明白的是文件是实际含有数据的地方，所以 r、w、x 权限对文件来说是与其内容有关的。</p>
<p>2、r 权限：用于此权限表示可以读取此文件的实际内容。</p>
<p>3、w 权限：拥有此权限表示可以编辑、添加或者是修改该文件的内容。但是不包含删除该文件，因为由上面权限对于目录的意义得知删除文件或目录的条件是什么。</p>
<p>4、x 权限：表示该文件具有可以被系统执行的权限。文件是否能被执行就是由该权限来决定的，跟文件名没有绝对的关系。</p>
<p>修改命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">777</span><span class="w"> </span>~/dir
</code></pre></div>
<h2 id="_1">发送邮件</h2>
<h3 id="s-nails-mailx">使用 S-nail(S-mailx)</h3>
<p>参考：<a href="https://wiki.archlinux.org/index.php/S-nail">https://wiki.archlinux.org/index.php/S-nail</a></p>
<p>软件主页：<a href="https://www.sdaoden.eu/code.html">https://www.sdaoden.eu/code.html</a></p>
<p><a href="https://manpages.debian.org/buster/s-nail/s-nail.1.en.html">https://manpages.debian.org/buster/s-nail/s-nail.1.en.html</a></p>
<p>推荐使用 <code>s-nail</code> ，可以提供完整的 <code>mail</code> 命令，自身就可以配置连接外部的 smtp 服务器、imap 服务器，不依赖其它 MTA 程序，非常的强大。如果是 <code>bsd-mailx</code> ，还得配置额外 MTA。</p>
<p>s-nail 全局配置文件<code>/etc/s-nail.rc</code>，用户配置文件<code>~/.mailrc</code>。配置用户文件记得<code>chmod 600</code>配置权限。</p>
<p>s-nail 会在 2020 年版本升级为 15.0，名字更改为 s-mailx，所以需要<code>set v15-compat</code>，这真是个奇葩的设定。</p>
<p>从 ini 文件中读取参数，参考：<a href="https://blog.csdn.net/mightbxg/article/details/79121775">https://blog.csdn.net/mightbxg/article/details/79121775</a></p>
<p>最重要的参数就是要使用<code>smtps://</code>协议，就可以全程使用<code>TLS</code>，即使设置<code>smtp-use-starttls</code>参数也会被忽略。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>s-nail
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>man<span class="w"> </span>s-nail<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>tls
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">#-------------------------------------------</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/usr/bin/s-nail<span class="w"> </span>/usr/bin/mail
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/s-nail.rc.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/s-nail.rc<span class="w"> </span>/etc/s-nail.rc.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nv">from_address</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span>from_address<span class="k">)</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nv">from_address_url_encode</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$from_address</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/@/%40/g&#39;</span><span class="k">)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$from_address_url_encode</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="nv">to_address</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span>to_address<span class="k">)</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="nv">pwd_encoded</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span><span class="nb">pwd</span><span class="k">)</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="nv">pwd</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$pwd_encoded</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d<span class="w"> </span>-<span class="k">)</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$pwd</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="k">if</span><span class="w"> </span>!<span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;兼容&quot;</span><span class="w"> </span>/etc/s-nail.rc<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="c1">#-------------------------------------------</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="c1"># 这一段代码有问题，暂时还解决不了</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee -a /etc/s-nail.rc</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="s"># 兼容 15.0 版</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="s">set v15-compat</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="s"># 仅支持 url encoded 字符，所以 @ 要转义为 %40</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="s">set mta=smtps://${from_address_url_encode}:${pwd}@smtp.qq.com:465 smtp-auth=login</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="s">set from=&quot;kisa757 &lt;${from_address}&gt;&quot;</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="s">set mime-encoding=&quot;base64&quot;</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="s">EOF</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="k">else</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;已经设置过/etc/s-nail.rc，无需重复设置！&quot;</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="k">fi</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="c1">#-------------------------------------------</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="c1"># 测试发送邮件 -vv 显示详情</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;正文&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>mail<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;测试邮件&quot;</span><span class="w"> </span>-vv<span class="w"> </span><span class="nv">$to_address</span>
</code></pre></div>
<p>也可以不对 s-nail 进行任何配置，而是调用 sendmail 命令。</p>
<h3 id="msmtp">使用 msmtp（不推荐）</h3>
<p>也可以使用 msmtp，但 msmtp 只能提供兼容 <code>sendmail</code> 的命令，无法提供 <code>mail</code> 命令。</p>
<p>参考：<a href="https://wiki.archlinux.org/index.php/Msmtp">https://wiki.archlinux.org/index.php/Msmtp</a></p>
<p><a href="https://marlam.de/msmtp/msmtp.html">https://marlam.de/msmtp/msmtp.html</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># ssmtp 没有人维护了。</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1"># mailutils 试了不行。</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1"># bsd-mailx 还得 sudo dpkg-reconfigure exim4-config 配置后才能使用。</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># msmtp-mta 包含 systemd 后台常驻提供 smtp 服务，软连接至 sendmail，所以没必要安装</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>msmtp<span class="w"> </span>-y
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1"># 查看服务器的信息，查看端口号</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>msmtp<span class="w"> </span>--serverinfo<span class="w"> </span>--tls<span class="w"> </span>--tls-certcheck<span class="o">=</span>off<span class="w"> </span>--host<span class="o">=</span>smtp.qq.com
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="c1"># 配置如下</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nv">from_address</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span>from_address<span class="k">)</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="nv">to_address</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span>to_address<span class="k">)</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="nv">pwd_encoded</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span><span class="nb">pwd</span><span class="k">)</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="nv">pwd</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$pwd_encoded</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d<span class="w"> </span>-<span class="k">)</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee /etc/msmtprc</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="s"># Set default values for all following accounts.</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="s">defaults</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="s">tls on</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="s"># The SMTP server of the provider.</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="s">account qqmail</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="s">host smtp.qq.com</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="s">port 465</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="s">auth on</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="s"># 强制使用 tls，不使用 tls_starttls</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="s">tls_starttls off</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="s">from $from_address</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="s">user $from_address</span>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="s">password $pwd</span>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="s"># Set a default account</span>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="s">account default : qqmail</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="s">EOF</span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="c1"># 创建 sendmail 的软连接。</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/usr/bin/msmtp<span class="w"> </span>/usr/sbin/sendmail
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="c1"># debug 参数发送邮件测试。</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;subject: 测试邮件 \n\n 这是正文&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>msmtp<span class="w"> </span>-d<span class="w"> </span><span class="nv">$to_address</span>
</code></pre></div>
<h2 id="systemd">Systemd 服务管理</h2>
<p>LinuxMint 默认采用 systemd 管理服务，Systemd 是 Linux 系统工具，用来启动<a href="http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html">守护进程</a>，已成为大多数发行版的标准配置。</p>
<p>参考：</p>
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html">http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html">http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2018/03/systemd-timer.html">http://www.ruanyifeng.com/blog/2018/03/systemd-timer.html</a></li>
<li><a href="http://linux.vbird.org/linux_basic/0560daemons.php">http://linux.vbird.org/linux_basic/0560daemons.php</a></li>
<li><a href="https://linux.cn/article-9700-1.html">https://linux.cn/article-9700-1.html</a></li>
<li><a href="https://linux.cn/article-10182-1.html">https://linux.cn/article-10182-1.html</a></li>
<li><a href="https://www.hi-linux.com/posts/3761.html">https://www.hi-linux.com/posts/3761.html</a></li>
</ul>
<p>历史上，Linux 的启动一直采用 <code>init</code> 进程。下面的命令用来启动服务。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>sudo<span class="w"> </span>/etc/init.d/apache2<span class="w"> </span>start
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1"># 或者</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>service<span class="w"> </span>apache2<span class="w"> </span>start
</code></pre></div>
<p>使用了 Systemd，就不需要再用<code>init</code>了。Systemd 取代了<code>initd</code>，成为系统的第一个进程（PID 等于 1），其他进程都是它的子进程。</p>
<p>Systemd 的优点是功能强大，使用方便，缺点是体系庞大，非常复杂。事实上，现在还有很多人反对使用 Systemd，理由就是它过于复杂，与操作系统的其他部分强耦合，违反"keep simple, keep stupid"的 Unix 哲学。</p>
<h3 id="_2">常用命令</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># 查看 Systemd 的版本。</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>systemctl<span class="w"> </span>--version
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1"># 不加任何参数，显示所有的服务</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>systemctl
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c1"># 查找指定的服务（在名称、描述中）</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>systemctl<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;samba&quot;</span>
</code></pre></div>
<h3 id="_3">启动耗时分析</h3>
<p><code>systemd-analyze</code> 命令用于查看启动耗时。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># 查看启动耗时</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>systemd-analyze
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="c1"># 查看每个服务的启动耗时</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>systemd-analyze<span class="w"> </span>blame
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="c1"># 显示瀑布状的启动过程流</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>systemd-analyze<span class="w"> </span>critical-chain
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1"># 显示指定服务的启动流</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>systemd-analyze<span class="w"> </span>critical-chain<span class="w"> </span>atd.service
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="c1"># 列出正在运行的 Unit</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>systemctl<span class="w"> </span>list-units
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="c1"># 列出所有 Unit，包括没有找到配置文件的或者启动失败的</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>$<span class="w"> </span>systemctl<span class="w"> </span>list-units<span class="w"> </span>--all
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="c1"># 列出所有没有运行的 Unit</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>$<span class="w"> </span>systemctl<span class="w"> </span>list-units<span class="w"> </span>--all<span class="w"> </span>--state<span class="o">=</span>inactive
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="c1"># 列出所有加载失败的 Unit</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>$<span class="w"> </span>systemctl<span class="w"> </span>list-units<span class="w"> </span>--failed
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="c1"># 列出所有正在运行的、类型为 service 的 Unit</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>$<span class="w"> </span>systemctl<span class="w"> </span>list-units<span class="w"> </span>--type<span class="o">=</span>service
</code></pre></div>
<h3 id="_4">服务编写</h3>
<p>参考：<a href="http://www.jinbuguo.com/systemd/systemd.unit.html">http://www.jinbuguo.com/systemd/systemd.unit.html</a></p>
<p><a href="https://www.junmajinlong.com/linux/systemd/service_1/">systemd service 之：服务配置文件编写 (1)</a></p>
<p>在许多选项中都可以使用一些替换符 (不只是 [Install] 小节中的选项)，以引用一些运行时才能确定的值，从而可以写出更通用的单元文件。替换符必须是已知的、并且是可以解析的，这样设置才能生效。当前可识别的所有替换符及其解释如下：</p>
<p>表 4. 可以用在单元文件中的替换符</p>
<table>
<thead>
<tr>
<th style="text-align: center;">替换符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">%h</td>
<td>用户的家目录。运行 systemd 实例的用户的家目录，对于系统实例则是 "<code>/root</code>"</td>
</tr>
</tbody>
</table>
<h3 id="unit">Unit 管理</h3>
<p>systemd 有许多命令，常用的命令如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># 查看服务状态</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>systemctl<span class="w"> </span>status<span class="w"> </span>smbd.service
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1"># 立即启动一个服务</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>smbd.service
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1"># 立即停止一个服务</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>smbd.service
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1"># 重启一个服务</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>smbd.service
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="c1"># 杀死一个服务的所有子进程</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>smbd.service
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="c1"># 重新加载一个服务的配置文件</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>smbd.service
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="c1"># 一旦修改配置文件（*.service、*.timer 等文件），就要让 SystemD 重新加载配置文件，然后重新启动，否则修改不会生效。</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="c1"># 重载所有修改过的配置文件</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="c1"># 启用/禁用开机启动一个服务</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>smbd.service
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>disable<span class="w"> </span>smbd.service
</code></pre></div>
<h3 id="_5">日志管理</h3>
<p>Systemd 统一管理所有 Unit 的启动日志。带来的好处就是，可以只用<code>journalctl</code>一个命令，查看所有日志（内核日志和应用日志）。日志的配置文件是<code>/etc/systemd/journald.conf</code>。</p>
<p>参考：</p>
<ul>
<li><a href="http://www.jinbuguo.com/systemd/journalctl.html">http://www.jinbuguo.com/systemd/journalctl.html</a></li>
<li><a href="http://www.jinbuguo.com/systemd/journald.conf.html">http://www.jinbuguo.com/systemd/journald.conf.html</a></li>
</ul>
<p>大部分的配置都能通过 <code>journalctl</code> 命令实现，不需要直接修改配置文件。 <code>journalctl</code> 功能强大，用法非常多。</p>
<p>Debian 下，默认普通用户没有在 <code>systemd-journal</code>组，需要使用 sudo。或添加当前用户至 <code>systemd-journal</code> 组，重新登录后生效，不使用 sudo 就可以使用 journalctl 命令。</p>
<blockquote>
<p>每个用户都可以访问其专属的用户日志。但是默认情况下，只有 root 用户以及 "systemd-journal", "adm", "wheel" 组中的用户才可以访问全部的日志 (系统与其他用户)。注意，一般发行版还会给 "adm" 与 "wheel" 组一些其他额外的特权。例如 "wheel" 组的用户一般都可以执行一些系统管理任务。</p>
</blockquote>
<p>参考：</p>
<ul>
<li><a href="https://www.cnblogs.com/jackyyou/p/5498083.html">https://www.cnblogs.com/jackyyou/p/5498083.html</a></li>
<li><a href="https://www.linuxprobe.com/chapter-05.html">https://www.linuxprobe.com/chapter-05.html</a></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>sudo<span class="w"> </span>adduser<span class="w"> </span><span class="nv">$USER</span><span class="w"> </span>adm
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>-G<span class="w"> </span>systemd-journal<span class="w"> </span>-a<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1"># 或是</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>sudo<span class="w"> </span>gpasswd<span class="w"> </span>-a<span class="w"> </span><span class="nv">$USER</span><span class="w"> </span>systemd-journal
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1"># 从组中删除用户</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>sudo<span class="w"> </span>gpasswd<span class="w"> </span>-d<span class="w"> </span><span class="nv">$USER</span><span class="w"> </span>systemd-journal
</code></pre></div>
<p>常用命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># 查看所有日志（默认情况下，只保存本次启动的日志）</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>sudo<span class="w"> </span>journalctl
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="c1"># 查看内核日志（不显示应用日志）</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-k
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="c1"># 查看系统本次启动的日志</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-b
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-b<span class="w"> </span>-0
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1"># 查看上一次启动的日志（需更改设置）</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-b<span class="w"> </span>-1
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="c1"># 查看指定时间的日志</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>--since<span class="o">=</span><span class="s2">&quot;2012-10-30 18:17:16&quot;</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>--since<span class="w"> </span><span class="s2">&quot;20 min ago&quot;</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>--since<span class="w"> </span>yesterday
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>--since<span class="w"> </span><span class="s2">&quot;2015-01-10&quot;</span><span class="w"> </span>--until<span class="w"> </span><span class="s2">&quot;2015-01-11 03:00&quot;</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>--since<span class="w"> </span><span class="m">09</span>:00<span class="w"> </span>--until<span class="w"> </span><span class="s2">&quot;1 hour ago&quot;</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="c1"># 显示尾部的最新 10 行日志</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-n
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="c1"># 显示尾部指定行数的日志</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-n<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="c1"># 实时滚动显示最新日志</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-f
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="c1"># 查看指定服务的日志</span>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>/usr/lib/systemd/systemd
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a>
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="c1"># 查看指定进程的日志</span>
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span><span class="nv">_PID</span><span class="o">=</span><span class="m">1</span>
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a>
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="c1"># 查看某个路径的脚本的日志</span>
<a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>/usr/bin/bash
<a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a>
<a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="c1"># 查看指定用户的日志</span>
<a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span><span class="nv">_UID</span><span class="o">=</span><span class="m">33</span><span class="w"> </span>--since<span class="w"> </span>today
<a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a>
<a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="c1"># 查看某个 Unit 的日志</span>
<a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service
<a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service<span class="w"> </span>--since<span class="w"> </span>today
<a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a>
<a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a><span class="c1"># 实时滚动显示某个 Unit 的最新日志</span>
<a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service<span class="w"> </span>-f
<a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a>
<a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a><span class="c1"># 合并显示多个 Unit 的日志</span>
<a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a>$<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service<span class="w"> </span>-u<span class="w"> </span>php-fpm.service<span class="w"> </span>--since<span class="w"> </span>today
<a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a>
<a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a><span class="c1"># 查看指定优先级（及其以上级别）的日志，共有 8 级</span>
<a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a><span class="c1"># 0: emerg</span>
<a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a><span class="c1"># 1: alert</span>
<a id="__codelineno-13-52" name="__codelineno-13-52" href="#__codelineno-13-52"></a><span class="c1"># 2: crit</span>
<a id="__codelineno-13-53" name="__codelineno-13-53" href="#__codelineno-13-53"></a><span class="c1"># 3: err</span>
<a id="__codelineno-13-54" name="__codelineno-13-54" href="#__codelineno-13-54"></a><span class="c1"># 4: warning</span>
<a id="__codelineno-13-55" name="__codelineno-13-55" href="#__codelineno-13-55"></a><span class="c1"># 5: notice</span>
<a id="__codelineno-13-56" name="__codelineno-13-56" href="#__codelineno-13-56"></a><span class="c1"># 6: info</span>
<a id="__codelineno-13-57" name="__codelineno-13-57" href="#__codelineno-13-57"></a><span class="c1"># 7: debug</span>
<a id="__codelineno-13-58" name="__codelineno-13-58" href="#__codelineno-13-58"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-p<span class="w"> </span>err<span class="w"> </span>-b
<a id="__codelineno-13-59" name="__codelineno-13-59" href="#__codelineno-13-59"></a>
<a id="__codelineno-13-60" name="__codelineno-13-60" href="#__codelineno-13-60"></a><span class="c1"># 日志默认分页输出，--no-pager 改为正常的标准输出</span>
<a id="__codelineno-13-61" name="__codelineno-13-61" href="#__codelineno-13-61"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>--no-pager
<a id="__codelineno-13-62" name="__codelineno-13-62" href="#__codelineno-13-62"></a>
<a id="__codelineno-13-63" name="__codelineno-13-63" href="#__codelineno-13-63"></a><span class="c1"># 以 JSON 格式（单行）输出</span>
<a id="__codelineno-13-64" name="__codelineno-13-64" href="#__codelineno-13-64"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-b<span class="w"> </span>-u<span class="w"> </span>nginx.service<span class="w"> </span>-o<span class="w"> </span>json
<a id="__codelineno-13-65" name="__codelineno-13-65" href="#__codelineno-13-65"></a>
<a id="__codelineno-13-66" name="__codelineno-13-66" href="#__codelineno-13-66"></a><span class="c1"># 以 JSON 格式（多行）输出，可读性更好</span>
<a id="__codelineno-13-67" name="__codelineno-13-67" href="#__codelineno-13-67"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-b<span class="w"> </span>-u<span class="w"> </span>nginx.serviceqq<span class="w"> </span>-o<span class="w"> </span>json-pretty
<a id="__codelineno-13-68" name="__codelineno-13-68" href="#__codelineno-13-68"></a>
<a id="__codelineno-13-69" name="__codelineno-13-69" href="#__codelineno-13-69"></a><span class="c1"># 显示日志占据的硬盘空间</span>
<a id="__codelineno-13-70" name="__codelineno-13-70" href="#__codelineno-13-70"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>--disk-usage
<a id="__codelineno-13-71" name="__codelineno-13-71" href="#__codelineno-13-71"></a>
<a id="__codelineno-13-72" name="__codelineno-13-72" href="#__codelineno-13-72"></a><span class="c1"># 指定日志文件占据的最大空间</span>
<a id="__codelineno-13-73" name="__codelineno-13-73" href="#__codelineno-13-73"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>--vacuum-size<span class="o">=</span>1G
<a id="__codelineno-13-74" name="__codelineno-13-74" href="#__codelineno-13-74"></a>
<a id="__codelineno-13-75" name="__codelineno-13-75" href="#__codelineno-13-75"></a><span class="c1"># 指定日志文件保存多久</span>
<a id="__codelineno-13-76" name="__codelineno-13-76" href="#__codelineno-13-76"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>--vacuum-time<span class="o">=</span>1years
<a id="__codelineno-13-77" name="__codelineno-13-77" href="#__codelineno-13-77"></a><span class="c1"># 重启日志服务</span>
<a id="__codelineno-13-78" name="__codelineno-13-78" href="#__codelineno-13-78"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>systemd-journald.service
</code></pre></div>
<h3 id="_6">持久化存储日志</h3>
<p>参考：<a href="https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs">https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs</a></p>
<p><a href="http://www.jinbuguo.com/systemd/journald.conf.html">http://www.jinbuguo.com/systemd/journald.conf.html</a></p>
<p>Debian、Rasbian 默认只保存本次启动的日志，也就是仅临时保存在 <code>/run/log/journal</code> 目录中 (将会被自动按需创建)，重启后日志都会被丢弃。</p>
<p>Ubuntu 默认持久存储日志。保存在 <code>/var/log/journal</code> 目录中，因为系统已经自动创建了该目录。</p>
<p>主配置文件：<code>/etc/systemd/journald.conf</code>，所有选项都位于 "<code>[Journal]</code>" 小节：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="na">Storage</span><span class="o">=</span><span class="s">auto</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1"># 在哪里存储日志文件，默认值是 &quot;auto&quot;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="c1"># &quot;persistent&quot; 表示优先保存在磁盘上，也就优先保存在 /var/log/journal 目录中 (将会被自动按需创建)，但若失败 (例如在系统启动早期&quot;/var&quot;尚未挂载)，则转而保存在 /run/log/journal 目录中 (将会被自动按需创建)。</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="c1"># &quot;auto&quot;(默认值) 与 &quot;persistent&quot; 类似，但不自动创建 /var/log/journal 目录，因此可以根据该目录的存在与否决定日志的保存位置。</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1"># &quot;volatile&quot; 表示仅保存在内存中，也就是仅保存在 /run/log/journal 目录中 (将会被自动按需创建)，重启后消失。</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c1"># &quot;none&quot; 表示不保存任何日志 (直接丢弃所有收集到的日志)，但日志转发 (见下文) 不受影响。</span>
</code></pre></div>
<p>因此，要想持久化存储日志，只需手动创建  <code>/var/log/journal</code> 目录。或是修改 <code>Storage=persistent</code> 。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># 持久化存储日志</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/log/journal
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1"># 限制日志容量</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/systemd/journald.conf.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/systemd/journald.conf<span class="w"> </span>/etc/systemd/journald.conf.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/systemd/journald.conf
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="o">[</span>Journal<span class="o">]</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="nv">Storage</span><span class="o">=</span>persistent
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="c1"># 默认值&quot;yes&quot;表示 压缩存储大于特定阈值 (默认为 512 字节) 的对象。也可以直接设置一个 字节值 (可以带有 K, M, G 后缀) 表示的阈值，表示压缩存储 大于指定阈值的对象。</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="nv">Compress</span><span class="o">=</span>yes
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="c1"># 限制日志文件的大小上限为 500M。以 &quot;System&quot; 开头的选项用于限制磁盘使用量，也就是 /var/log/journal 的使用量。</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="nv">SystemMaxUse</span><span class="o">=</span>500M
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>EOF
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>systemd-journald.service
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="c1"># 查看日志磁盘占用情况。</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>journalctl<span class="w"> </span>--disk-usage
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="c1"># 查看日志服务的情况。</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>journalctl<span class="w"> </span>-u<span class="w"> </span>systemd-journald.service
</code></pre></div>
<h3 id="_7">创建服务</h3>
<p>参考：<a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html">http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html</a></p>
<p><code>systemctl cat</code>命令可以用来查看配置文件，下面以<code>sshd.service</code>文件为例，它的作用是启动一个 SSH 服务器，供其他用户以 SSH 方式登录。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="na">$ systemctl cat sshd.service</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="k">[Unit]</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="na">Description</span><span class="o">=</span><span class="s">OpenSSH server daemon</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="na">Documentation</span><span class="o">=</span><span class="s">man:sshd(8) man:sshd_config(5)</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="na">After</span><span class="o">=</span><span class="s">network.target sshd-keygen.service</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="na">Wants</span><span class="o">=</span><span class="s">sshd-keygen.service</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="k">[Service]</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="na">EnvironmentFile</span><span class="o">=</span><span class="s">/etc/sysconfig/sshd</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/sbin/sshd -D $OPTIONS</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="na">ExecReload</span><span class="o">=</span><span class="s">/bin/kill -HUP $MAINPID</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="na">KillMode</span><span class="o">=</span><span class="s">process</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="na">Restart</span><span class="o">=</span><span class="s">on-failure</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="na">RestartSec</span><span class="o">=</span><span class="s">42s</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="k">[Install]</span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</code></pre></div>
<p><code>Unit</code>区块的<code>Description</code>字段给出当前服务的简单描述，<code>Documentation</code>字段给出文档位置。</p>
<p>接下来的设置是启动顺序和依赖关系，这个比较重要。</p>
<blockquote>
<p><code>After</code>字段：表示如果<code>network.target</code>或<code>sshd-keygen.service</code>需要启动，那么<code>sshd.service</code>应该在它们之后启动。相应地，还有一个<code>Before</code>字段，定义<code>sshd.service</code>应该在哪些服务之前启动。</p>
</blockquote>
<p>注意，<code>After</code>和<code>Before</code>字段只涉及启动顺序，不涉及依赖关系。举例来说，某 Web 应用需要 postgresql 数据库储存数据。在配置文件中，它只定义要在 postgresql 之后启动，而没有定义依赖 postgresql。上线后，由于某种原因，postgresql 需要重新启动，在停止服务期间，该 Web 应用就会无法建立数据库连接。</p>
<p>设置依赖关系，需要使用<code>Wants</code>字段和<code>Requires</code>字段。</p>
<blockquote>
<p><code>Wants</code> 字段：表示<code>sshd.service</code>与<code>sshd-keygen.service</code>之间存在"弱依赖"关系，即如果"sshd-keygen.service"启动失败或停止运行，不影响<code>sshd.service</code>继续执行。</p>
<p>Requires 字段则表示"强依赖"关系，即如果该服务启动失败或异常退出，那么<code>sshd.service</code>也必须退出。</p>
</blockquote>
<p>注意，<code>Wants</code>字段与<code>Requires</code>字段只涉及依赖关系，与启动顺序无关，默认情况下是同时启动的。</p>
<h3 id="target">启动 target</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># 查看当前系统的所有 Target</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>systemctl<span class="w"> </span>list-unit-files<span class="w"> </span>--type<span class="o">=</span>target
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1"># 查看一个 Target 包含的所有 Unit</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>systemctl<span class="w"> </span>list-dependencies<span class="w"> </span>multi-user.target
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="c1"># 查看启动时的默认 Target</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>systemctl<span class="w"> </span>get-default
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="c1"># 设置启动时的默认 Target，如果没有安装桌面环境，2个效果基本一样。</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="c1"># 多用户，纯文本启动模式</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>set-default<span class="w"> </span>multi-user.target
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="c1"># 图形界面启动模式</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>set-default<span class="w"> </span>graphical.target
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="c1"># 切换 Target 时，默认不关闭前一个 Target 启动的进程，</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="c1"># systemctl isolate 命令改变这种行为，</span>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="c1"># 关闭前一个 Target 里面所有不属于后一个 Target 的进程</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>isolate<span class="w"> </span>multi-user.target
</code></pre></div>
<p>Target 与 传统 RunLevel 的对应关系如下。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Traditional<span class="w"> </span>runlevel<span class="w">      </span>New<span class="w"> </span>target<span class="w"> </span>name<span class="w">     </span>Symbolically<span class="w"> </span>linked<span class="w"> </span>to...
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>Runlevel<span class="w"> </span><span class="m">0</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel0.target<span class="w"> </span>-&gt;<span class="w"> </span>poweroff.target
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>Runlevel<span class="w"> </span><span class="m">1</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel1.target<span class="w"> </span>-&gt;<span class="w"> </span>rescue.target
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>Runlevel<span class="w"> </span><span class="m">2</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel2.target<span class="w"> </span>-&gt;<span class="w"> </span>multi-user.target
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>Runlevel<span class="w"> </span><span class="m">3</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel3.target<span class="w"> </span>-&gt;<span class="w"> </span>multi-user.target
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>Runlevel<span class="w"> </span><span class="m">4</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel4.target<span class="w"> </span>-&gt;<span class="w"> </span>multi-user.target<span class="w"> </span>纯文字界面
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>Runlevel<span class="w"> </span><span class="m">5</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel5.target<span class="w"> </span>-&gt;<span class="w"> </span>graphical.target<span class="w"> </span>图形界面
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>Runlevel<span class="w"> </span><span class="m">6</span><span class="w">           </span><span class="p">|</span><span class="w">    </span>runlevel6.target<span class="w"> </span>-&gt;<span class="w"> </span>reboot.target
</code></pre></div>
<h2 id="_8">软件包管理</h2>
<h3 id="apt">APT 常用命令</h3>
<p>参考：<a href="https://www.debian.org/doc/manuals/debian-reference/ch02.zh-cn.html#_literal_apt_literal_vs_literal_apt_get_literal_literal_apt_cache_literal_vs_literal_aptitude_literal">Debian 参考手册</a></p>
<p>建议用户使用新的 apt(8) 命令用于 <strong>交互式</strong>的使用场景，而在 shell 脚本中使用 apt-get(8) 和 apt-cache(8) 命令。</p>
<p>参考：<a href="https://askubuntu.com/questions/194651/why-use-apt-get-upgrade-instead-of-apt-get-dist-upgrade">https://askubuntu.com/questions/194651/why-use-apt-get-upgrade-instead-of-apt-get-dist-upgrade</a></p>
<h4 id="apt_1">APT 命令</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># 从软件源服务器获取最新的软件信息并缓存到本地。</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c1"># 因为很多 apt 的其他命令都是要通过比对版本信息来进行操作的，如果每次都去对比线上的版本信息效率肯定不理想，也没必要，所以做了一个缓存的机制。</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>apt<span class="w"> </span>update
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c1"># 从本地仓库中对比系统中所有已安装的软件，如果有新版本的话则进行升级</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>apt<span class="w"> </span>upgrade
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1"># apt full-upgrade performs the same function as `apt-get dist-upgrade`.will install or remove packages as necessary to complete the upgrade</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>apt<span class="w"> </span>full-upgrade
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="c1"># 列出本地仓库中所有的软件包名</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>apt<span class="w"> </span>list
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="c1"># 从本地仓库中查找指定的包名，支持通配符，比如&quot;apt list zlib*&quot;就能列出以 zlib 开头的所有包名</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="c1"># 可以看到，如果包名后面带有&quot;[installed]&quot;表示该软件已经安装</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>apt<span class="w"> </span>list<span class="w"> </span><span class="o">[</span>package<span class="o">]</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="c1"># 列出系统中所有已安装的包名</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>apt<span class="w"> </span>list<span class="w"> </span>--installed
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="c1"># 与 list 类似，通过给出的关键字进行搜索，列出所有的包和其描述</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>apt<span class="w"> </span>search<span class="w"> </span><span class="o">[</span>key<span class="o">]</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="c1"># 列出指定包的详细情况，包名要填写完整。</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="c1"># 可以看到非常完整的信息，比如版本、大小、依赖的其他包等。</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>apt<span class="w"> </span>show<span class="w"> </span><span class="o">[</span>package<span class="o">]</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="c1"># 安装指定的包，并同时安装其依赖的其他包。</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>apt<span class="w"> </span>install<span class="w"> </span><span class="o">[</span>package<span class="o">]</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="c1"># 卸载包，但不删除相关配置文件。包名支持通配符</span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>apt<span class="w"> </span>remove<span class="w"> </span><span class="o">[</span>package<span class="o">]</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="c1"># 卸载包，同时删除相关配置文件。包名支持通配符</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>apt<span class="w"> </span>purge<span class="w"> </span><span class="o">[</span>package<span class="o">]</span>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="c1"># 卸载因安装软件自动安装的依赖，而现在又不需要的依赖包 </span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>apt<span class="w"> </span>autoremove
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="c1"># 删除所有已下载的软件包</span>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>apt<span class="w"> </span>clean
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="c1"># 类似 clean，但删除的是过期的包（即已不能下载或者是无用的包）</span>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>apt<span class="w"> </span>autoclean
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a><span class="c1"># 查询依赖</span>
<a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a>apt-cache<span class="w"> </span>depends<span class="w"> </span>libraw-bin
<a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a><span class="c1"># 检查优先级设置</span>
<a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a>apt-cache<span class="w"> </span>policy<span class="w"> </span>python3
<a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a>apt-cache<span class="w"> </span>policy<span class="w"> </span>python-rpi.gpio
<a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a><span class="c1"># 安装 testing 的软件包，也从 testing 源里找依赖，这是比较保险的从 testing 源中安装软件的方法。</span>
<a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a>sudo<span class="w"> </span>apt<span class="w"> </span>-t<span class="w"> </span>testing<span class="w"> </span>install<span class="w"> </span>python3
</code></pre></div>
<h4 id="apt-cache">apt-cache 命令</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>apt-cache<span class="w"> </span>search<span class="w"> </span>package_name<span class="w">     </span><span class="c1">#查找一个软件包</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>apt-cache<span class="w"> </span>show<span class="w"> </span>package_name<span class="w">       </span><span class="c1">#查看软件包信息</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>apt-cache<span class="w"> </span>policy<span class="w"> </span>package_name<span class="w">     </span><span class="c1">#查看软件包信息</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>apt-cache<span class="w"> </span>depends<span class="w"> </span>package_name<span class="w">    </span><span class="c1">#查看软件包的依赖关系</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>apt-cache<span class="w"> </span>dump<span class="w">                    </span><span class="c1">#查看每个软件包的简要信息</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>apt-cache<span class="w"> </span>pkgnames<span class="w">                </span><span class="c1">#列出当前所有可用的软件包</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>apt-cache<span class="w"> </span>search<span class="w"> </span>vsftpd<span class="w">           </span><span class="c1">#查找软件包并列出该软件包的相关信息</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>apt-cache<span class="w"> </span>pkgnames<span class="w"> </span>vsftp<span class="w">          </span><span class="c1">#找出所有以 vsftpd 开头的软件包</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>apt-cache<span class="w"> </span>stats<span class="w">                   </span><span class="c1">#查看软件包总体信息</span>
</code></pre></div>
<h4 id="apt-get">apt-get 命令</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>package_name<span class="w">       </span><span class="c1">#安装一个软件包</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span><span class="nv">vsftpd</span><span class="o">=</span><span class="m">2</span>.3.5<span class="w">       </span><span class="c1">#安装指定版本的包文件</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>upgrade<span class="w">                    </span><span class="c1">#更新已安装的软件包，upgrade 子命令会更新当前系统中所有已安装的软件包，并同时所更新的软件包相关的软件包</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>packageName<span class="w"> </span>--no-upgrade<span class="w">    </span><span class="c1">#--no-upgrade 会阻止已经安装过的文件进行更新操作</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>packageName<span class="w"> </span>--only-upgrade<span class="w">    </span><span class="c1">#--only-upgrade 只会更新已经安装过的文件，并不会安装新文件</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w">                           </span><span class="c1">#更新软件包索引文件</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>remove<span class="w"> </span>package_name<span class="w">              </span><span class="c1">#卸载一个软件包但是保留相关的配置文件</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>--purge<span class="w"> </span>remove<span class="w"> </span>package_name<span class="w">      </span><span class="c1">#卸载一个软件包同时删除配置文件</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>purge<span class="w"> </span>package_name<span class="w">               </span><span class="c1">#卸载一个软件包同时删除配置文件</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>clean<span class="w">                            </span><span class="c1">#删除软件包的备份</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>--download-only<span class="w"> </span><span class="nb">source</span><span class="w"> </span>vsftpd<span class="w">    </span><span class="c1">#只下载软件源码包</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span><span class="nb">source</span><span class="w"> </span>vsftpd<span class="w">                    </span><span class="c1">#下载并解压包</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>--compile<span class="w"> </span><span class="nb">source</span><span class="w"> </span>goaccess<span class="w">        </span><span class="c1">#下载、解压并编译</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>download<span class="w"> </span>nethogs<span class="w">                 </span><span class="c1">#仅将软件包下载到当前工作目录中</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>changelog<span class="w"> </span>vsftpd/apt-get<span class="w"> </span>check<span class="w">   </span><span class="c1">#查看软件包的日志信息</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>build-dep<span class="w"> </span>netcat<span class="w">                 </span><span class="c1">#在当前系统中的本地包库中查看指定包的依赖包并对以来包进行安装</span>
</code></pre></div>
<h3 id="apt-pinning">APT Pinning</h3>
<p>参考：<a href="https://wiki.debian.org/zh_CN/AptPreferences">https://wiki.debian.org/zh_CN/AptPreferences</a></p>
<p><a href="https://manpages.debian.org/buster/apt/apt_preferences.5.en.html">https://manpages.debian.org/buster/apt/apt_preferences.5.en.html</a></p>
<p><a href="https://linux.cn/article-3288-1.html">https://linux.cn/article-3288-1.html</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># 当Buster还没有进入stable时，设置的testing软件源其实就是Buster。</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">if</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;testing main&quot;</span><span class="w"> </span>/etc/apt/sources.list<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;已经设置过testing源，无需重复设置！&quot;</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="k">else</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb https://mirrors.ustc.edu.cn/raspbian/raspbian/ testing main contrib non-free rpi&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/apt/sources.list
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;设置testing源成功！&quot;</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="k">fi</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="c1"># 调低testing源的优先级</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/preferences.d/10preferences
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>Package:<span class="w"> </span>*
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>Pin:<span class="w"> </span>release<span class="w"> </span><span class="nv">a</span><span class="o">=</span>testing
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>Pin-Priority:<span class="w"> </span><span class="m">400</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>EOF
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>apt<span class="w"> </span>policy<span class="w"> </span>python3
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="c1"># 如果要安装testing版的python3</span>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-t<span class="w"> </span>testing<span class="w"> </span>python3
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="c1"># 如果要切换为stable版</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3/stable
</code></pre></div>
<h3 id="apt_2">APT 自动更新</h3>
<p>参考：<a href="https://wiki.debian.org/UnattendedUpgrades">https://wiki.debian.org/UnattendedUpgrades</a></p>
<p><a href="https://manpages.debian.org/buster/apt-listchanges/apt-listchanges.1.en.html">https://manpages.debian.org/buster/apt-listchanges/apt-listchanges.1.en.html</a></p>
<p><a href="https://www.debian.org/doc/manuals/debian-handbook/sect.automatic-upgrades.zh-cn.html">https://www.debian.org/doc/manuals/debian-handbook/sect.automatic-upgrades.zh-cn.html</a></p>
<p><a href="https://www.debian.org/doc/manuals/debian-handbook/sect.package-meta-information.zh-cn.html#sidebar.questions-conffiles">https://www.debian.org/doc/manuals/debian-handbook/sect.package-meta-information.zh-cn.html#sidebar.questions-conffiles</a></p>
<p><a href="https://www.debian.org/doc/manuals/debian-reference/ch02.zh-cn.html#_automatic_download_and_upgrade_of_packages">https://www.debian.org/doc/manuals/debian-reference/ch02.zh-cn.html#_automatic_download_and_upgrade_of_packages</a></p>
<p>Debian Buster 10 默认安装 了<code>apt-listchanges</code>，但是没有安装<code>unattended-upgrades</code>，如果安装桌面环境会提示安装。参考官方 WIKI，系统默认有 apt-daily.timer、apt-daily-upgrade.timer 两个定时器，能自动运行 apt update，如果要自动  upgrade，需要使用<code>unattended-upgrades</code>配合。</p>
<blockquote>
<p>原理：</p>
<p>apt-daily.service、apt-daily-upgrade.service 两个服务，均是通过执行 <code>/usr/lib/apt/apt.systemd.daily</code>脚本，分别调用 update、install 参数。</p>
<p>默认情况下，每天 6 点、18 点执行 apt-get update，默认不更新、默认不下载更新包，等于默认情况下啥也没做。</p>
<p>默认情况下，每天 6 点执行 apt-daily-upgrade，默认不 clean、autoclean，配合 unattended-upgrades，可以更新指定类型的包。等于默认情况下啥也没做。</p>
<p>如果要自动下载更新包、自动 apt-get clean、apt-get autoclean，需要配置：/etc/apt/apt.conf.d/10periodic（默认无此文件，需手动创建，模板文件在 <code>/usr/lib/apt/apt.systemd.daily</code> 中）</p>
<p>如果要自动安装更新，需要安装 unattended-upgrades，并配置好 unattended-upgrades，默认安装后 unattended-upgrades 不启用。可以手动启动<code>dpkg-reconfigure -plow unattended-upgrades</code>（他创建的是 20auto-upgrades），也可手动创建<code>/etc/apt/apt.conf.d/10periodic</code>（推荐使用此方法，模板参考<code>/usr/lib/apt/apt.systemd.daily</code>）。</p>
</blockquote>
<p>从<code>/usr/lib/apt/apt.systemd.daily</code> 中的模板文件可知，默认情况下，两个定时器其实啥也没干。因此需要手动配置<code>/etc/apt/apt.conf.d/10periodic</code> 的内容，或是<code>20auto-upgrades</code>。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">#------------------------------------------------</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="c1"># 如果要自动安装更新，需要安装 unattended-upgrades</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>unattended-upgrades<span class="w"> </span>-y
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1">#------------------------------------------------</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1"># 配置自动更新</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/apt.conf.d/10periodic
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="c1"># 模板参考自：/usr/lib/apt/apt.systemd.daily</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>APT::Periodic::Update-Package-Lists<span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="p">;</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="c1">#  - Do &quot;apt-get update&quot; automatically every n-days (0=disable)</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>APT::Periodic::Download-Upgradeable-Packages<span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="p">;</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="c1">#  - Do &quot;apt-get upgrade --download-only&quot; every n-days (0=disable)</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>APT::Periodic::AutocleanInterval<span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="p">;</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="c1">#  - Do &quot;apt-get autoclean&quot; every n-days (0=disable)</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>APT::Periodic::CleanInterval<span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="p">;</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="c1">#  - Do &quot;apt-get clean&quot; every n-days (0=disable)</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a>APT::Periodic::Unattended-Upgrade<span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="p">;</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="c1">#  - Run the &quot;unattended-upgrade&quot; security upgrade script</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="c1">#    every n-days (0=disabled)</span>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="c1">#    Requires the package &quot;unattended-upgrades&quot; and will write</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="c1">#    a log in /var/log/unattended-upgrades</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a>APT::Periodic::Verbose<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">;</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="c1">#  - Send report mail to root</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="c1">#      0:  no report，默认值      (or null string)</span>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="c1">#      1:  progress report       (actually any string)</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="c1">#      2:  + command outputs     (remove -qq, remove 2&gt;/dev/null, add -d)</span>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="c1">#      3:  + trace on</span>
<a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a>EOF
<a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a><span class="c1">#------------------------------------------------</span>
<a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>apt-daily.timer
<a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>apt-daily-upgrade.timer
<a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a>cat<span class="w"> </span>/etc/apt/apt.conf.d/10periodic
<a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a>
<a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a><span class="c1"># 默认的配置有很多不合理的，比如默认立即自动重启。</span>
<a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a><span class="c1"># 默认的配置竟然不全，还得参考它的 readme 文件</span>
<a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a><span class="c1"># 参考 `/usr/share/doc/unattended-upgrades/README.md.gz`，可以配置 Sender 选项。</span>
<a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a><span class="c1"># 这个地方不能备份。</span>
<a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.local/etc/apt/apt.conf.d
<a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>~/.local/etc/apt/apt.conf.d/50unattended-upgrades.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>cp<span class="w"> </span>/etc/apt/apt.conf.d/50unattended-upgrades<span class="w"> </span>~/.local/etc/apt/apt.conf.d/50unattended-upgrades.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-23-39" name="__codelineno-23-39" href="#__codelineno-23-39"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/apt.conf.d/50unattended-upgrades
<a id="__codelineno-23-40" name="__codelineno-23-40" href="#__codelineno-23-40"></a>Unattended-Upgrade::Origins-Pattern<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-41" name="__codelineno-23-41" href="#__codelineno-23-41"></a>//<span class="w"> </span>Debian使用下面的：
<a id="__codelineno-23-42" name="__codelineno-23-42" href="#__codelineno-23-42"></a><span class="w">        </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">-updates&quot;</span><span class="p">;</span>
<a id="__codelineno-23-43" name="__codelineno-23-43" href="#__codelineno-23-43"></a><span class="w">        </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">,label=Debian-Security&quot;</span><span class="p">;</span>
<a id="__codelineno-23-44" name="__codelineno-23-44" href="#__codelineno-23-44"></a>//<span class="w"> </span>使用<span class="w"> </span>sudo<span class="w"> </span>apt-cache<span class="w"> </span>policy<span class="w"> </span>查看信息
<a id="__codelineno-23-45" name="__codelineno-23-45" href="#__codelineno-23-45"></a>//<span class="w"> </span>树莓派使用下面的：
<a id="__codelineno-23-46" name="__codelineno-23-46" href="#__codelineno-23-46"></a>//<span class="w">        </span><span class="s2">&quot;origin=Raspbian&quot;</span><span class="p">;</span>
<a id="__codelineno-23-47" name="__codelineno-23-47" href="#__codelineno-23-47"></a><span class="w">        </span><span class="s2">&quot;origin=Raspberry Pi Foundation&quot;</span><span class="p">;</span>
<a id="__codelineno-23-48" name="__codelineno-23-48" href="#__codelineno-23-48"></a><span class="w">        </span><span class="s2">&quot;origin=Syncthing,a=syncthing,n=debian,c=stable&quot;</span><span class="p">;</span>
<a id="__codelineno-23-49" name="__codelineno-23-49" href="#__codelineno-23-49"></a><span class="o">}</span><span class="p">;</span>
<a id="__codelineno-23-50" name="__codelineno-23-50" href="#__codelineno-23-50"></a>Unattended-Upgrade::Package-Blacklist<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-51" name="__codelineno-23-51" href="#__codelineno-23-51"></a>//<span class="w">      </span><span class="s2">&quot;vim&quot;</span><span class="p">;</span>
<a id="__codelineno-23-52" name="__codelineno-23-52" href="#__codelineno-23-52"></a><span class="o">}</span><span class="p">;</span>
<a id="__codelineno-23-53" name="__codelineno-23-53" href="#__codelineno-23-53"></a>Unattended-Upgrade::Automatic-Reboot-WithUsers<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-23-54" name="__codelineno-23-54" href="#__codelineno-23-54"></a>Unattended-Upgrade::Mail<span class="w"> </span><span class="s2">&quot;kisa747@qq.com&quot;</span><span class="p">;</span>
<a id="__codelineno-23-55" name="__codelineno-23-55" href="#__codelineno-23-55"></a>Unattended-Upgrade::Sender<span class="w"> </span><span class="s2">&quot;kisa757@qq.com&quot;</span><span class="p">;</span>
<a id="__codelineno-23-56" name="__codelineno-23-56" href="#__codelineno-23-56"></a>Unattended-Upgrade::MailOnlyOnError<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-23-57" name="__codelineno-23-57" href="#__codelineno-23-57"></a>
<a id="__codelineno-23-58" name="__codelineno-23-58" href="#__codelineno-23-58"></a>//<span class="w"> </span>Do<span class="w"> </span>automatic<span class="w"> </span>removal<span class="w"> </span>of<span class="w"> </span>unused<span class="w"> </span>packages<span class="w"> </span>after<span class="w"> </span>the<span class="w"> </span>upgrade
<a id="__codelineno-23-59" name="__codelineno-23-59" href="#__codelineno-23-59"></a>//<span class="w"> </span><span class="o">(</span>equivalent<span class="w"> </span>to<span class="w"> </span>apt-get<span class="w"> </span>autoremove<span class="o">)</span>
<a id="__codelineno-23-60" name="__codelineno-23-60" href="#__codelineno-23-60"></a>//Unattended-Upgrade::Remove-Unused-Dependencies<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-23-61" name="__codelineno-23-61" href="#__codelineno-23-61"></a>EOF
<a id="__codelineno-23-62" name="__codelineno-23-62" href="#__codelineno-23-62"></a><span class="c1">#------------------------------------------------</span>
<a id="__codelineno-23-63" name="__codelineno-23-63" href="#__codelineno-23-63"></a><span class="c1"># 使用调试模式手动运行 unattended-upgrade，看看它是否正常工作 :</span>
<a id="__codelineno-23-64" name="__codelineno-23-64" href="#__codelineno-23-64"></a>sudo<span class="w"> </span>apt<span class="w"> </span>update
<a id="__codelineno-23-65" name="__codelineno-23-65" href="#__codelineno-23-65"></a><span class="c1"># debug 参数、不真正运行。能看出各种参数，方便调试。</span>
<a id="__codelineno-23-66" name="__codelineno-23-66" href="#__codelineno-23-66"></a>sudo<span class="w"> </span>unattended-upgrade<span class="w"> </span>-d<span class="w"> </span>--dry-run
<a id="__codelineno-23-67" name="__codelineno-23-67" href="#__codelineno-23-67"></a><span class="c1"># 模拟定时器真正运行</span>
<a id="__codelineno-23-68" name="__codelineno-23-68" href="#__codelineno-23-68"></a>sudo<span class="w"> </span>/usr/lib/apt/apt.systemd.daily<span class="w"> </span>update
<a id="__codelineno-23-69" name="__codelineno-23-69" href="#__codelineno-23-69"></a>sudo<span class="w"> </span>/usr/lib/apt/apt.systemd.daily<span class="w"> </span>install
<a id="__codelineno-23-70" name="__codelineno-23-70" href="#__codelineno-23-70"></a><span class="c1"># 常看定时器情况</span>
<a id="__codelineno-23-71" name="__codelineno-23-71" href="#__codelineno-23-71"></a>systemctl<span class="w"> </span>status<span class="w"> </span>apt-daily.timer
<a id="__codelineno-23-72" name="__codelineno-23-72" href="#__codelineno-23-72"></a>systemctl<span class="w"> </span>status<span class="w"> </span>apt-daily-upgrade.timer
</code></pre></div>
<p>查看下它的默认配置文件<code>/etc/apt/apt.conf.d/50unattended-upgrades</code>：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># 下面是 /etc/apt/apt.conf.d/50unattended-upgrades 非注释内容</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c1"># ----------------------------------------------------------------------------</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>grep<span class="w"> </span>-v<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;^\s*?/|^</span>$<span class="s2">&quot;</span><span class="w"> </span>/etc/apt/apt.conf.d/50unattended-upgrades
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c1"># 其实全是注释，有用的就是下面的：</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>Unattended-Upgrade::Origins-Pattern<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">        </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">,label=Debian&quot;</span><span class="p">;</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">        </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">,label=Debian-Security&quot;</span><span class="p">;</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="o">}</span><span class="p">;</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>Unattended-Upgrade::Package-Blacklist<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="o">}</span><span class="p">;</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="c1"># ----------------------------------------------------------------------------</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="c1">#        &quot;origin=Debian,codename=${distro_codename}-proposed-updates&quot;;</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="c1">#        &quot;origin=Debian,codename=${distro_codename},label=Debian&quot;;</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="c1"># 下面是/etc/apt/apt.conf.d/50unattended-upgrades 的原始内容</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="c1"># ----------------------------------------------------------------------------</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>//<span class="w"> </span>Unattended-Upgrade::Origins-Pattern<span class="w"> </span>controls<span class="w"> </span>which<span class="w"> </span>packages<span class="w"> </span>are
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>//<span class="w"> </span>upgraded.
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>//
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>//<span class="w"> </span>Lines<span class="w"> </span>below<span class="w"> </span>have<span class="w"> </span>the<span class="w"> </span>format<span class="w"> </span>format<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;keyword=value,...&quot;</span>.<span class="w">  </span>A
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>//<span class="w"> </span>package<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>upgraded<span class="w"> </span>only<span class="w"> </span><span class="k">if</span><span class="w"> </span>the<span class="w"> </span>values<span class="w"> </span><span class="k">in</span><span class="w"> </span>its<span class="w"> </span>metadata<span class="w"> </span>match
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a>//<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>supplied<span class="w"> </span>keywords<span class="w"> </span><span class="k">in</span><span class="w"> </span>a<span class="w"> </span>line.<span class="w">  </span><span class="o">(</span>In<span class="w"> </span>other<span class="w"> </span>words,<span class="w"> </span>omitted
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>//<span class="w"> </span>keywords<span class="w"> </span>are<span class="w"> </span>wild<span class="w"> </span>cards.<span class="o">)</span><span class="w"> </span>The<span class="w"> </span>keywords<span class="w"> </span>originate<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>Release
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a>//<span class="w"> </span>file,<span class="w"> </span>but<span class="w"> </span>several<span class="w"> </span>aliases<span class="w"> </span>are<span class="w"> </span>accepted.<span class="w">  </span>The<span class="w"> </span>accepted<span class="w"> </span>keywords<span class="w"> </span>are:
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a>//<span class="w">   </span>a,archive,suite<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;stable&quot;</span><span class="o">)</span>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a>//<span class="w">   </span>c,component<span class="w">     </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;main&quot;</span>,<span class="w"> </span><span class="s2">&quot;contrib&quot;</span>,<span class="w"> </span><span class="s2">&quot;non-free&quot;</span><span class="o">)</span>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a>//<span class="w">   </span>l,label<span class="w">         </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;Debian&quot;</span>,<span class="w"> </span><span class="s2">&quot;Debian-Security&quot;</span><span class="o">)</span>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a>//<span class="w">   </span>o,origin<span class="w">        </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;Debian&quot;</span>,<span class="w"> </span><span class="s2">&quot;Unofficial Multimedia Packages&quot;</span><span class="o">)</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a>//<span class="w">   </span>n,codename<span class="w">      </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;jessie&quot;</span>,<span class="w"> </span><span class="s2">&quot;jessie-updates&quot;</span><span class="o">)</span>
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a>//<span class="w">     </span>site<span class="w">          </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;http.debian.net&quot;</span><span class="o">)</span>
<a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a>//<span class="w"> </span>The<span class="w"> </span>available<span class="w"> </span>values<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>system<span class="w"> </span>are<span class="w"> </span>printed<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span><span class="nb">command</span>
<a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a>//<span class="w"> </span><span class="s2">&quot;apt-cache policy&quot;</span>,<span class="w"> </span>and<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>debugged<span class="w"> </span>by<span class="w"> </span>running
<a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a>//<span class="w"> </span><span class="s2">&quot;unattended-upgrades -d&quot;</span><span class="w"> </span>and<span class="w"> </span>looking<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>log<span class="w"> </span>file.
<a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a>//
<a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a>//<span class="w"> </span>Within<span class="w"> </span>lines<span class="w"> </span>unattended-upgrades<span class="w"> </span>allows<span class="w"> </span><span class="m">2</span><span class="w"> </span>macros<span class="w"> </span>whose<span class="w"> </span>values<span class="w"> </span>are
<a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a>//<span class="w"> </span>derived<span class="w"> </span>from<span class="w"> </span>/etc/debian_version:
<a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a>//<span class="w">   </span><span class="si">${</span><span class="nv">distro_id</span><span class="si">}</span><span class="w">            </span>Installed<span class="w"> </span>origin.
<a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a>//<span class="w">   </span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="w">      </span>Installed<span class="w"> </span>codename<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span><span class="s2">&quot;buster&quot;</span><span class="o">)</span>
<a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a>Unattended-Upgrade::Origins-Pattern<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-40" name="__codelineno-24-40" href="#__codelineno-24-40"></a><span class="w">        </span>//<span class="w"> </span>Codename<span class="w"> </span>based<span class="w"> </span>matching:
<a id="__codelineno-24-41" name="__codelineno-24-41" href="#__codelineno-24-41"></a><span class="w">        </span>//<span class="w"> </span>This<span class="w"> </span>will<span class="w"> </span>follow<span class="w"> </span>the<span class="w"> </span>migration<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>release<span class="w"> </span>through<span class="w"> </span>different
<a id="__codelineno-24-42" name="__codelineno-24-42" href="#__codelineno-24-42"></a><span class="w">        </span>//<span class="w"> </span>archives<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>from<span class="w"> </span>testing<span class="w"> </span>to<span class="w"> </span>stable<span class="w"> </span>and<span class="w"> </span>later<span class="w"> </span>oldstable<span class="o">)</span>.
<a id="__codelineno-24-43" name="__codelineno-24-43" href="#__codelineno-24-43"></a><span class="w">        </span>//<span class="w"> </span>Software<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>the<span class="w"> </span>latest<span class="w"> </span>available<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>named<span class="w"> </span>release,
<a id="__codelineno-24-44" name="__codelineno-24-44" href="#__codelineno-24-44"></a><span class="w">        </span>//<span class="w"> </span>but<span class="w"> </span>the<span class="w"> </span>Debian<span class="w"> </span>release<span class="w"> </span>itself<span class="w"> </span>will<span class="w"> </span>not<span class="w"> </span>be<span class="w"> </span>automatically<span class="w"> </span>upgraded.
<a id="__codelineno-24-45" name="__codelineno-24-45" href="#__codelineno-24-45"></a>//<span class="w">      </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">-updates&quot;</span><span class="p">;</span>
<a id="__codelineno-24-46" name="__codelineno-24-46" href="#__codelineno-24-46"></a>//<span class="w">      </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">-proposed-updates&quot;</span><span class="p">;</span>
<a id="__codelineno-24-47" name="__codelineno-24-47" href="#__codelineno-24-47"></a><span class="w">        </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">,label=Debian&quot;</span><span class="p">;</span>
<a id="__codelineno-24-48" name="__codelineno-24-48" href="#__codelineno-24-48"></a><span class="w">        </span><span class="s2">&quot;origin=Debian,codename=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">,label=Debian-Security&quot;</span><span class="p">;</span>
<a id="__codelineno-24-49" name="__codelineno-24-49" href="#__codelineno-24-49"></a>
<a id="__codelineno-24-50" name="__codelineno-24-50" href="#__codelineno-24-50"></a><span class="w">        </span>//<span class="w"> </span>Archive<span class="w"> </span>or<span class="w"> </span>Suite<span class="w"> </span>based<span class="w"> </span>matching:
<a id="__codelineno-24-51" name="__codelineno-24-51" href="#__codelineno-24-51"></a><span class="w">        </span>//<span class="w"> </span>Note<span class="w"> </span>that<span class="w"> </span>this<span class="w"> </span>will<span class="w"> </span>silently<span class="w"> </span>match<span class="w"> </span>a<span class="w"> </span>different<span class="w"> </span>release<span class="w"> </span>after
<a id="__codelineno-24-52" name="__codelineno-24-52" href="#__codelineno-24-52"></a><span class="w">        </span>//<span class="w"> </span>migration<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>specified<span class="w"> </span>archive<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>testing<span class="w"> </span>becomes<span class="w"> </span>the
<a id="__codelineno-24-53" name="__codelineno-24-53" href="#__codelineno-24-53"></a><span class="w">        </span>//<span class="w"> </span>new<span class="w"> </span>stable<span class="o">)</span>.
<a id="__codelineno-24-54" name="__codelineno-24-54" href="#__codelineno-24-54"></a>//<span class="w">      </span><span class="s2">&quot;o=Debian,a=stable&quot;</span><span class="p">;</span>
<a id="__codelineno-24-55" name="__codelineno-24-55" href="#__codelineno-24-55"></a>//<span class="w">      </span><span class="s2">&quot;o=Debian,a=stable-updates&quot;</span><span class="p">;</span>
<a id="__codelineno-24-56" name="__codelineno-24-56" href="#__codelineno-24-56"></a>//<span class="w">      </span><span class="s2">&quot;o=Debian,a=proposed-updates&quot;</span><span class="p">;</span>
<a id="__codelineno-24-57" name="__codelineno-24-57" href="#__codelineno-24-57"></a>//<span class="w">      </span><span class="s2">&quot;o=Debian Backports,a=</span><span class="si">${</span><span class="nv">distro_codename</span><span class="si">}</span><span class="s2">-backports,l=Debian Backports&quot;</span><span class="p">;</span>
<a id="__codelineno-24-58" name="__codelineno-24-58" href="#__codelineno-24-58"></a><span class="o">}</span><span class="p">;</span>
<a id="__codelineno-24-59" name="__codelineno-24-59" href="#__codelineno-24-59"></a>
<a id="__codelineno-24-60" name="__codelineno-24-60" href="#__codelineno-24-60"></a>//<span class="w"> </span>Python<span class="w"> </span>regular<span class="w"> </span>expressions,<span class="w"> </span>matching<span class="w"> </span>packages<span class="w"> </span>to<span class="w"> </span>exclude<span class="w"> </span>from<span class="w"> </span>upgrading
<a id="__codelineno-24-61" name="__codelineno-24-61" href="#__codelineno-24-61"></a>Unattended-Upgrade::Package-Blacklist<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-62" name="__codelineno-24-62" href="#__codelineno-24-62"></a><span class="w">    </span>//<span class="w"> </span>The<span class="w"> </span>following<span class="w"> </span>matches<span class="w"> </span>all<span class="w"> </span>packages<span class="w"> </span>starting<span class="w"> </span>with<span class="w"> </span>linux-
<a id="__codelineno-24-63" name="__codelineno-24-63" href="#__codelineno-24-63"></a>//<span class="w">  </span><span class="s2">&quot;linux-&quot;</span><span class="p">;</span>
<a id="__codelineno-24-64" name="__codelineno-24-64" href="#__codelineno-24-64"></a>
<a id="__codelineno-24-65" name="__codelineno-24-65" href="#__codelineno-24-65"></a><span class="w">    </span>//<span class="w"> </span>Use<span class="w"> </span>$<span class="w"> </span>to<span class="w"> </span>explicitely<span class="w"> </span>define<span class="w"> </span>the<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>package<span class="w"> </span>name.<span class="w"> </span>Without
<a id="__codelineno-24-66" name="__codelineno-24-66" href="#__codelineno-24-66"></a><span class="w">    </span>//<span class="w"> </span>the<span class="w"> </span>$,<span class="w"> </span><span class="s2">&quot;libc6&quot;</span><span class="w"> </span>would<span class="w"> </span>match<span class="w"> </span>all<span class="w"> </span>of<span class="w"> </span>them.
<a id="__codelineno-24-67" name="__codelineno-24-67" href="#__codelineno-24-67"></a>//<span class="w">  </span><span class="s2">&quot;libc6</span>$<span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-24-68" name="__codelineno-24-68" href="#__codelineno-24-68"></a>//<span class="w">  </span><span class="s2">&quot;libc6-dev</span>$<span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-24-69" name="__codelineno-24-69" href="#__codelineno-24-69"></a>//<span class="w">  </span><span class="s2">&quot;libc6-i686</span>$<span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-24-70" name="__codelineno-24-70" href="#__codelineno-24-70"></a>
<a id="__codelineno-24-71" name="__codelineno-24-71" href="#__codelineno-24-71"></a><span class="w">    </span>//<span class="w"> </span>Special<span class="w"> </span>characters<span class="w"> </span>need<span class="w"> </span>escaping
<a id="__codelineno-24-72" name="__codelineno-24-72" href="#__codelineno-24-72"></a>//<span class="w">  </span><span class="s2">&quot;libstdc\+\+6</span>$<span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-24-73" name="__codelineno-24-73" href="#__codelineno-24-73"></a>
<a id="__codelineno-24-74" name="__codelineno-24-74" href="#__codelineno-24-74"></a><span class="w">    </span>//<span class="w"> </span>The<span class="w"> </span>following<span class="w"> </span>matches<span class="w"> </span>packages<span class="w"> </span>like<span class="w"> </span>xen-system-amd64,<span class="w"> </span>xen-utils-4.1,
<a id="__codelineno-24-75" name="__codelineno-24-75" href="#__codelineno-24-75"></a><span class="w">    </span>//<span class="w"> </span>xenstore-utils<span class="w"> </span>and<span class="w"> </span>libxenstore3.0
<a id="__codelineno-24-76" name="__codelineno-24-76" href="#__codelineno-24-76"></a>//<span class="w">  </span><span class="s2">&quot;(lib)?xen(store)?&quot;</span><span class="p">;</span>
<a id="__codelineno-24-77" name="__codelineno-24-77" href="#__codelineno-24-77"></a>
<a id="__codelineno-24-78" name="__codelineno-24-78" href="#__codelineno-24-78"></a><span class="w">    </span>//<span class="w"> </span>For<span class="w"> </span>more<span class="w"> </span>information<span class="w"> </span>about<span class="w"> </span>Python<span class="w"> </span>regular<span class="w"> </span>expressions,<span class="w"> </span>see
<a id="__codelineno-24-79" name="__codelineno-24-79" href="#__codelineno-24-79"></a><span class="w">    </span>//<span class="w"> </span>https://docs.python.org/3/howto/regex.html
<a id="__codelineno-24-80" name="__codelineno-24-80" href="#__codelineno-24-80"></a><span class="o">}</span><span class="p">;</span>
<a id="__codelineno-24-81" name="__codelineno-24-81" href="#__codelineno-24-81"></a>
<a id="__codelineno-24-82" name="__codelineno-24-82" href="#__codelineno-24-82"></a>//<span class="w"> </span>This<span class="w"> </span>option<span class="w"> </span>allows<span class="w"> </span>you<span class="w"> </span>to<span class="w"> </span>control<span class="w"> </span><span class="k">if</span><span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>unclean<span class="w"> </span>dpkg<span class="w"> </span><span class="nb">exit</span>
<a id="__codelineno-24-83" name="__codelineno-24-83" href="#__codelineno-24-83"></a>//<span class="w"> </span>unattended-upgrades<span class="w"> </span>will<span class="w"> </span>automatically<span class="w"> </span>run
<a id="__codelineno-24-84" name="__codelineno-24-84" href="#__codelineno-24-84"></a>//<span class="w">   </span>dpkg<span class="w"> </span>--force-confold<span class="w"> </span>--configure<span class="w"> </span>-a
<a id="__codelineno-24-85" name="__codelineno-24-85" href="#__codelineno-24-85"></a>//<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>true,<span class="w"> </span>to<span class="w"> </span>ensure<span class="w"> </span>updates<span class="w"> </span>keep<span class="w"> </span>getting<span class="w"> </span>installed
<a id="__codelineno-24-86" name="__codelineno-24-86" href="#__codelineno-24-86"></a>//Unattended-Upgrade::AutoFixInterruptedDpkg<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-87" name="__codelineno-24-87" href="#__codelineno-24-87"></a>
<a id="__codelineno-24-88" name="__codelineno-24-88" href="#__codelineno-24-88"></a>//<span class="w"> </span>Split<span class="w"> </span>the<span class="w"> </span>upgrade<span class="w"> </span>into<span class="w"> </span>the<span class="w"> </span>smallest<span class="w"> </span>possible<span class="w"> </span>chunks<span class="w"> </span>so<span class="w"> </span>that
<a id="__codelineno-24-89" name="__codelineno-24-89" href="#__codelineno-24-89"></a>//<span class="w"> </span>they<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>interrupted<span class="w"> </span>with<span class="w"> </span>SIGTERM.<span class="w"> </span>This<span class="w"> </span>makes<span class="w"> </span>the<span class="w"> </span>upgrade
<a id="__codelineno-24-90" name="__codelineno-24-90" href="#__codelineno-24-90"></a>//<span class="w"> </span>a<span class="w"> </span>bit<span class="w"> </span>slower<span class="w"> </span>but<span class="w"> </span>it<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>benefit<span class="w"> </span>that<span class="w"> </span>shutdown<span class="w"> </span><span class="k">while</span><span class="w"> </span>a<span class="w"> </span>upgrade
<a id="__codelineno-24-91" name="__codelineno-24-91" href="#__codelineno-24-91"></a>//<span class="w"> </span>is<span class="w"> </span>running<span class="w"> </span>is<span class="w"> </span>possible<span class="w"> </span><span class="o">(</span>with<span class="w"> </span>a<span class="w"> </span>small<span class="w"> </span>delay<span class="o">)</span>
<a id="__codelineno-24-92" name="__codelineno-24-92" href="#__codelineno-24-92"></a>//Unattended-Upgrade::MinimalSteps<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-93" name="__codelineno-24-93" href="#__codelineno-24-93"></a>
<a id="__codelineno-24-94" name="__codelineno-24-94" href="#__codelineno-24-94"></a>//<span class="w"> </span>Install<span class="w"> </span>all<span class="w"> </span>updates<span class="w"> </span>when<span class="w"> </span>the<span class="w"> </span>machine<span class="w"> </span>is<span class="w"> </span>shutting<span class="w"> </span>down
<a id="__codelineno-24-95" name="__codelineno-24-95" href="#__codelineno-24-95"></a>//<span class="w"> </span>instead<span class="w"> </span>of<span class="w"> </span>doing<span class="w"> </span>it<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>background<span class="w"> </span><span class="k">while</span><span class="w"> </span>the<span class="w"> </span>machine<span class="w"> </span>is<span class="w"> </span>running.
<a id="__codelineno-24-96" name="__codelineno-24-96" href="#__codelineno-24-96"></a>//<span class="w"> </span>This<span class="w"> </span>will<span class="w"> </span><span class="o">(</span>obviously<span class="o">)</span><span class="w"> </span>make<span class="w"> </span>shutdown<span class="w"> </span>slower.
<a id="__codelineno-24-97" name="__codelineno-24-97" href="#__codelineno-24-97"></a>//<span class="w"> </span>Unattended-upgrades<span class="w"> </span>increases<span class="w"> </span>logind<span class="s1">&#39;s InhibitDelayMaxSec to 30s.</span>
<a id="__codelineno-24-98" name="__codelineno-24-98" href="#__codelineno-24-98"></a><span class="s1">// This allows more time for unattended-upgrades to shut down gracefully</span>
<a id="__codelineno-24-99" name="__codelineno-24-99" href="#__codelineno-24-99"></a><span class="s1">// or even install a few packages in InstallOnShutdown mode, but is still a</span>
<a id="__codelineno-24-100" name="__codelineno-24-100" href="#__codelineno-24-100"></a><span class="s1">// big step back from the 30 minutes allowed for InstallOnShutdown previously.</span>
<a id="__codelineno-24-101" name="__codelineno-24-101" href="#__codelineno-24-101"></a><span class="s1">// Users enabling InstallOnShutdown mode are advised to increase</span>
<a id="__codelineno-24-102" name="__codelineno-24-102" href="#__codelineno-24-102"></a><span class="s1">// InhibitDelayMaxSec even further, possibly to 30 minutes.</span>
<a id="__codelineno-24-103" name="__codelineno-24-103" href="#__codelineno-24-103"></a><span class="s1">//Unattended-Upgrade::InstallOnShutdown &quot;false&quot;;</span>
<a id="__codelineno-24-104" name="__codelineno-24-104" href="#__codelineno-24-104"></a>
<a id="__codelineno-24-105" name="__codelineno-24-105" href="#__codelineno-24-105"></a><span class="s1">// Send email to this address for problems or packages upgrades</span>
<a id="__codelineno-24-106" name="__codelineno-24-106" href="#__codelineno-24-106"></a><span class="s1">// If empty or unset then no email is sent, make sure that you</span>
<a id="__codelineno-24-107" name="__codelineno-24-107" href="#__codelineno-24-107"></a><span class="s1">// have a working mail setup on your system. A package that provides</span>
<a id="__codelineno-24-108" name="__codelineno-24-108" href="#__codelineno-24-108"></a><span class="s1">// &#39;</span>mailx<span class="err">&#39;</span><span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>installed.<span class="w"> </span>E.g.<span class="w"> </span><span class="s2">&quot;user@example.com&quot;</span>
<a id="__codelineno-24-109" name="__codelineno-24-109" href="#__codelineno-24-109"></a>//Unattended-Upgrade::Mail<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">;</span>
<a id="__codelineno-24-110" name="__codelineno-24-110" href="#__codelineno-24-110"></a>
<a id="__codelineno-24-111" name="__codelineno-24-111" href="#__codelineno-24-111"></a>//<span class="w"> </span>Set<span class="w"> </span>this<span class="w"> </span>value<span class="w"> </span>to<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span>emails<span class="w"> </span>only<span class="w"> </span>on<span class="w"> </span>errors.<span class="w"> </span>Default
<a id="__codelineno-24-112" name="__codelineno-24-112" href="#__codelineno-24-112"></a>//<span class="w"> </span>is<span class="w"> </span>to<span class="w"> </span>always<span class="w"> </span>send<span class="w"> </span>a<span class="w"> </span>mail<span class="w"> </span><span class="k">if</span><span class="w"> </span>Unattended-Upgrade::Mail<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span>
<a id="__codelineno-24-113" name="__codelineno-24-113" href="#__codelineno-24-113"></a>//Unattended-Upgrade::MailOnlyOnError<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-24-114" name="__codelineno-24-114" href="#__codelineno-24-114"></a>
<a id="__codelineno-24-115" name="__codelineno-24-115" href="#__codelineno-24-115"></a>//<span class="w"> </span>Remove<span class="w"> </span>unused<span class="w"> </span>automatically<span class="w"> </span>installed<span class="w"> </span>kernel-related<span class="w"> </span>packages
<a id="__codelineno-24-116" name="__codelineno-24-116" href="#__codelineno-24-116"></a>//<span class="w"> </span><span class="o">(</span>kernel<span class="w"> </span>images,<span class="w"> </span>kernel<span class="w"> </span>headers<span class="w"> </span>and<span class="w"> </span>kernel<span class="w"> </span>version<span class="w"> </span>locked<span class="w"> </span>tools<span class="o">)</span>.
<a id="__codelineno-24-117" name="__codelineno-24-117" href="#__codelineno-24-117"></a>//Unattended-Upgrade::Remove-Unused-Kernel-Packages<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-118" name="__codelineno-24-118" href="#__codelineno-24-118"></a>
<a id="__codelineno-24-119" name="__codelineno-24-119" href="#__codelineno-24-119"></a>//<span class="w"> </span>Do<span class="w"> </span>automatic<span class="w"> </span>removal<span class="w"> </span>of<span class="w"> </span>newly<span class="w"> </span>unused<span class="w"> </span>dependencies<span class="w"> </span>after<span class="w"> </span>the<span class="w"> </span>upgrade
<a id="__codelineno-24-120" name="__codelineno-24-120" href="#__codelineno-24-120"></a>//Unattended-Upgrade::Remove-New-Unused-Dependencies<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-121" name="__codelineno-24-121" href="#__codelineno-24-121"></a>
<a id="__codelineno-24-122" name="__codelineno-24-122" href="#__codelineno-24-122"></a>//<span class="w"> </span>Do<span class="w"> </span>automatic<span class="w"> </span>removal<span class="w"> </span>of<span class="w"> </span>unused<span class="w"> </span>packages<span class="w"> </span>after<span class="w"> </span>the<span class="w"> </span>upgrade
<a id="__codelineno-24-123" name="__codelineno-24-123" href="#__codelineno-24-123"></a>//<span class="w"> </span><span class="o">(</span>equivalent<span class="w"> </span>to<span class="w"> </span>apt-get<span class="w"> </span>autoremove<span class="o">)</span>
<a id="__codelineno-24-124" name="__codelineno-24-124" href="#__codelineno-24-124"></a>//Unattended-Upgrade::Remove-Unused-Dependencies<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-24-125" name="__codelineno-24-125" href="#__codelineno-24-125"></a>
<a id="__codelineno-24-126" name="__codelineno-24-126" href="#__codelineno-24-126"></a>//<span class="w"> </span>Automatically<span class="w"> </span>reboot<span class="w"> </span>*WITHOUT<span class="w"> </span>CONFIRMATION*<span class="w"> </span><span class="k">if</span>
<a id="__codelineno-24-127" name="__codelineno-24-127" href="#__codelineno-24-127"></a>//<span class="w">  </span>the<span class="w"> </span>file<span class="w"> </span>/var/run/reboot-required<span class="w"> </span>is<span class="w"> </span>found<span class="w"> </span>after<span class="w"> </span>the<span class="w"> </span>upgrade
<a id="__codelineno-24-128" name="__codelineno-24-128" href="#__codelineno-24-128"></a>//Unattended-Upgrade::Automatic-Reboot<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-24-129" name="__codelineno-24-129" href="#__codelineno-24-129"></a>
<a id="__codelineno-24-130" name="__codelineno-24-130" href="#__codelineno-24-130"></a>//<span class="w"> </span>Automatically<span class="w"> </span>reboot<span class="w"> </span>even<span class="w"> </span><span class="k">if</span><span class="w"> </span>there<span class="w"> </span>are<span class="w"> </span>users<span class="w"> </span>currently<span class="w"> </span>logged<span class="w"> </span><span class="k">in</span>
<a id="__codelineno-24-131" name="__codelineno-24-131" href="#__codelineno-24-131"></a>//<span class="w"> </span>when<span class="w"> </span>Unattended-Upgrade::Automatic-Reboot<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span><span class="nb">true</span>
<a id="__codelineno-24-132" name="__codelineno-24-132" href="#__codelineno-24-132"></a>//Unattended-Upgrade::Automatic-Reboot-WithUsers<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-133" name="__codelineno-24-133" href="#__codelineno-24-133"></a>
<a id="__codelineno-24-134" name="__codelineno-24-134" href="#__codelineno-24-134"></a>//<span class="w"> </span>If<span class="w"> </span>automatic<span class="w"> </span>reboot<span class="w"> </span>is<span class="w"> </span>enabled<span class="w"> </span>and<span class="w"> </span>needed,<span class="w"> </span>reboot<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>specific
<a id="__codelineno-24-135" name="__codelineno-24-135" href="#__codelineno-24-135"></a>//<span class="w"> </span><span class="nb">time</span><span class="w"> </span>instead<span class="w"> </span>of<span class="w"> </span>immediately
<a id="__codelineno-24-136" name="__codelineno-24-136" href="#__codelineno-24-136"></a>//<span class="w">  </span>Default:<span class="w"> </span><span class="s2">&quot;now&quot;</span>
<a id="__codelineno-24-137" name="__codelineno-24-137" href="#__codelineno-24-137"></a>//Unattended-Upgrade::Automatic-Reboot-Time<span class="w"> </span><span class="s2">&quot;02:00&quot;</span><span class="p">;</span>
<a id="__codelineno-24-138" name="__codelineno-24-138" href="#__codelineno-24-138"></a>
<a id="__codelineno-24-139" name="__codelineno-24-139" href="#__codelineno-24-139"></a>//<span class="w"> </span>Use<span class="w"> </span>apt<span class="w"> </span>bandwidth<span class="w"> </span>limit<span class="w"> </span>feature,<span class="w"> </span>this<span class="w"> </span>example<span class="w"> </span>limits<span class="w"> </span>the<span class="w"> </span>download
<a id="__codelineno-24-140" name="__codelineno-24-140" href="#__codelineno-24-140"></a>//<span class="w"> </span>speed<span class="w"> </span>to<span class="w"> </span>70kb/sec
<a id="__codelineno-24-141" name="__codelineno-24-141" href="#__codelineno-24-141"></a>//Acquire::http::Dl-Limit<span class="w"> </span><span class="s2">&quot;70&quot;</span><span class="p">;</span>
<a id="__codelineno-24-142" name="__codelineno-24-142" href="#__codelineno-24-142"></a>
<a id="__codelineno-24-143" name="__codelineno-24-143" href="#__codelineno-24-143"></a>//<span class="w"> </span>Enable<span class="w"> </span>logging<span class="w"> </span>to<span class="w"> </span>syslog.<span class="w"> </span>Default<span class="w"> </span>is<span class="w"> </span>False
<a id="__codelineno-24-144" name="__codelineno-24-144" href="#__codelineno-24-144"></a>//<span class="w"> </span>Unattended-Upgrade::SyslogEnable<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-24-145" name="__codelineno-24-145" href="#__codelineno-24-145"></a>
<a id="__codelineno-24-146" name="__codelineno-24-146" href="#__codelineno-24-146"></a>//<span class="w"> </span>Specify<span class="w"> </span>syslog<span class="w"> </span>facility.<span class="w"> </span>Default<span class="w"> </span>is<span class="w"> </span>daemon
<a id="__codelineno-24-147" name="__codelineno-24-147" href="#__codelineno-24-147"></a>//<span class="w"> </span>Unattended-Upgrade::SyslogFacility<span class="w"> </span><span class="s2">&quot;daemon&quot;</span><span class="p">;</span>
<a id="__codelineno-24-148" name="__codelineno-24-148" href="#__codelineno-24-148"></a>
<a id="__codelineno-24-149" name="__codelineno-24-149" href="#__codelineno-24-149"></a>//<span class="w"> </span>Download<span class="w"> </span>and<span class="w"> </span>install<span class="w"> </span>upgrades<span class="w"> </span>only<span class="w"> </span>on<span class="w"> </span>AC<span class="w"> </span>power
<a id="__codelineno-24-150" name="__codelineno-24-150" href="#__codelineno-24-150"></a>//<span class="w"> </span><span class="o">(</span>i.e.<span class="w"> </span>skip<span class="w"> </span>or<span class="w"> </span>gracefully<span class="w"> </span>stop<span class="w"> </span>updates<span class="w"> </span>on<span class="w"> </span>battery<span class="o">)</span>
<a id="__codelineno-24-151" name="__codelineno-24-151" href="#__codelineno-24-151"></a>//<span class="w"> </span>Unattended-Upgrade::OnlyOnACPower<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-152" name="__codelineno-24-152" href="#__codelineno-24-152"></a>
<a id="__codelineno-24-153" name="__codelineno-24-153" href="#__codelineno-24-153"></a>//<span class="w"> </span>Download<span class="w"> </span>and<span class="w"> </span>install<span class="w"> </span>upgrades<span class="w"> </span>only<span class="w"> </span>on<span class="w"> </span>non-metered<span class="w"> </span>connection
<a id="__codelineno-24-154" name="__codelineno-24-154" href="#__codelineno-24-154"></a>//<span class="w"> </span><span class="o">(</span>i.e.<span class="w"> </span>skip<span class="w"> </span>or<span class="w"> </span>gracefully<span class="w"> </span>stop<span class="w"> </span>updates<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>metered<span class="w"> </span>connection<span class="o">)</span>
<a id="__codelineno-24-155" name="__codelineno-24-155" href="#__codelineno-24-155"></a>//<span class="w"> </span>Unattended-Upgrade::Skip-Updates-On-Metered-Connections<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">;</span>
<a id="__codelineno-24-156" name="__codelineno-24-156" href="#__codelineno-24-156"></a>
<a id="__codelineno-24-157" name="__codelineno-24-157" href="#__codelineno-24-157"></a>//<span class="w"> </span>Verbose<span class="w"> </span>logging
<a id="__codelineno-24-158" name="__codelineno-24-158" href="#__codelineno-24-158"></a>//<span class="w"> </span>Unattended-Upgrade::Verbose<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
<a id="__codelineno-24-159" name="__codelineno-24-159" href="#__codelineno-24-159"></a>
<a id="__codelineno-24-160" name="__codelineno-24-160" href="#__codelineno-24-160"></a>//<span class="w"> </span>Print<span class="w"> </span>debugging<span class="w"> </span>information<span class="w"> </span>both<span class="w"> </span><span class="k">in</span><span class="w"> </span>unattended-upgrades<span class="w"> </span>and
<a id="__codelineno-24-161" name="__codelineno-24-161" href="#__codelineno-24-161"></a>//<span class="w"> </span><span class="k">in</span><span class="w"> </span>unattended-upgrade-shutdown
<a id="__codelineno-24-162" name="__codelineno-24-162" href="#__codelineno-24-162"></a>//<span class="w"> </span>Unattended-Upgrade::Debug<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">;</span>
</code></pre></div>
<p>查看日志：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>cat<span class="w"> </span>/var/log/unattended-upgrades/unattended-upgrades.log
</code></pre></div>
<h3 id="_9">安装软件组合</h3>
<p>Debian 下有：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># 进入命令行交互界面，可以选择安装哪个桌面</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>sudo<span class="w"> </span>tasksel
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="c1"># 列出可以安装的桌面环境</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>tasksel<span class="w"> </span>--list-tasks
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>tasksel<span class="w"> </span>--task-packages<span class="w"> </span>cinnamon-desktop
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>sudo<span class="w"> </span>tasksel<span class="w"> </span>install<span class="w"> </span>cinnamon-desktop
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>sudo<span class="w"> </span>tasksel<span class="w"> </span>install<span class="w"> </span>gnome-desktop
</code></pre></div>
<p>Fedora 下有：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># 检查有哪些可用的桌面环境</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>dnf<span class="w"> </span>grouplist<span class="w"> </span>-v
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1"># 安装 Cinnamon</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>@cinnamon-desktop-environment
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="c1"># sudo dnf install switchdesk switchdesk-gui</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="c1"># 重启</span>
</code></pre></div>
<h3 id="apt-upgrade-dist-upgrade">apt upgrade 与 dist-upgrade 对比</h3>
<p>Below is an excerpt from <code>man apt-get</code>. <strong>Using upgrade keeps to the rule: under no circumstances are currently installed packages removed, or packages not already installed retrieved and installed.</strong> If that's important to you, use <code>apt-get upgrade</code>. If you want things to "just work", you probably want <code>apt-get dist-upgrade</code> to ensure dependencies are resolved.</p>
<p>To expand on why you'd want <em>upgrade</em> instead of <em>dist-upgrade</em>, if you are a systems administrator, you need predictability. You might be using advanced features like <a href="http://wiki.debian.org/AptPreferences">apt pinning</a> or pulling from a collection of <a href="https://launchpad.net/ubuntu/+ppas">PPAs</a> (perhaps you have an in-house PPA), with various automations in place to inspect your system and available upgrades instead of always eagerly upgrading all available packages. You would get very frustrated when apt performs unscripted behavior, particularly if this leads to downtime of a production service.</p>
<blockquote>
<p>upgrade
upgrade is used to install the newest versions of all packages
currently installed on the system from the sources enumerated in
/etc/apt/sources.list. Packages currently installed with new
versions available are retrieved and upgraded; under no
circumstances are currently installed packages removed, or packages
not already installed retrieved and installed. New versions of
currently installed packages that cannot be upgraded without
changing the install status of another package will be left at
their current version. An update must be performed first so that
apt-get knows that new versions of packages are available.</p>
<p>dist-upgrade
dist-upgrade in addition to performing the function of upgrade,
also intelligently handles changing dependencies with new versions
of packages; apt-get has a "smart" conflict resolution system, and
it will attempt to upgrade the most important packages at the
expense of less important ones if necessary. So, dist-upgrade
command may remove some packages. The /etc/apt/sources.list file
contains a list of locations from which to retrieve desired package
files. See also apt_preferences(5) for a mechanism for overriding
the general settings for individual packages.</p>
</blockquote>
<h3 id="snap">snap 命令</h3>
<p>参考：<a href="https://www.addictivetips.com/ubuntu-linux-tips/enable-snap-package-support-linux-mint/">https://www.addictivetips.com/ubuntu-linux-tips/enable-snap-package-support-linux-mint/</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>snap<span class="w"> </span>find<span class="w"> </span><span class="s2">&quot;program name&quot;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>sudo<span class="w"> </span>snap<span class="w"> </span>install<span class="w"> </span>programname
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1"># 更新 snap 软件</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>sudo<span class="w"> </span>snap<span class="w"> </span>refresh
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1"># 升级指定的 Snap 软件包</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>sudo<span class="w"> </span>snap<span class="w"> </span>refresh<span class="w"> </span><span class="s2">&quot;包名&quot;</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1"># 检查那些包能更新</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>snap<span class="w"> </span>refresh<span class="w"> </span>--list
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="c1"># 卸载软件</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>sudo<span class="w"> </span>snap<span class="w"> </span>remove<span class="w"> </span>programname
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="c1"># 列出已经安装的包</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>sudo<span class="w"> </span>snap<span class="w"> </span>list
</code></pre></div>
<h2 id="grub">GRUB 管理</h2>
<p>参考：<a href="https://www.debian.org/doc/manuals/debian-handbook/sect.config-bootloader.zh-cn.html#sect.config-grub">https://www.debian.org/doc/manuals/debian-handbook/sect.config-bootloader.zh-cn.html#sect.config-grub</a></p>
<p><a href="https://help.ubuntu.com/community/Grub2">https://help.ubuntu.com/community/Grub2</a></p>
<p><a href="https://help.ubuntu.com/community/Grub2/Setup">https://help.ubuntu.com/community/Grub2/Setup</a></p>
<p><a href="https://www.gnu.org/software/grub/manual/grub/html_node/Simple-configuration.html">https://www.gnu.org/software/grub/manual/grub/html_node/Simple-configuration.html</a></p>
<h3 id="_10">修改默认启动项</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># 修改默认启动项</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>sudo<span class="w"> </span>grub-set-default<span class="w"> </span><span class="m">0</span>
</code></pre></div>
<h3 id="grub_1">修改 GRUB 启动等待时间</h3>
<p>树莓派没有 grub</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/default/grub.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/default/grub<span class="w"> </span>/etc/default/grub.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="c1"># GRUB 启动时间设置为 3 秒</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>sudo<span class="w"> </span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^GRUB_TIMEOUT=.*$/GRUB_TIMEOUT=3/&#39;</span><span class="w"> </span>/etc/default/grub
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>sudo<span class="w"> </span>update-grub
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="c1"># If you change this file, run &#39;update-grub&#39; afterwards to update /boot/grub/grub.cfg.</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="c1"># For full documentation of the options in this file, see: info -f grub -n &#39;Simple configuration&#39;</span>
</code></pre></div>
<p>GRUB 2 configuration is stored in <code>/boot/grub/grub.cfg</code>, but this file (in Debian) is generated from others. Be careful not to modify it by hand, since such local modifications will be lost the next time <code>update-grub</code> is run (which may occur upon update of various packages). The most common modifications of the <code>/boot/grub/grub.cfg</code> file (to add command line parameters to the kernel or change the duration that the menu is displayed, for example) are made through the variables in <code>/etc/default/grub</code>. To add entries to the menu, you can either create a <code>/boot/grub/custom.cfg</code> file or modify the <code>/etc/grub.d/40_custom</code> file. For more complex configurations, you can modify other files in <code>/etc/grub.d</code>, or add to them; these scripts should return configuration snippets, possibly by making use of external programs. These scripts are the ones that will update the list of kernels to boot: <code>10_linux</code> takes into consideration the installed Linux kernels; <code>20_linux_xen</code> takes into account Xen virtual systems, and <code>30_os-prober</code> lists other operating systems (Windows, OS X, Hurd).</p>
<h2 id="_11">磁盘管理</h2>
<p>参考：<a href="https://www.debian.org/doc/manuals/debian-reference/ch09.zh-cn.html#_disk_space_usage">https://www.debian.org/doc/manuals/debian-reference/ch09.zh-cn.html#_disk_space_usage</a></p>
<p>mount 中文手册 <a href="http://www.jinbuguo.com/man/mount.html">http://www.jinbuguo.com/man/mount.html</a></p>
<p>fstab WIKI <a href="https://wiki.archlinux.org/index.php/Fstab_(简体中文)">https://wiki.archlinux.org/index.php/Fstab_(简体中文)</a></p>
<p>浅析 fstab 与移动硬盘挂载方法 <a href="http://shumeipai.nxez.com/2019/01/17/fstab-and-mobile-hard-disk-mounting-method.html">http://shumeipai.nxez.com/2019/01/17/fstab-and-mobile-hard-disk-mounting-method.html</a></p>
<p><a href="http://www.jinbuguo.com/systemd/systemd-gpt-auto-generator.html">http://www.jinbuguo.com/systemd/systemd-gpt-auto-generator.html</a></p>
<h3 id="_12">常用命令</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># lsblk添加 f 参数可以查看文件系统的格式、UUID</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>lsblk<span class="w"> </span>-f
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="c1"># 查看设备块的UUID、PARTUUID</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>blkid
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="c1"># df 也能看出分区格式</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>df<span class="w"> </span>-hT
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="c1"># 使用分区工具也可以</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="c1"># gdisk可以查看分区类型代码</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>sudo<span class="w"> </span>gdisk<span class="w"> </span>-l<span class="w"> </span>/dev/sda
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>sudo<span class="w"> </span>fdisk<span class="w"> </span>-l
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="c1"># parted可以区别 FAT32、FAT16</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>sudo<span class="w"> </span>parted<span class="w"> </span>-l
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="c1"># 修改卷标</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a>sudo<span class="w"> </span>tune2fs<span class="w"> </span>-L<span class="w"> </span>orico<span class="w"> </span>/dev/sdb1
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="c1"># 修改 UUID</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a>sudo<span class="w"> </span>tune2fs<span class="w"> </span>-U<span class="w"> </span>****<span class="w"> </span>/dev/sdb1
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="c1"># 检查挂载日志</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u
</code></pre></div>
<h3 id="_13">自动挂载</h3>
<p>参考：<a href="http://www.jinbuguo.com/storage/gpt.html">http://www.jinbuguo.com/storage/gpt.html</a></p>
<p><a href="http://www.jinbuguo.com/systemd/systemd-gpt-auto-generator.html">http://www.jinbuguo.com/systemd/systemd-gpt-auto-generator.html</a></p>
<p>借助 <code>systemd-gpt-auto-generator</code> 工具，Linux 可以将文件系统的配置集中到 GPT 分区表中，不用手动配置 <code>/etc/fstab</code> 就能实现自动挂载，Linux 下甚至可以不使用<code>/etc/fstab</code>文件。</p>
<p>分区类型 GUID（Partition Type ID）既不是 UUID，也不是 PARTUUID。</p>
<table>
<thead>
<tr>
<th>分区类型 GUID（小写）</th>
<th>名称</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>EBD0A0A2-B9E5-4433-87C0-68B6B72699C7</td>
<td>Microsoft basic data</td>
<td>微软基本数据分区</td>
</tr>
<tr>
<td>0FC63DAF-8483-4772-8E79-3D69D8477DE4</td>
<td>Linux filesystem</td>
<td>数据分区。Linux 曾经使用和 Windows 基本数据分区相同的 GUID。这个新的 GUID 是由 GPT fdisk 和 GNU Parted 开发者根据 Linux 传统的"8300"分区代码发明的。</td>
</tr>
<tr>
<td>4f68bce3-e8cd-4db1-96e7-fbcaf984b709</td>
<td>Root Partition (x86-64)</td>
<td>x86-64 根分区。对于 64 位 x86-64 平台，ESP 所在物理磁盘的第一个根分区将被挂载为 <code>/</code>。这是 systemd 的发明，可用于无 fstab 时的自动挂载。</td>
</tr>
<tr>
<td>69dad710-2ce4-4e3c-b16c-21a1d49abed3</td>
<td>Root Partition (32-bit ARM)</td>
<td>ARM32 根分区。对于 32 位 ARM 平台，ESP 所在物理磁盘的第一个根分区将被挂载为 <code>/</code>。这是 systemd 的发明，可用于无 fstab 时的自动挂载。</td>
</tr>
<tr>
<td>b921b045-1df0-41c3-af44-4c6f280d3fae</td>
<td>Root Partition (64-bit ARM)</td>
<td>ARM64 根分区。对于 64 位 ARM 平台，ESP 所在物理磁盘的第一个根分区将被挂载为 <code>/</code>。这是 systemd 的发明，可用于无 fstab 时的自动挂载。</td>
</tr>
<tr>
<td>933ac7e1-2eb4-4f13-b844-0e14e2aef915</td>
<td>Home Partition</td>
<td>家分区。根分区所在物理磁盘的第一个家分区将被挂载为 <code>/home</code>。这是 systemd 的发明，可用于无 fstab 时的自动挂载。</td>
</tr>
<tr>
<td>0657fd6d-a4ab-43c4-84e5-0933c84b4f4f</td>
<td>Swap</td>
<td>交换分区。根分区所在物理磁盘的所有交换分区都将被挂载。不是 systemd 的发明，但同样可用于无 fstab 时的自动挂载。</td>
</tr>
<tr>
<td>c12a7328-f81f-11d2-ba4b-00a0c93ec93b</td>
<td>EFI System Partition (ESP)</td>
<td>根分区所在物理磁盘的第一个 ESP 分区将被挂载为 <code>/boot</code> 或 <code>/efi</code> (详见后文)。</td>
</tr>
</tbody>
</table>
<h3 id="_14">挂载参数</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="na">&lt;fs&gt;      &lt;dir&gt;   &lt;type&gt;  &lt;options&gt;              &lt;dump&gt; &lt;pass&gt;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="na">SSD固态硬盘：</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="na">/dev/sda1  /       ext4   defaults,noatime,discard   0  1</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="na">/dev/sda2  /home   ext4   defaults,noatime,discard   0  2</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="na">机械硬盘：</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="na">/dev/sda1  /       ext4   defaults,noatime   0  1</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="na">/dev/sda2  /home   ext4   defaults,noatime   0  2</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="c1"># nofail,x-systemd.device-timeout=30 在挂载失败时 (比如设备不存在) 直接跳过。</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="c1"># nofail 通常会结合 x-systemd.device-timeout 一起使用，表示等待该设备多长时间才认为可用于挂载 (即判断该设备可执行挂载操作)，默认等待 90s</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="c1">#noauto,x-systemd.automount：noauto 表示开机时不要自动挂载，x-systemd.automount 表示在第一次对该文件系统进行访问时自动挂载。</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="c1">#内核会将从触发自动挂载到挂载成功期间所有对该设备的访问缓冲下来，当挂载成功后再去访问该设备。</span>
</code></pre></div>
<p>参数解释：</p>
<ul>
<li>defaults - 使用文件系统的默认挂载参数，例如 ext4 的默认参数为:rw, suid, dev, exec, auto, nouser, async.</li>
<li>noatime - Linux 在默认情况下使用 <code>atime</code> 选项，每次在磁盘上读取（或写入）数据时都会产生一个记录。这是为服务器设计的，在桌面使用中意义不大。使用 <code>noatime</code> 选项阻止了读文件、目录时的写操作；使用 <code>relatime</code> 选项后，只有文件被修改时才会产生文件访问时间写操作。<code>relatime</code> 是比较好的折衷，<a href="https://wiki.archlinux.org/index.php/Mutt">Mutt</a> 等程序还能工作，但是仍然能够通过减少访问时间更新提升系统性能。</li>
</ul>
<blockquote>
<p>注意：  <code>noatime</code> 已经包含了 <code>nodiratime</code>。不需要同时指定。</p>
</blockquote>
<ul>
<li>discard - 启用固态硬盘的 trim。</li>
<li>
<p><strong>dump</strong> dump 工具通过它决定何时作备份。dump 会检查其内容，并用数字来决定是否对这个文件系统进行备份。允许的数字是 0 和 1。0 表示忽略，1 则进行备份。大部分的用户是没有安装 dump 的，对他们而言 <code>dump</code> 应设为 0。</p>
</li>
<li>
<p><strong>pass</strong> fsck 读取 <code>pass</code> 的数值来决定需要检查的文件系统的检查顺序。允许的数字是 0, 1, 和 2。根目录应当获得最高的优先权 1, 其它所有需要被检查的设备设置为 2. 0 表示设备不会被 fsck 所检查。</p>
</li>
</ul>
<p>手动运行 fsck 工具磁盘参考：<a href="http://www.jinbuguo.com/man/e2fsck.html">http://www.jinbuguo.com/man/e2fsck.html</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1"># 如果有程序在使用磁盘，会导致卸载磁盘失败。</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/dev/sdb2<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>e2fsck<span class="w"> </span>-p<span class="w"> </span>/dev/sdb2
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="c1"># 或者使用 fsck.ext4</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/dev/sdb2<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>fsck.ext4<span class="w"> </span>-p<span class="w"> </span>/dev/sdb2
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="c1"># 重新挂载</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/sdb1<span class="w"> </span>/mnt/sdb1
</code></pre></div>
<h3 id="trim">检验 TRIM 支持</h3>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/34683444">https://zhuanlan.zhihu.com/p/34683444</a></p>
<p>可以直接使用 lsblk 来检测，DISC-GRAN (discard granularity) 和 DISC-MAX (discard max bytes) 列非 0 表示该 SSD 支持 TRIM 功能。这个方法是最简单的，推荐使用。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>$<span class="w"> </span>lsblk<span class="w"> </span>--discard
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>NAME<span class="w">    </span>DISC-ALN<span class="w"> </span>DISC-GRAN<span class="w"> </span>DISC-MAX<span class="w"> </span>DISC-ZERO
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>sda<span class="w">            </span><span class="m">0</span><span class="w">        </span>0B<span class="w">       </span>0B<span class="w">         </span><span class="m">0</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>├─sda1<span class="w">         </span><span class="m">0</span><span class="w">        </span>0B<span class="w">       </span>0B<span class="w">         </span><span class="m">0</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>├─sda2<span class="w">         </span><span class="m">0</span><span class="w">        </span>0B<span class="w">       </span>0B<span class="w">         </span><span class="m">0</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>└─sda3<span class="w">         </span><span class="m">0</span><span class="w">        </span>0B<span class="w">       </span>0B<span class="w">         </span><span class="m">0</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>sr0<span class="w">            </span><span class="m">0</span><span class="w">        </span>0B<span class="w">       </span>0B<span class="w">         </span><span class="m">0</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>nvme0n1<span class="w">      </span><span class="m">512</span><span class="w">      </span>512B<span class="w">       </span>2T<span class="w">         </span><span class="m">1</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>nvme1n1<span class="w">      </span><span class="m">512</span><span class="w">      </span>512B<span class="w">       </span>2T<span class="w">         </span><span class="m">1</span>
</code></pre></div>
<p>可以通过 /sys/block 下的信息来判断 SSD 支持 TRIM, discard_granularity 非 0 表示支持。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>$<span class="w"> </span>cat<span class="w"> </span>/sys/block/sda/queue/discard_granularity
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="m">0</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>$<span class="w"> </span>cat<span class="w"> </span>/sys/block/sdb/queue/discard_granularity
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="m">0</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>$<span class="w"> </span>cat<span class="w"> </span>/sys/block/nvme0n1/queue/discard_granularity
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="m">512</span>
</code></pre></div>
<p>网上大部分文章介绍通过 hdparm 来检测（包括 arch linux 的 wiki），不过我在 Intel P4500 SSD 测试没有返回该信息。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>$<span class="w"> </span>hdparm<span class="w"> </span>-I<span class="w"> </span>/dev/sda<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>TRIM
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">        </span>*<span class="w">    </span>Data<span class="w"> </span>Set<span class="w"> </span>Management<span class="w"> </span>TRIM<span class="w"> </span>supported<span class="w"> </span><span class="o">(</span>limit<span class="w"> </span><span class="m">1</span><span class="w"> </span>block<span class="o">)</span>
</code></pre></div>
<h3 id="trim_1">通过挂载参数启用 TRIM</h3>
<p>参考：<a href="https://wiki.archlinux.org/index.php/Solid_state_drive_(简体中文)">https://wiki.archlinux.org/index.php/Solid_state_drive_(简体中文)</a></p>
<p><a href="http://www.jinbuguo.com/storage/ssd_intro.html">http://www.jinbuguo.com/storage/ssd_intro.html</a></p>
<p>在<code>/etc/fstab</code>里使用 <code>discard</code> 这个参数以启用 TRIM。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="na">/dev/sda1  /       ext4   defaults,noatime,discard   0  1</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="na">/dev/sda2  /home   ext4   defaults,noatime,discard   0  2</span>
</code></pre></div>
<p>注意：</p>
<blockquote>
<ul>
<li>自 Linux 内核版本 3.7 起，以下文件系统支持 TRIM: <a href="https://wiki.archlinux.org/index.php/Ext4">Ext4</a>, <a href="https://wiki.archlinux.org/index.php/Btrfs">Btrfs</a>, <a href="https://wiki.archlinux.org/index.php/JFS">JFS</a>, VFAT, <a href="https://wiki.archlinux.org/index.php/XFS">XFS</a>.</li>
<li>VFAT 只有挂载参数为 <code>discard</code> (而不是 fstrim ) 时才支持 TRIM。</li>
<li>TRIM 当在 SSD 上使用块设备加密时并非默认启用；更多内容见 <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Specialties#Discard.2FTRIM_support_for_solid_state_drives_.28SSD.29">Dm-crypt/TRIM support for SSD</a>。</li>
<li>如果你周期性运行 <code>fstrim</code> 的话没必要使用 <code>discard</code> 参数。</li>
<li>在 ext3 的根分区上使用 <code>discard</code> 参数的话会导致它被挂载为只读模式。所以应该使用 ext4 分区格式。</li>
</ul>
</blockquote>
<p>fstrim 使用法参考：<a href="http://www.jinbuguo.com/man/fstrim.html">http://www.jinbuguo.com/man/fstrim.html</a></p>
<p><strong>警告：</strong></p>
<blockquote>
<p>用户试图以 <code>discard</code> 参数挂载分区前需确认你们的 SSD 支持 TRIM，否则会造成数据丢失！</p>
</blockquote>
<p>使用 tune2fs 命令也可以实现启用 TRIM 支持。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>sudo<span class="w"> </span>tune2fs<span class="w"> </span>-o<span class="w"> </span>discard<span class="w"> </span>/dev/sdb1
</code></pre></div>
<h3 id="_15">按需挂载</h3>
<p>参考：<a href="https://zhangguanzhang.github.io/2019/01/30/fstab/">https://zhangguanzhang.github.io/2019/01/30/fstab/</a></p>
<p><a href="https://blog.csdn.net/richerg85/article/details/17917129">https://blog.csdn.net/richerg85/article/details/17917129</a></p>
<p><a href="http://www.jinbuguo.com/systemd/systemd.mount.html">http://www.jinbuguo.com/systemd/systemd.mount.html</a></p>
<p><code>defaults</code>下有<code>auto</code>会被开机挂载，但有时候并不想开机立即挂载，比如：分区较大、加密磁盘的挂载时间较长，网络磁盘受网络影响可能也会很慢。这时候就要按需挂载。</p>
<p>如果 <code>/home</code> 分区较大，可以让不依赖 <code>/home</code> 分区的服务先启动。把下面的参数添加到 <code>/etc/fstab</code> 文件中 <code>/home</code> 项目的参数部分即可：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="na">noauto,x-systemd.automount</span>
</code></pre></div>
<p>这样 <code>/home</code> 分区只有需要访问时才会被挂载。内核会缓存所有的文件操作，直到 <code>/home</code> 分区准备完成。</p>
<p><strong>注意：</strong> 这样做会使 <code>/home</code> 的文件系统类型被识别为 <code>autofs</code>，造成 <a href="https://wiki.archlinux.org/index.php/Mlocate">mlocate</a> 查询时忽略该目录。实际加速效果因配置而异，所以请自己权衡是否需要。</p>
<p>挂载远程文件系统也是同理。如果你仅想在需要的时候才挂载，也可以添加 <code>noauto,x-systemd.automount</code> 参数。另外，可以设置 <code>x-systemd.device-timeout=#</code> 参数设置超时时间，以防止网络资源不能访问的时候浪费时间。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>//192.168.1.*/orico<span class="w"> </span>/mnt/orico<span class="w"> </span>auto<span class="w"> </span><span class="nv">username</span><span class="o">=</span>*,password<span class="o">=</span>*,uid<span class="o">=</span><span class="m">1000</span>,gid<span class="o">=</span><span class="m">1000</span>,x-systemd.automount,noauto,nofail,x-systemd.device-timeout<span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<p>桌面登录一般都会自动挂载。</p>
<p>如果你的加密文件系统需要密钥，则需要添加 <code>noauto</code> 参数到 <code>/etc/crypttab</code> 文件中的对应位置。systemd 开机的时候就不会打开这个加密设备，会一直等待到设备被访问时再使用密钥文件挂载，可以节省一定的时间。例如：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1"># /etc/crypttab</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="c1"># &lt;target name&gt; &lt;source device&gt;         &lt;key file&gt;      &lt;options&gt;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="na">sdb3 /dev/disk/by-uuid/f69bfc4c-26da-4afa-a982-1166e5550839 /root/key.sdb3 luks2,noauto</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="na">data /dev/md0 /root/key noauto</span>
</code></pre></div>
<blockquote>
<p>注意：首次访问非自动挂载的分区，可能会出错，得等一会儿挂载成功后才能正常访问。</p>
</blockquote>
<h3 id="udev">udev 热插拔</h3>
<ul>
<li>通过 fstab 不仅能实现开机自动挂载，还能实现插入可移动磁盘后自动挂载。</li>
<li>还有一种更高级的方法通过设置 udev 来实现自动挂载，还可以定义插入磁盘后，运行指定的程序，可以实现更多的功能。</li>
</ul>
<p>参考：<a href="https://www.ibm.com/developerworks/cn/linux/l-cn-udev/index.html?ca=drs-cn-0304">https://www.ibm.com/developerworks/cn/linux/l-cn-udev/index.html?ca=drs-cn-0304</a></p>
<p><a href="https://www.jianshu.com/p/188828d9777a">https://www.jianshu.com/p/188828d9777a</a></p>
<p><a href="http://shumeipai.nxez.com/2015/06/23/raspberry-pi-usb-storage-device-automatically-mounts.html">http://shumeipai.nxez.com/2015/06/23/raspberry-pi-usb-storage-device-automatically-mounts.html</a></p>
<p><a href="https://wiki.archlinux.org/index.php/Udev_(简体中文)">https://wiki.archlinux.org/index.php/Udev_(简体中文)</a></p>
<p><a href="http://www.jinbuguo.com/systemd/systemd-mount.html">http://www.jinbuguo.com/systemd/systemd-mount.html</a></p>
<p><a href="https://manpages.debian.org/stretch/systemd/systemd.mount.5.en.html">https://manpages.debian.org/stretch/systemd/systemd.mount.5.en.html</a></p>
<p><a href="https://www.cnblogs.com/cslunatic/p/3171837.html">https://www.cnblogs.com/cslunatic/p/3171837.html</a></p>
<p>配置文件：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/udev/rules.d/10-usbstorage.rules
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;add&quot;</span>,<span class="w"> </span><span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sd*&quot;</span>,<span class="w"> </span><span class="nv">SUBSYSTEM</span><span class="o">==</span><span class="s2">&quot;block&quot;</span>,<span class="w"> </span>ENV<span class="o">{</span>ID_BUS<span class="o">}=</span><span class="s2">&quot;usb&quot;</span>,<span class="w"> </span>ENV<span class="o">{</span>ID_FS_USAGE<span class="o">}=</span><span class="s2">&quot;filesystem&quot;</span>,<span class="w"> </span><span class="nv">RUN</span><span class="o">+=</span><span class="s2">&quot;/bin/mount -a&quot;</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>EOF
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>sudo<span class="w"> </span>udevadm<span class="w"> </span>control<span class="w"> </span>--reload
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>systemd-udevd.service
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>systemd-udevd.service<span class="w"> </span>-b<span class="w"> </span>--no-pager
</code></pre></div>
<p>详解：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/udev/rules.d/10-usbstorage.rules
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;add&quot;</span>,<span class="w"> </span><span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sd[c-z][0-9]&quot;</span>,<span class="w"> </span><span class="nv">SUBSYSTEM</span><span class="o">==</span><span class="s2">&quot;block&quot;</span>,<span class="w"> </span>ENV<span class="o">{</span>ID_BUS<span class="o">}=</span><span class="s2">&quot;usb&quot;</span>,<span class="w"> </span>ENV<span class="o">{</span>ID_FS_USAGE<span class="o">}=</span><span class="s2">&quot;filesystem&quot;</span>,<span class="w"> </span><span class="nv">RUN</span><span class="o">+=</span><span class="s2">&quot;/usr/bin/systemd-mount --no-block -o uid=1000,gid=1000 -A </span><span class="nv">$devnode</span><span class="s2">&quot;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="c1"># ACTION==&quot;add&quot;, KERNEL==&quot;sd[c-z][0-9]&quot;, SUBSYSTEM==&quot;block&quot;, ENV{ID_BUS}=&quot;usb&quot;, ENV{ID_FS_USAGE}=&quot;filesystem&quot;, RUN+=&quot;/bin/sleep 10&quot;, RUN+=&quot;/usr/bin/sudo -iu pi /usr/bin/python3 /home/pi/sync/py/Photo_Transfer/test.py&quot;</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="c1"># RUN+=&quot;/usr/bin/sudo -iu pi /usr/bin/python3 /home/pi/sync/py/Photo_Transfer/transfer2raspi.py&quot;</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;add&quot;</span>,<span class="w"> </span><span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;mmcblk0p1&quot;</span>,<span class="w"> </span><span class="nv">SUBSYSTEM</span><span class="o">==</span><span class="s2">&quot;block&quot;</span>,<span class="w"> </span>ENV<span class="o">{</span>ID_FS_USAGE<span class="o">}=</span><span class="s2">&quot;filesystem&quot;</span>,<span class="w"> </span><span class="nv">RUN</span><span class="o">+=</span><span class="s2">&quot;/bin/mkdir -p /media/mmc&quot;</span>,<span class="w"> </span><span class="nv">RUN</span><span class="o">+=</span><span class="s2">&quot;/usr/bin/systemd-mount --no-block </span><span class="nv">$devnode</span><span class="s2"> /media/mmc&quot;</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;remove&quot;</span>,<span class="w"> </span><span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;mmcblk0p1&quot;</span>,<span class="w"> </span><span class="nv">SUBSYSTEM</span><span class="o">==</span><span class="s2">&quot;block&quot;</span>,<span class="w"> </span>ENV<span class="o">{</span>ID_FS_USAGE<span class="o">}=</span><span class="s2">&quot;filesystem&quot;</span>,<span class="w"> </span><span class="nv">RUN</span><span class="o">+=</span><span class="s2">&quot;/usr/bin/systemd-mount -u </span><span class="nv">$devnode</span><span class="s2">, RUN+=&quot;</span>/bin/rmdir<span class="w"> </span>/media/mmc<span class="s2">&quot;</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="s2">EOF</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="s2">sudo udevadm control --reload</span>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="s2">sudo systemctl daemon-reload</span>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="s2">sudo systemctl restart systemd-udevd.service</span>
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="s2"># udevadm test /dev/sdc</span>
<a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="s2"># sudo udevadm trigger</span>
<a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="s2">systemctl status systemd-udevd.service</span>
<a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a>
<a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="s2"># 查看设备信息</span>
<a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="s2">udevadm info --name=/dev/sdb1</span>
<a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="s2"># 挂载的目录在 /run/media/system</span>
<a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="s2"># --timeout-idle-sec=1 默认空闲1秒后自动卸载。</span>
<a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="s2"># -A 设置 automount 单元的空闲超时时长。 也就是，如果自动挂载点空闲(无访问)超过了指定的时长，那么它将被自动卸载。 systemd.time(7) 手册详细的描述了时长的表示语法。 此选项对仅创建了临时 mount 单元的挂载点没有意义。注意，如果明确或者隐含(仅设置了一个参数)的设置了 --discover 选项， 并且检测到的块设备是U盘之类的可移动块设备，那么此选项的默认值是&quot;</span>1s<span class="s2">&quot;(一秒)， 否则，默认值是 &quot;</span>infinity<span class="s2">&quot;(永不超时)。</span>
<a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="s2"># Debian 9的systemd暂时还不支持 -u 参数。Debian 10已经支持。</span>
</code></pre></div>
<h3 id="_16">磁盘加密</h3>
<p><a href="https://wiki.tankywoo.com/other/raspberry.html">https://wiki.tankywoo.com/other/raspberry.html</a></p>
<p><a href="http://xmodulo.com/how-to-create-encrypted-disk-partition-on-linux.html">http://xmodulo.com/how-to-create-encrypted-disk-partition-on-linux.html</a></p>
<p><a href="https://www.cyberciti.biz/hardware/howto-linux-hard-disk-encryption-with-luks-cryptsetup-command/">https://www.cyberciti.biz/hardware/howto-linux-hard-disk-encryption-with-luks-cryptsetup-command/</a></p>
<p><a href="https://openwrt.org/docs/guide-user/storage/disk.encryption">https://openwrt.org/docs/guide-user/storage/disk.encryption</a></p>
<p><a href="https://www.tuicool.com/articles/3i2iuar">https://www.tuicool.com/articles/3i2iuar</a></p>
<p>挂载加密分区：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>lsblk<span class="w"> </span>-f
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="nv">dev_name</span><span class="o">=</span><span class="s2">&quot;sdb3&quot;</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>open<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="w"> </span><span class="nv">$dev_name</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>lsblk<span class="w"> </span>-f
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="c1"># 查看映射设备的状态</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksDump<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="c1"># 删除编号1密钥槽，至少要保留一个密钥槽。</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksKillSlot<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="c1"># 自动挂载</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="c1"># 生成一个 64k 的、随机的 key file，设置为 root 用户只读。</span>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/urandom<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/root/key.<span class="nv">$dev_name</span><span class="w"> </span><span class="nv">bs</span><span class="o">=</span><span class="m">1024</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">64</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">400</span><span class="w"> </span>/root/key.<span class="nv">$dev_name</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="c1"># Add the key file to LUKS configuration，提示确认密码。</span>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksAddKey<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="w"> </span>/root/key.<span class="nv">$dev_name</span>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="c1"># Verify that the key file has been successfully added，可以看到Keyslots下面多了一个密钥。</span>
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksDump<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a><span class="c1"># As you can see above, the key slot 1 has been occupied with the key file.</span>
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a><span class="c1"># Next, obtain the UUID of the encrypted block device.</span>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="nv">luks_uuid</span><span class="o">=</span><span class="sb">`</span>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksUUID<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="sb">`</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$luks_uuid</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="c1"># Now, edit /etc/crypttab to add the following entry.</span>
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a><span class="c1"># &lt;target name&gt; &lt;source device&gt;  &lt;key file&gt; &lt;options&gt;</span>
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee -a /etc/crypttab</span>
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a><span class="s">sdb3 /dev/disk/by-uuid/$luks_uuid /root/key.$dev_name luks2,noauto</span>
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a><span class="s">EOF</span>
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a>cat<span class="w"> </span>/etc/crypttab
<a id="__codelineno-44-29" name="__codelineno-44-29" href="#__codelineno-44-29"></a><span class="c1"># edit /etc/fstab to add mount point information.</span>
<a id="__codelineno-44-30" name="__codelineno-44-30" href="#__codelineno-44-30"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee -a /etc/fstab</span>
<a id="__codelineno-44-31" name="__codelineno-44-31" href="#__codelineno-44-31"></a><span class="s">/dev/mapper/$dev_name /mnt/$dev_name ext4 defaults,noatime,nofail,x-systemd.device-timeout=1  0  2</span>
<a id="__codelineno-44-32" name="__codelineno-44-32" href="#__codelineno-44-32"></a><span class="s">EOF</span>
<a id="__codelineno-44-33" name="__codelineno-44-33" href="#__codelineno-44-33"></a>cat<span class="w"> </span>/etc/fstab
<a id="__codelineno-44-34" name="__codelineno-44-34" href="#__codelineno-44-34"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-44-35" name="__codelineno-44-35" href="#__codelineno-44-35"></a>sudo<span class="w"> </span>mount<span class="w"> </span>-a
<a id="__codelineno-44-36" name="__codelineno-44-36" href="#__codelineno-44-36"></a>df<span class="w"> </span>-hT
</code></pre></div>
<p>创建加密分区：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1"># 安装 cryptsetup 工具。</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>cryptsetup
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="c1"># 查看当前磁盘情况</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>lsblk<span class="w"> </span>-f
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="c1"># 使用cryptsetup组件初始化待加密分区(注意这个会擦除重写分区, 如有资料需注意备份)</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="c1"># 输入大写的 YES 确认, 然后输入两遍密码。</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="nv">dev_name</span><span class="o">=</span><span class="s2">&quot;sdb3&quot;</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="c1"># 从 Debian 10 开始 Cryptsetup 默认在磁盘上使用 LUKS2 格式。</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>--verbose<span class="w"> </span>--verify-passphrase<span class="w"> </span>--type<span class="w"> </span>luks2<span class="w"> </span>luksFormat<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="c1"># 打开加密分区, 映射到系统/var/mapper/下作为一个新的设备，需输入密码。</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="c1"># name是映射到/dev/mapper/下的设备名, 可以任意写</span>
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="c1"># luksOpen 是旧的方法</span>
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>open<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="w"> </span><span class="nv">$dev_name</span>
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="c1"># 这时, lsblk -f 查看会看到多了一个新的磁盘.</span>
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="c1"># 第一次需要格式化这个磁盘, 不需要再分区, 直接格式化/新建文件系统整个磁盘即可:</span>
<a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a>sudo<span class="w"> </span>mke2fs<span class="w"> </span>-t<span class="w"> </span>ext4<span class="w"> </span>/dev/mapper/<span class="nv">$dev_name</span>
<a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a><span class="c1"># 以后就不需要再建文件系统了, 直接mount挂载即可。</span>
<a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="c1"># 默认挂载的用户是root。</span>
<a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/mapper/sdb3<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-45-23" name="__codelineno-45-23" href="#__codelineno-45-23"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-45-24" name="__codelineno-45-24" href="#__codelineno-45-24"></a>
<a id="__codelineno-45-25" name="__codelineno-45-25" href="#__codelineno-45-25"></a><span class="c1"># 其它命令</span>
<a id="__codelineno-45-26" name="__codelineno-45-26" href="#__codelineno-45-26"></a><span class="c1"># 查看映射设备的状态</span>
<a id="__codelineno-45-27" name="__codelineno-45-27" href="#__codelineno-45-27"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>status<span class="w"> </span>/dev/mapper/<span class="nv">$dev_name</span>
<a id="__codelineno-45-28" name="__codelineno-45-28" href="#__codelineno-45-28"></a><span class="c1"># You can check LUKS configuration of the partition by running the following command, which will dump LUKS header information.</span>
<a id="__codelineno-45-29" name="__codelineno-45-29" href="#__codelineno-45-29"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksDump<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-45-30" name="__codelineno-45-30" href="#__codelineno-45-30"></a>
<a id="__codelineno-45-31" name="__codelineno-45-31" href="#__codelineno-45-31"></a><span class="c1"># 自动挂载</span>
<a id="__codelineno-45-32" name="__codelineno-45-32" href="#__codelineno-45-32"></a><span class="c1"># 生成一个 64k 的、随机的 key file，设置为 root 用户只读。</span>
<a id="__codelineno-45-33" name="__codelineno-45-33" href="#__codelineno-45-33"></a>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/urandom<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/root/key.<span class="nv">$dev_name</span><span class="w"> </span><span class="nv">bs</span><span class="o">=</span><span class="m">1024</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">64</span>
<a id="__codelineno-45-34" name="__codelineno-45-34" href="#__codelineno-45-34"></a>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">400</span><span class="w"> </span>/root/key.<span class="nv">$dev_name</span>
<a id="__codelineno-45-35" name="__codelineno-45-35" href="#__codelineno-45-35"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-45-36" name="__codelineno-45-36" href="#__codelineno-45-36"></a><span class="c1"># Add the key file to LUKS configuration，提示确认密码。</span>
<a id="__codelineno-45-37" name="__codelineno-45-37" href="#__codelineno-45-37"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksAddKey<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="w"> </span>/root/key.<span class="nv">$dev_name</span>
<a id="__codelineno-45-38" name="__codelineno-45-38" href="#__codelineno-45-38"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-45-39" name="__codelineno-45-39" href="#__codelineno-45-39"></a><span class="c1"># Verify that the key file has been successfully added，可以看到Keyslots下面多了一个密钥。</span>
<a id="__codelineno-45-40" name="__codelineno-45-40" href="#__codelineno-45-40"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksDump<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-45-41" name="__codelineno-45-41" href="#__codelineno-45-41"></a><span class="c1"># As you can see above, the key slot 1 has been occupied with the key file.</span>
<a id="__codelineno-45-42" name="__codelineno-45-42" href="#__codelineno-45-42"></a><span class="c1"># Next, obtain the UUID of the encrypted block device.</span>
<a id="__codelineno-45-43" name="__codelineno-45-43" href="#__codelineno-45-43"></a><span class="nv">luks_uuid</span><span class="o">=</span><span class="sb">`</span>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksUUID<span class="w"> </span>/dev/<span class="nv">$dev_name</span><span class="sb">`</span>
<a id="__codelineno-45-44" name="__codelineno-45-44" href="#__codelineno-45-44"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$luks_uuid</span>
<a id="__codelineno-45-45" name="__codelineno-45-45" href="#__codelineno-45-45"></a><span class="c1"># Now, edit /etc/crypttab to add the following entry.</span>
<a id="__codelineno-45-46" name="__codelineno-45-46" href="#__codelineno-45-46"></a><span class="c1"># &lt;target name&gt; &lt;source device&gt;  &lt;key file&gt; &lt;options&gt;</span>
<a id="__codelineno-45-47" name="__codelineno-45-47" href="#__codelineno-45-47"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee -a /etc/crypttab</span>
<a id="__codelineno-45-48" name="__codelineno-45-48" href="#__codelineno-45-48"></a><span class="s">sdb3 /dev/disk/by-uuid/$luks_uuid /root/key.$dev_name luks2</span>
<a id="__codelineno-45-49" name="__codelineno-45-49" href="#__codelineno-45-49"></a><span class="s">EOF</span>
<a id="__codelineno-45-50" name="__codelineno-45-50" href="#__codelineno-45-50"></a>cat<span class="w"> </span>/etc/crypttab
<a id="__codelineno-45-51" name="__codelineno-45-51" href="#__codelineno-45-51"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-45-52" name="__codelineno-45-52" href="#__codelineno-45-52"></a><span class="c1"># edit /etc/fstab to add mount point information.</span>
<a id="__codelineno-45-53" name="__codelineno-45-53" href="#__codelineno-45-53"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee -a /etc/fstab</span>
<a id="__codelineno-45-54" name="__codelineno-45-54" href="#__codelineno-45-54"></a><span class="s">/dev/mapper/$dev_name /mnt/$dev_name ext4 defaults,noatime,nofail,x-systemd.device-timeout=1  0  2</span>
<a id="__codelineno-45-55" name="__codelineno-45-55" href="#__codelineno-45-55"></a><span class="s">EOF</span>
<a id="__codelineno-45-56" name="__codelineno-45-56" href="#__codelineno-45-56"></a>cat<span class="w"> </span>/etc/fstab
<a id="__codelineno-45-57" name="__codelineno-45-57" href="#__codelineno-45-57"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-45-58" name="__codelineno-45-58" href="#__codelineno-45-58"></a>sudo<span class="w"> </span>mount<span class="w"> </span>-a
<a id="__codelineno-45-59" name="__codelineno-45-59" href="#__codelineno-45-59"></a>
<a id="__codelineno-45-60" name="__codelineno-45-60" href="#__codelineno-45-60"></a><span class="c1"># 自动挂载的目录所有者是 root，普通用户无法直接创建目录、文件。</span>
<a id="__codelineno-45-61" name="__codelineno-45-61" href="#__codelineno-45-61"></a><span class="c1"># 可以创建一个目录，然后更改用户组。</span>
<a id="__codelineno-45-62" name="__codelineno-45-62" href="#__codelineno-45-62"></a><span class="nb">cd</span><span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-45-63" name="__codelineno-45-63" href="#__codelineno-45-63"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nb">test</span>
<a id="__codelineno-45-64" name="__codelineno-45-64" href="#__codelineno-45-64"></a>sudo<span class="w"> </span>chown<span class="w"> </span><span class="m">1000</span>:1000<span class="w"> </span><span class="nb">test</span>
</code></pre></div>
<p>用 cryptsetup 创建 LUKS 的虚拟加密盘（逻辑卷）</p>
<p>cryptsetup 也可以支持虚拟加密盘（逻辑加密盘）——类似于 TrueCrypt 那样。</p>
<p>何为“虚拟加密盘”？所谓的“虚拟加密盘”，就是说这个盘并【不是】对应物理分区，而是对应一个虚拟分区（逻辑卷）。这个虚拟分区，说白了就是一个大文件。虚拟分区有多大，这个文件就有多大。</p>
<p>“虚拟加密盘”的一个主要好处在于——可以拷贝复制。比如你可以在不同的机器之间复制这个虚假分区对应的大文件。甚至可以把这个大文件上传到云端（网盘）进行备份——这么干的好处参见《文件备份技巧：组合“虚拟加密盘”和“网盘” 》。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1"># 创建一个文件作为容器</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="c1"># 下面用 dd 命令创建100MB的空文件，该文件位于 ~/.local/luks 路径。当然，你也可以指定其它的文件大小或其它的文件路径。</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="nv">luks_name</span><span class="o">=</span><span class="s2">&quot;luks&quot;</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="nv">luks_path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.local/luks&quot;</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$luks_path</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span><span class="nv">$luks_path</span>/<span class="nv">$luks_name</span>.vol<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">100</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="c1"># 用 LUKS 方式加密（格式化）该文件容器</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="c1"># 使用前面章节提及的参数，对上述文件容器进行加密。得到一个虚拟的加密盘。</span>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="c1"># 输入大写的 YES 确认, 然后输入两遍密码。</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>-v<span class="w"> </span>luksFormat<span class="w"> </span><span class="nv">$luks_path</span>/<span class="nv">$luks_name</span>.vol
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="c1"># 打开加密之后的文件容器</span>
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="c1"># 使用如下命令打开上述的文件容器，使用的映射名是 $luks_name 。</span>
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>open<span class="w"> </span><span class="nv">$luks_path</span>/<span class="nv">$luks_name</span>.vol<span class="w"> </span><span class="nv">$luks_name</span>
<a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="c1"># 打开之后，该虚拟盘会被映射到 /dev/mapper/$luks_name</span>
<a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="c1"># 你可以用如下命令看到：</span>
<a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a>ls<span class="w"> </span>/dev/mapper/
<a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="c1"># 创建文件系统</span>
<a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="c1"># 由于加密盘已经打开并映射到 /dev/mapper/$luks_name 你可以在 /dev/mapper/$luks_name 之上创建文件系统。命令如下（文件系统类型以 ext4 为例）</span>
<a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a>sudo<span class="w"> </span>mkfs.ext4<span class="w"> </span>/dev/mapper/<span class="nv">$luks_name</span>
<a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="c1"># 挂载文件系统</span>
<a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="c1"># 创建完文件系统之后，你还需要挂载该文件系统，才能使用它。挂载的步骤如下。</span>
<a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="c1"># 首先，你要先创建一个目录，作为【挂载点】。俺把“挂载点”的目录设定为 /mnt/xxx（当然，你可以用其它目录作为挂载点）。</span>
<a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/mnt/<span class="nv">$luks_name</span>
<a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="c1"># 创建好“挂载点”对应的目录，下面就可以进行文件系统的挂载。</span>
<a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/mapper/<span class="nv">$luks_name</span><span class="w"> </span>/mnt/<span class="nv">$luks_name</span>
<a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="c1"># 挂载好文件系统，用如下命令查看，就可以看到你刚才挂载的文件系统。</span>
<a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a>df<span class="w"> </span>-hT
<a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="c1"># 接下来，你就可以通过 /mnt/$luks_name 目录去访问该文件系统。当你往 /mnt/$luks_name 下面创建下级目录或下级文件，这些东东将被存储到该虚拟加密盘上。</span>
<a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a>
<a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="c1"># 退出。当你使用完，要记得退出。包括下面两步：</span>
<a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="c1"># 卸载文件系统</span>
<a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/mnt/<span class="nv">$luks_name</span>
<a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a><span class="c1"># 关闭加密盘</span>
<a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>close<span class="w"> </span><span class="nv">$luks_name</span>
</code></pre></div>
<p>当你使用 luksFormat 进行格式化的时候，下面是几个常用参数以及推荐的参数值：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">参数名称</th>
<th style="text-align: center;">含义</th>
<th style="text-align: center;">推荐值</th>
<th style="text-align: left;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">--cipher</td>
<td style="text-align: center;">加密方式</td>
<td style="text-align: center;">aes-xts-plain64</td>
<td style="text-align: left;">默认为：aes-xts-plain64。AES 加密算法搭配 XTS 模式</td>
</tr>
<tr>
<td style="text-align: center;">--key-size</td>
<td style="text-align: center;">密钥长度</td>
<td style="text-align: center;">512</td>
<td style="text-align: left;">默认为：512。因为 XTS 模式需要两对密钥，每个的长度是 256</td>
</tr>
<tr>
<td style="text-align: center;">--hash</td>
<td style="text-align: center;">散列算法</td>
<td style="text-align: center;">sha512</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: center;">--iter-time</td>
<td style="text-align: center;">迭代时间</td>
<td style="text-align: center;">最好大于 10000</td>
<td style="text-align: left;">默认为：2000。单位是毫秒。该值越大，暴力破解越难。但是打开加密盘时也要等待更久</td>
</tr>
</tbody>
</table>
<p>常用的命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nv">dev_name</span><span class="o">=</span><span class="s2">&quot;sdb3&quot;</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="c1"># 查看header信息</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksDump<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="c1"># 卸载加密盘</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a>sudo<span class="w"> </span>umount<span class="w"> </span>/mnt/<span class="nv">$dev_name</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="c1"># 关闭加密盘映射</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>close<span class="w"> </span><span class="nv">$dev_name</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="c1"># 向 LUKS 设备添加密钥</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksAddKey<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="c1"># 移除 LUKS 设备中指定的密钥或密钥文件</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksRemoveKey<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="c1"># 更改 LUKS 设备中指定的密钥或密钥文件</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksChangeKey<span class="w"> </span>/dev/<span class="nv">$dev_name</span>
</code></pre></div>
<h3 id="_17">创建分区</h3>
<p>MBR 模式最多支持 4 个主分区，扩展分区从 5 开始。GPT 主分区个数不受限制</p>
<p>Linux 命令行下主要有三个分区工具：fdisk、gdisk、parted，三种分区工具的比较：</p>
<ul>
<li>gdisk 仅能处理 GPT 分区格式。</li>
<li>
<p>parted（高级分区工具），parted 命令是由 GNU 组织开发的一款功能强大的磁盘分区和分区大小调整工具，与 fdisk 不同，它支持调整分区的大小。作为一种设计用于 Linux 的工具，它没有构建成处理与 fdisk 关联的多种分区类型，但是，它可以处理最常见的分区格式，包括：ext2、ext3、fat16、fat32、NTFS、ReiserFS、JFS、XFS、UFS、HFS 以及 Linux 交换分区。</p>
</li>
<li>
<p>fdisk 只能用于 MBR 分区，MBR 模式不支持 2T 以上的分区格式。gdisk、parted 可以用于 GPT 分区。</p>
</li>
<li>fdisk 大多数运维工作人员已经习惯这个交互模式。</li>
<li>parted 命令在创建删除分区使用命令比较方便，但是功能不是太完善，没有备份还原命令。</li>
<li>gdisk 在分区上命令和 fdisk 风格一样，使用方便，学习难度低且功能强大，<strong>推荐使用</strong>。</li>
</ul>
<p>图形界面使用 Gparted，大部分的 LInux LiveCD 都会有这个工具。</p>
<blockquote>
<p>对 4k sector 硬盘分区，要实现扇区对齐，可以<code>parted</code> 和 <code>gdisk</code> 两个分区工具。</p>
<p>gdisk 工具默认使用 2048 扇区（1MB）对齐。所以不用担心 4k 对齐了。</p>
<p>parted 和 gdisk 两个分区工具，创建分区后，分区之间都没有间隙。</p>
<p>Boot  disks  for  EFI-based  systems  require an EFI System Partition (gdisk internal code 0xEF00) formatted as FAT-32. I recommended making this partition 550 MiB. (Smaller ESPs are common, but some EFIs have flaky FAT drivers that necessitate a larger partition for reliable operation.)  Boot-related  files  are  stored  here. (Note that GNU Parted identifies such partitions as having the "boot flag" set.)</p>
<p>Some  OSes'  GPT  utilities  create some blank space (typically 128 MiB) after each partition. The intent is to enable future disk utilities to use this space. Such free space is not required of GPT disks, but creating it may help in future disk maintenance. You can use GPT fdisk's relative partition positioning option  (speci‐fying the starting sector as '+128M', for instance) to simplify creating such gaps.</p>
</blockquote>
<p>参考：<a href="https://lvii.github.io/system/2013-10-26-parted-gpt-4k-sector-align-and-uefi/">https://lvii.github.io/system/2013-10-26-parted-gpt-4k-sector-align-and-uefi/</a></p>
<p><a href="https://blog.csdn.net/Icy_Ybk/article/details/88619890">https://blog.csdn.net/Icy_Ybk/article/details/88619890</a></p>
<p>假设一块全新硬盘<code>sdb</code>共 20G，没有任何的分区信息，下面使用 gdisk 创建分区。</p>
<table>
<thead>
<tr>
<th style="text-align: center;">挂载点</th>
<th style="text-align: center;">ESP 分区</th>
<th style="text-align: center;">/</th>
<th style="text-align: center;">/home</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">分区大小</td>
<td style="text-align: center;">300M</td>
<td style="text-align: center;">10G</td>
<td style="text-align: center;">剩余的全部容量</td>
</tr>
<tr>
<td style="text-align: center;">分区类型</td>
<td style="text-align: center;">ESP</td>
<td style="text-align: center;">Linux x86-64 root (/)</td>
<td style="text-align: center;">Linux /home</td>
</tr>
<tr>
<td style="text-align: center;">Partition GUID code（小写）</td>
<td style="text-align: center;">c12a7328-f81f-11d2-ba4b-00a0c93ec93b</td>
<td style="text-align: center;">4f68bce3-e8cd-4db1-96e7-fbcaf984b709</td>
<td style="text-align: center;">933ac7e1-2eb4-4f13-b844-0e14e2aef915</td>
</tr>
<tr>
<td style="text-align: center;">Hex code</td>
<td style="text-align: center;">ef00</td>
<td style="text-align: center;">8304</td>
<td style="text-align: center;">8302</td>
</tr>
</tbody>
</table>
<p>gdisk 默认是 8300 Linux filesystem，使用 DiskGenius 默认是 0700 Microsoft basic data。除了 ESP 其它的其实没有多大影响。借助 <code>systemd-gpt-auto-generator</code> 工具，Linux 可以将文件系统的配置集中到 GPT 分区表中，不用手动配置 <code>/etc/fstab</code> 就能实现自动挂载。</p>
<p>其它常用的分区类型：</p>
<blockquote>
<p>0700 Microsoft basic data</p>
<p>8300 Linux filesystem</p>
<p>8200 Linux swap</p>
</blockquote>
<p>参考：<a href="http://www.jinbuguo.com/systemd/systemd-gpt-auto-generator.html">http://www.jinbuguo.com/systemd/systemd-gpt-auto-generator.html</a></p>
<p>命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1"># 查看硬盘信息</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>$<span class="w"> </span>lsblk
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="c1"># 进入 gdisk 交互界面</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>$<span class="w"> </span>sudo<span class="w"> </span>gdisk<span class="w"> </span>/dev/sdb
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>GPT<span class="w"> </span>fdisk<span class="w"> </span><span class="o">(</span>gdisk<span class="o">)</span><span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.0.3
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>Partition<span class="w"> </span>table<span class="w"> </span>scan:
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">  </span>MBR:<span class="w"> </span>not<span class="w"> </span>present
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">  </span>BSD:<span class="w"> </span>not<span class="w"> </span>present
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">  </span>APM:<span class="w"> </span>not<span class="w"> </span>present
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">  </span>GPT:<span class="w"> </span>not<span class="w"> </span>present
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a>Creating<span class="w"> </span>new<span class="w"> </span>GPT<span class="w"> </span>entries.
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="c1"># 查看帮助</span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a>$<span class="w"> </span>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>?
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a>b<span class="w">       </span>back<span class="w"> </span>up<span class="w"> </span>GPT<span class="w"> </span>data<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>file
<a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a>c<span class="w">       </span>change<span class="w"> </span>a<span class="w"> </span>partition<span class="s1">&#39;s name</span>
<a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="s1">d       delete a partition</span>
<a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="s1">i       show detailed information on a partition</span>
<a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="s1">l       list known partition types</span>
<a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="s1">n       add a new partition</span>
<a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="s1">o       create a new empty GUID partition table (GPT)</span>
<a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="s1">p       print the partition table</span>
<a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a><span class="s1">q       quit without saving changes</span>
<a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="s1">r       recovery and transformation options (experts only)</span>
<a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="s1">s       sort partitions</span>
<a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="s1">t       change a partition&#39;</span>s<span class="w"> </span><span class="nb">type</span><span class="w"> </span>code
<a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a>v<span class="w">       </span>verify<span class="w"> </span>disk
<a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a>w<span class="w">       </span>write<span class="w"> </span>table<span class="w"> </span>to<span class="w"> </span>disk<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
<a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a>x<span class="w">       </span>extra<span class="w"> </span>functionality<span class="w"> </span><span class="o">(</span>experts<span class="w"> </span>only<span class="o">)</span>
<a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a>?<span class="w">       </span>print<span class="w"> </span>this<span class="w"> </span>menu
<a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="c1"># 创建一个新的 空 GUID 分区表（GPT）</span>
<a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>o
<a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a>This<span class="w"> </span>option<span class="w"> </span>deletes<span class="w"> </span>all<span class="w"> </span>partitions<span class="w"> </span>and<span class="w"> </span>creates<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>protective<span class="w"> </span>MBR.
<a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a>Proceed?<span class="w"> </span><span class="o">(</span>Y/N<span class="o">)</span>:<span class="w"> </span>y
<a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="c1"># 显示分区信息，暂时还啥都没有</span>
<a id="__codelineno-48-37" name="__codelineno-48-37" href="#__codelineno-48-37"></a>$<span class="w"> </span>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>p
<a id="__codelineno-48-38" name="__codelineno-48-38" href="#__codelineno-48-38"></a>Disk<span class="w"> </span>/dev/sdb:<span class="w"> </span><span class="m">41943040</span><span class="w"> </span>sectors,<span class="w"> </span><span class="m">20</span>.0<span class="w"> </span>GiB
<a id="__codelineno-48-39" name="__codelineno-48-39" href="#__codelineno-48-39"></a>Model:<span class="w"> </span>VMware<span class="w"> </span>Virtual<span class="w"> </span>S
<a id="__codelineno-48-40" name="__codelineno-48-40" href="#__codelineno-48-40"></a>Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span><span class="m">512</span>/512<span class="w"> </span>bytes
<a id="__codelineno-48-41" name="__codelineno-48-41" href="#__codelineno-48-41"></a>Disk<span class="w"> </span>identifier<span class="w"> </span><span class="o">(</span>GUID<span class="o">)</span>:<span class="w"> </span>FD2F28F7-7840-4F7A-A4ED-483B21B7BD9D
<a id="__codelineno-48-42" name="__codelineno-48-42" href="#__codelineno-48-42"></a>Partition<span class="w"> </span>table<span class="w"> </span>holds<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">128</span><span class="w"> </span>entries
<a id="__codelineno-48-43" name="__codelineno-48-43" href="#__codelineno-48-43"></a>Main<span class="w"> </span>partition<span class="w"> </span>table<span class="w"> </span>begins<span class="w"> </span>at<span class="w"> </span>sector<span class="w"> </span><span class="m">2</span><span class="w"> </span>and<span class="w"> </span>ends<span class="w"> </span>at<span class="w"> </span>sector<span class="w"> </span><span class="m">33</span>
<a id="__codelineno-48-44" name="__codelineno-48-44" href="#__codelineno-48-44"></a>First<span class="w"> </span>usable<span class="w"> </span>sector<span class="w"> </span>is<span class="w"> </span><span class="m">34</span>,<span class="w"> </span>last<span class="w"> </span>usable<span class="w"> </span>sector<span class="w"> </span>is<span class="w"> </span><span class="m">41943006</span>
<a id="__codelineno-48-45" name="__codelineno-48-45" href="#__codelineno-48-45"></a>Partitions<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>aligned<span class="w"> </span>on<span class="w"> </span><span class="m">2048</span>-sector<span class="w"> </span>boundaries
<a id="__codelineno-48-46" name="__codelineno-48-46" href="#__codelineno-48-46"></a>Total<span class="w"> </span>free<span class="w"> </span>space<span class="w"> </span>is<span class="w"> </span><span class="m">41942973</span><span class="w"> </span>sectors<span class="w"> </span><span class="o">(</span><span class="m">20</span>.0<span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-48-47" name="__codelineno-48-47" href="#__codelineno-48-47"></a>
<a id="__codelineno-48-48" name="__codelineno-48-48" href="#__codelineno-48-48"></a>Number<span class="w">  </span>Start<span class="w"> </span><span class="o">(</span>sector<span class="o">)</span><span class="w">    </span>End<span class="w"> </span><span class="o">(</span>sector<span class="o">)</span><span class="w">  </span>Size<span class="w">       </span>Code<span class="w">  </span>Name
<a id="__codelineno-48-49" name="__codelineno-48-49" href="#__codelineno-48-49"></a><span class="c1"># 没有输入的都是使用默认值。</span>
<a id="__codelineno-48-50" name="__codelineno-48-50" href="#__codelineno-48-50"></a><span class="c1"># 创建新的分区 1，ESP 分区</span>
<a id="__codelineno-48-51" name="__codelineno-48-51" href="#__codelineno-48-51"></a>$<span class="w"> </span>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>n
<a id="__codelineno-48-52" name="__codelineno-48-52" href="#__codelineno-48-52"></a>$<span class="w"> </span>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">1</span>-128,<span class="w"> </span>default<span class="w"> </span><span class="m">1</span><span class="o">)</span>:
<a id="__codelineno-48-53" name="__codelineno-48-53" href="#__codelineno-48-53"></a>$<span class="w"> </span>First<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">34</span>-41943006,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2048</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>:
<a id="__codelineno-48-54" name="__codelineno-48-54" href="#__codelineno-48-54"></a>$<span class="w"> </span>Last<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">2048</span>-41943006,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">41943006</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>:<span class="w"> </span>+10G
<a id="__codelineno-48-55" name="__codelineno-48-55" href="#__codelineno-48-55"></a>Current<span class="w"> </span><span class="nb">type</span><span class="w"> </span>is<span class="w"> </span><span class="s1">&#39;Linux filesystem&#39;</span>
<a id="__codelineno-48-56" name="__codelineno-48-56" href="#__codelineno-48-56"></a>$<span class="w"> </span>Hex<span class="w"> </span>code<span class="w"> </span>or<span class="w"> </span>GUID<span class="w"> </span><span class="o">(</span>L<span class="w"> </span>to<span class="w"> </span>show<span class="w"> </span>codes,<span class="w"> </span><span class="nv">Enter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8300</span><span class="o">)</span>:L
<a id="__codelineno-48-57" name="__codelineno-48-57" href="#__codelineno-48-57"></a><span class="m">0700</span><span class="w"> </span>Microsoft<span class="w"> </span>basic<span class="w"> </span>data<span class="w">  </span>0c01<span class="w"> </span>Microsoft<span class="w"> </span>reserved<span class="w">    </span><span class="m">2700</span><span class="w"> </span>Windows<span class="w"> </span>RE
<a id="__codelineno-48-58" name="__codelineno-48-58" href="#__codelineno-48-58"></a><span class="m">3000</span><span class="w"> </span>ONIE<span class="w"> </span>boot<span class="w">             </span><span class="m">3001</span><span class="w"> </span>ONIE<span class="w"> </span>config<span class="w">           </span><span class="m">3900</span><span class="w"> </span>Plan<span class="w"> </span><span class="m">9</span>
<a id="__codelineno-48-59" name="__codelineno-48-59" href="#__codelineno-48-59"></a><span class="m">4100</span><span class="w"> </span>PowerPC<span class="w"> </span>PReP<span class="w"> </span>boot<span class="w">     </span><span class="m">4200</span><span class="w"> </span>Windows<span class="w"> </span>LDM<span class="w"> </span>data<span class="w">      </span><span class="m">4201</span><span class="w"> </span>Windows<span class="w"> </span>LDM<span class="w"> </span>metadata
<a id="__codelineno-48-60" name="__codelineno-48-60" href="#__codelineno-48-60"></a><span class="m">4202</span><span class="w"> </span>Windows<span class="w"> </span>Storage<span class="w"> </span>Spac<span class="w">  </span><span class="m">7501</span><span class="w"> </span>IBM<span class="w"> </span>GPFS<span class="w">              </span>7f00<span class="w"> </span>ChromeOS<span class="w"> </span>kernel
<a id="__codelineno-48-61" name="__codelineno-48-61" href="#__codelineno-48-61"></a>7f01<span class="w"> </span>ChromeOS<span class="w"> </span>root<span class="w">         </span>7f02<span class="w"> </span>ChromeOS<span class="w"> </span>reserved<span class="w">     </span><span class="m">8200</span><span class="w"> </span>Linux<span class="w"> </span>swap
<a id="__codelineno-48-62" name="__codelineno-48-62" href="#__codelineno-48-62"></a><span class="m">8300</span><span class="w"> </span>Linux<span class="w"> </span>filesystem<span class="w">      </span><span class="m">8301</span><span class="w"> </span>Linux<span class="w"> </span>reserved<span class="w">        </span><span class="m">8302</span><span class="w"> </span>Linux<span class="w"> </span>/home
<a id="__codelineno-48-63" name="__codelineno-48-63" href="#__codelineno-48-63"></a><span class="m">8303</span><span class="w"> </span>Linux<span class="w"> </span>x86<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="o">)</span><span class="w">    </span><span class="m">8304</span><span class="w"> </span>Linux<span class="w"> </span>x86-64<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="w">  </span><span class="m">8305</span><span class="w"> </span>Linux<span class="w"> </span>ARM64<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="o">)</span>
<a id="__codelineno-48-64" name="__codelineno-48-64" href="#__codelineno-48-64"></a><span class="m">8306</span><span class="w"> </span>Linux<span class="w"> </span>/srv<span class="w">            </span><span class="m">8307</span><span class="w"> </span>Linux<span class="w"> </span>ARM32<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="o">)</span><span class="w">  </span><span class="m">8400</span><span class="w"> </span>Intel<span class="w"> </span>Rapid<span class="w"> </span>Start
<a id="__codelineno-48-65" name="__codelineno-48-65" href="#__codelineno-48-65"></a>8e00<span class="w"> </span>Linux<span class="w"> </span>LVM<span class="w">             </span>a000<span class="w"> </span>Android<span class="w"> </span>bootloader<span class="w">    </span>a001<span class="w"> </span>Android<span class="w"> </span>bootloader<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-48-66" name="__codelineno-48-66" href="#__codelineno-48-66"></a>a002<span class="w"> </span>Android<span class="w"> </span>boot<span class="w">          </span>a003<span class="w"> </span>Android<span class="w"> </span>recovery<span class="w">      </span>a004<span class="w"> </span>Android<span class="w"> </span>misc
<a id="__codelineno-48-67" name="__codelineno-48-67" href="#__codelineno-48-67"></a>a005<span class="w"> </span>Android<span class="w"> </span>metadata<span class="w">      </span>a006<span class="w"> </span>Android<span class="w"> </span>system<span class="w">        </span>a007<span class="w"> </span>Android<span class="w"> </span>cache
<a id="__codelineno-48-68" name="__codelineno-48-68" href="#__codelineno-48-68"></a>a008<span class="w"> </span>Android<span class="w"> </span>data<span class="w">          </span>a009<span class="w"> </span>Android<span class="w"> </span>persistent<span class="w">    </span>a00a<span class="w"> </span>Android<span class="w"> </span>factory
<a id="__codelineno-48-69" name="__codelineno-48-69" href="#__codelineno-48-69"></a>a00b<span class="w"> </span>Android<span class="w"> </span>fastboot/ter<span class="w">  </span>a00c<span class="w"> </span>Android<span class="w"> </span>OEM<span class="w">           </span>a500<span class="w"> </span>FreeBSD<span class="w"> </span>disklabel
<a id="__codelineno-48-70" name="__codelineno-48-70" href="#__codelineno-48-70"></a>a501<span class="w"> </span>FreeBSD<span class="w"> </span>boot<span class="w">          </span>a502<span class="w"> </span>FreeBSD<span class="w"> </span>swap<span class="w">          </span>a503<span class="w"> </span>FreeBSD<span class="w"> </span>UFS
<a id="__codelineno-48-71" name="__codelineno-48-71" href="#__codelineno-48-71"></a>a504<span class="w"> </span>FreeBSD<span class="w"> </span>ZFS<span class="w">           </span>a505<span class="w"> </span>FreeBSD<span class="w"> </span>Vinum/RAID<span class="w">    </span>a580<span class="w"> </span>Midnight<span class="w"> </span>BSD<span class="w"> </span>data
<a id="__codelineno-48-72" name="__codelineno-48-72" href="#__codelineno-48-72"></a>a581<span class="w"> </span>Midnight<span class="w"> </span>BSD<span class="w"> </span>boot<span class="w">     </span>a582<span class="w"> </span>Midnight<span class="w"> </span>BSD<span class="w"> </span>swap<span class="w">     </span>a583<span class="w"> </span>Midnight<span class="w"> </span>BSD<span class="w"> </span>UFS
<a id="__codelineno-48-73" name="__codelineno-48-73" href="#__codelineno-48-73"></a>a584<span class="w"> </span>Midnight<span class="w"> </span>BSD<span class="w"> </span>ZFS<span class="w">      </span>a585<span class="w"> </span>Midnight<span class="w"> </span>BSD<span class="w"> </span>Vinum<span class="w">    </span>a600<span class="w"> </span>OpenBSD<span class="w"> </span>disklabel
<a id="__codelineno-48-74" name="__codelineno-48-74" href="#__codelineno-48-74"></a>a800<span class="w"> </span>Apple<span class="w"> </span>UFS<span class="w">             </span>a901<span class="w"> </span>NetBSD<span class="w"> </span>swap<span class="w">           </span>a902<span class="w"> </span>NetBSD<span class="w"> </span>FFS
<a id="__codelineno-48-75" name="__codelineno-48-75" href="#__codelineno-48-75"></a>a903<span class="w"> </span>NetBSD<span class="w"> </span>LFS<span class="w">            </span>a904<span class="w"> </span>NetBSD<span class="w"> </span>concatenated<span class="w">   </span>a905<span class="w"> </span>NetBSD<span class="w"> </span>encrypted
<a id="__codelineno-48-76" name="__codelineno-48-76" href="#__codelineno-48-76"></a>a906<span class="w"> </span>NetBSD<span class="w"> </span>RAID<span class="w">           </span>ab00<span class="w"> </span>Recovery<span class="w"> </span>HD<span class="w">           </span>af00<span class="w"> </span>Apple<span class="w"> </span>HFS/HFS+
<a id="__codelineno-48-77" name="__codelineno-48-77" href="#__codelineno-48-77"></a>af01<span class="w"> </span>Apple<span class="w"> </span>RAID<span class="w">            </span>af02<span class="w"> </span>Apple<span class="w"> </span>RAID<span class="w"> </span>offline<span class="w">    </span>af03<span class="w"> </span>Apple<span class="w"> </span>label
<a id="__codelineno-48-78" name="__codelineno-48-78" href="#__codelineno-48-78"></a>Press<span class="w"> </span>the<span class="w"> </span>&lt;Enter&gt;<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>more<span class="w"> </span>codes:
<a id="__codelineno-48-79" name="__codelineno-48-79" href="#__codelineno-48-79"></a>af04<span class="w"> </span>AppleTV<span class="w"> </span>recovery<span class="w">      </span>af05<span class="w"> </span>Apple<span class="w"> </span>Core<span class="w"> </span>Storage<span class="w">    </span>af06<span class="w"> </span>Apple<span class="w"> </span>SoftRAID<span class="w"> </span>Statu
<a id="__codelineno-48-80" name="__codelineno-48-80" href="#__codelineno-48-80"></a>af07<span class="w"> </span>Apple<span class="w"> </span>SoftRAID<span class="w"> </span>Scrat<span class="w">  </span>af08<span class="w"> </span>Apple<span class="w"> </span>SoftRAID<span class="w"> </span>Volum<span class="w">  </span>af09<span class="w"> </span>Apple<span class="w"> </span>SoftRAID<span class="w"> </span>Cache
<a id="__codelineno-48-81" name="__codelineno-48-81" href="#__codelineno-48-81"></a>b300<span class="w"> </span>QNX6<span class="w"> </span>Power-Safe<span class="w">       </span>bc00<span class="w"> </span>Acronis<span class="w"> </span>Secure<span class="w"> </span>Zone<span class="w">   </span>be00<span class="w"> </span>Solaris<span class="w"> </span>boot
<a id="__codelineno-48-82" name="__codelineno-48-82" href="#__codelineno-48-82"></a>bf00<span class="w"> </span>Solaris<span class="w"> </span>root<span class="w">          </span>bf01<span class="w"> </span>Solaris<span class="w"> </span>/usr<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>Mac<span class="w"> </span>Z<span class="w">  </span>bf02<span class="w"> </span>Solaris<span class="w"> </span>swap
<a id="__codelineno-48-83" name="__codelineno-48-83" href="#__codelineno-48-83"></a>bf03<span class="w"> </span>Solaris<span class="w"> </span>backup<span class="w">        </span>bf04<span class="w"> </span>Solaris<span class="w"> </span>/var<span class="w">          </span>bf05<span class="w"> </span>Solaris<span class="w"> </span>/home
<a id="__codelineno-48-84" name="__codelineno-48-84" href="#__codelineno-48-84"></a>bf06<span class="w"> </span>Solaris<span class="w"> </span>alternate<span class="w"> </span>se<span class="w">  </span>bf07<span class="w"> </span>Solaris<span class="w"> </span>Reserved<span class="w"> </span><span class="m">1</span><span class="w">    </span>bf08<span class="w"> </span>Solaris<span class="w"> </span>Reserved<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-48-85" name="__codelineno-48-85" href="#__codelineno-48-85"></a>bf09<span class="w"> </span>Solaris<span class="w"> </span>Reserved<span class="w"> </span><span class="m">3</span><span class="w">    </span>bf0a<span class="w"> </span>Solaris<span class="w"> </span>Reserved<span class="w"> </span><span class="m">4</span><span class="w">    </span>bf0b<span class="w"> </span>Solaris<span class="w"> </span>Reserved<span class="w"> </span><span class="m">5</span>
<a id="__codelineno-48-86" name="__codelineno-48-86" href="#__codelineno-48-86"></a>c001<span class="w"> </span>HP-UX<span class="w"> </span>data<span class="w">            </span>c002<span class="w"> </span>HP-UX<span class="w"> </span>service<span class="w">         </span>e100<span class="w"> </span>ONIE<span class="w"> </span>boot
<a id="__codelineno-48-87" name="__codelineno-48-87" href="#__codelineno-48-87"></a>e101<span class="w"> </span>ONIE<span class="w"> </span>config<span class="w">           </span>ea00<span class="w"> </span>Freedesktop<span class="w"> </span><span class="nv">$BOOT</span><span class="w">     </span>eb00<span class="w"> </span>Haiku<span class="w"> </span>BFS
<a id="__codelineno-48-88" name="__codelineno-48-88" href="#__codelineno-48-88"></a>ed00<span class="w"> </span>Sony<span class="w"> </span>system<span class="w"> </span>partitio<span class="w">  </span>ed01<span class="w"> </span>Lenovo<span class="w"> </span>system<span class="w"> </span>partit<span class="w">  </span>ef00<span class="w"> </span>EFI<span class="w"> </span>System
<a id="__codelineno-48-89" name="__codelineno-48-89" href="#__codelineno-48-89"></a>ef01<span class="w"> </span>MBR<span class="w"> </span>partition<span class="w"> </span>scheme<span class="w">  </span>ef02<span class="w"> </span>BIOS<span class="w"> </span>boot<span class="w"> </span>partition<span class="w">   </span>f800<span class="w"> </span>Ceph<span class="w"> </span>OSD
<a id="__codelineno-48-90" name="__codelineno-48-90" href="#__codelineno-48-90"></a>f801<span class="w"> </span>Ceph<span class="w"> </span>dm-crypt<span class="w"> </span>OSD<span class="w">     </span>f802<span class="w"> </span>Ceph<span class="w"> </span>journal<span class="w">          </span>f803<span class="w"> </span>Ceph<span class="w"> </span>dm-crypt<span class="w"> </span>journa
<a id="__codelineno-48-91" name="__codelineno-48-91" href="#__codelineno-48-91"></a>f804<span class="w"> </span>Ceph<span class="w"> </span>disk<span class="w"> </span><span class="k">in</span><span class="w"> </span>creatio<span class="w">  </span>f805<span class="w"> </span>Ceph<span class="w"> </span>dm-crypt<span class="w"> </span>disk<span class="w"> </span>i<span class="w">  </span>fb00<span class="w"> </span>VMWare<span class="w"> </span>VMFS
<a id="__codelineno-48-92" name="__codelineno-48-92" href="#__codelineno-48-92"></a>fb01<span class="w"> </span>VMWare<span class="w"> </span>reserved<span class="w">       </span>fc00<span class="w"> </span>VMWare<span class="w"> </span>kcore<span class="w"> </span>crash<span class="w"> </span>p<span class="w">  </span>fd00<span class="w"> </span>Linux<span class="w"> </span>RAID
<a id="__codelineno-48-93" name="__codelineno-48-93" href="#__codelineno-48-93"></a>Hex<span class="w"> </span>code<span class="w"> </span>or<span class="w"> </span>GUID<span class="w"> </span><span class="o">(</span>L<span class="w"> </span>to<span class="w"> </span>show<span class="w"> </span>codes,<span class="w"> </span><span class="nv">Enter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8300</span><span class="o">)</span>:<span class="w"> </span>ef00
<a id="__codelineno-48-94" name="__codelineno-48-94" href="#__codelineno-48-94"></a>Changed<span class="w"> </span><span class="nb">type</span><span class="w"> </span>of<span class="w"> </span>partition<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;EFI System&#39;</span>
<a id="__codelineno-48-95" name="__codelineno-48-95" href="#__codelineno-48-95"></a><span class="c1"># 创建新的分区 2</span>
<a id="__codelineno-48-96" name="__codelineno-48-96" href="#__codelineno-48-96"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>n
<a id="__codelineno-48-97" name="__codelineno-48-97" href="#__codelineno-48-97"></a>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">2</span>-128,<span class="w"> </span>default<span class="w"> </span><span class="m">2</span><span class="o">)</span>:
<a id="__codelineno-48-98" name="__codelineno-48-98" href="#__codelineno-48-98"></a>First<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">34</span>-41943006,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">616448</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>:
<a id="__codelineno-48-99" name="__codelineno-48-99" href="#__codelineno-48-99"></a>Last<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">616448</span>-41943006,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">41943006</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>:<span class="w"> </span>+10G
<a id="__codelineno-48-100" name="__codelineno-48-100" href="#__codelineno-48-100"></a>Current<span class="w"> </span><span class="nb">type</span><span class="w"> </span>is<span class="w"> </span><span class="s1">&#39;Linux filesystem&#39;</span>
<a id="__codelineno-48-101" name="__codelineno-48-101" href="#__codelineno-48-101"></a>Hex<span class="w"> </span>code<span class="w"> </span>or<span class="w"> </span>GUID<span class="w"> </span><span class="o">(</span>L<span class="w"> </span>to<span class="w"> </span>show<span class="w"> </span>codes,<span class="w"> </span><span class="nv">Enter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8300</span><span class="o">)</span>:<span class="w"> </span><span class="m">8304</span>
<a id="__codelineno-48-102" name="__codelineno-48-102" href="#__codelineno-48-102"></a>Changed<span class="w"> </span><span class="nb">type</span><span class="w"> </span>of<span class="w"> </span>partition<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;Linux x86-64 root (/)&#39;</span>
<a id="__codelineno-48-103" name="__codelineno-48-103" href="#__codelineno-48-103"></a><span class="c1"># 创建新的分区 3</span>
<a id="__codelineno-48-104" name="__codelineno-48-104" href="#__codelineno-48-104"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>n
<a id="__codelineno-48-105" name="__codelineno-48-105" href="#__codelineno-48-105"></a>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">3</span>-128,<span class="w"> </span>default<span class="w"> </span><span class="m">3</span><span class="o">)</span>:
<a id="__codelineno-48-106" name="__codelineno-48-106" href="#__codelineno-48-106"></a>First<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">34</span>-41943006,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">21587968</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>:
<a id="__codelineno-48-107" name="__codelineno-48-107" href="#__codelineno-48-107"></a>Last<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">21587968</span>-41943006,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">41943006</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>:
<a id="__codelineno-48-108" name="__codelineno-48-108" href="#__codelineno-48-108"></a>Current<span class="w"> </span><span class="nb">type</span><span class="w"> </span>is<span class="w"> </span><span class="s1">&#39;Linux filesystem&#39;</span>
<a id="__codelineno-48-109" name="__codelineno-48-109" href="#__codelineno-48-109"></a>Hex<span class="w"> </span>code<span class="w"> </span>or<span class="w"> </span>GUID<span class="w"> </span><span class="o">(</span>L<span class="w"> </span>to<span class="w"> </span>show<span class="w"> </span>codes,<span class="w"> </span><span class="nv">Enter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8300</span><span class="o">)</span>:<span class="w"> </span><span class="m">8302</span>
<a id="__codelineno-48-110" name="__codelineno-48-110" href="#__codelineno-48-110"></a>Changed<span class="w"> </span><span class="nb">type</span><span class="w"> </span>of<span class="w"> </span>partition<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;Linux /home&#39;</span>
<a id="__codelineno-48-111" name="__codelineno-48-111" href="#__codelineno-48-111"></a><span class="c1"># 查看 sdb1 分区信息</span>
<a id="__codelineno-48-112" name="__codelineno-48-112" href="#__codelineno-48-112"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>i
<a id="__codelineno-48-113" name="__codelineno-48-113" href="#__codelineno-48-113"></a>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">1</span>-3<span class="o">)</span>:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-48-114" name="__codelineno-48-114" href="#__codelineno-48-114"></a>Partition<span class="w"> </span>GUID<span class="w"> </span>code:<span class="w"> </span>C12A7328-F81F-11D2-BA4B-00A0C93EC93B<span class="w"> </span><span class="o">(</span>EFI<span class="w"> </span>System<span class="o">)</span>
<a id="__codelineno-48-115" name="__codelineno-48-115" href="#__codelineno-48-115"></a>Partition<span class="w"> </span>unique<span class="w"> </span>GUID:<span class="w"> </span>DB4B7F20-84F6-469F-B08C-B0AD19DE3E45
<a id="__codelineno-48-116" name="__codelineno-48-116" href="#__codelineno-48-116"></a>First<span class="w"> </span>sector:<span class="w"> </span><span class="m">2048</span><span class="w"> </span><span class="o">(</span>at<span class="w"> </span><span class="m">1024</span>.0<span class="w"> </span>KiB<span class="o">)</span>
<a id="__codelineno-48-117" name="__codelineno-48-117" href="#__codelineno-48-117"></a>Last<span class="w"> </span>sector:<span class="w"> </span><span class="m">616447</span><span class="w"> </span><span class="o">(</span>at<span class="w"> </span><span class="m">301</span>.0<span class="w"> </span>MiB<span class="o">)</span>
<a id="__codelineno-48-118" name="__codelineno-48-118" href="#__codelineno-48-118"></a>Partition<span class="w"> </span>size:<span class="w"> </span><span class="m">614400</span><span class="w"> </span>sectors<span class="w"> </span><span class="o">(</span><span class="m">300</span>.0<span class="w"> </span>MiB<span class="o">)</span>
<a id="__codelineno-48-119" name="__codelineno-48-119" href="#__codelineno-48-119"></a>Attribute<span class="w"> </span>flags:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-120" name="__codelineno-48-120" href="#__codelineno-48-120"></a>Partition<span class="w"> </span>name:<span class="w"> </span><span class="s1">&#39;EFI System&#39;</span>
<a id="__codelineno-48-121" name="__codelineno-48-121" href="#__codelineno-48-121"></a><span class="c1"># 查看 sdb2 分区信息</span>
<a id="__codelineno-48-122" name="__codelineno-48-122" href="#__codelineno-48-122"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>i
<a id="__codelineno-48-123" name="__codelineno-48-123" href="#__codelineno-48-123"></a>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">1</span>-3<span class="o">)</span>:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-48-124" name="__codelineno-48-124" href="#__codelineno-48-124"></a>Partition<span class="w"> </span>GUID<span class="w"> </span>code:<span class="w"> </span>4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709<span class="w"> </span><span class="o">(</span>Linux<span class="w"> </span>x86-64<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="o">))</span>
<a id="__codelineno-48-125" name="__codelineno-48-125" href="#__codelineno-48-125"></a>Partition<span class="w"> </span>unique<span class="w"> </span>GUID:<span class="w"> </span>FCF2F6C0-15C6-4588-82F2-5B4067322009
<a id="__codelineno-48-126" name="__codelineno-48-126" href="#__codelineno-48-126"></a>First<span class="w"> </span>sector:<span class="w"> </span><span class="m">616448</span><span class="w"> </span><span class="o">(</span>at<span class="w"> </span><span class="m">301</span>.0<span class="w"> </span>MiB<span class="o">)</span>
<a id="__codelineno-48-127" name="__codelineno-48-127" href="#__codelineno-48-127"></a>Last<span class="w"> </span>sector:<span class="w"> </span><span class="m">21587967</span><span class="w"> </span><span class="o">(</span>at<span class="w"> </span><span class="m">10</span>.3<span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-48-128" name="__codelineno-48-128" href="#__codelineno-48-128"></a>Partition<span class="w"> </span>size:<span class="w"> </span><span class="m">20971520</span><span class="w"> </span>sectors<span class="w"> </span><span class="o">(</span><span class="m">10</span>.0<span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-48-129" name="__codelineno-48-129" href="#__codelineno-48-129"></a>Attribute<span class="w"> </span>flags:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-130" name="__codelineno-48-130" href="#__codelineno-48-130"></a>Partition<span class="w"> </span>name:<span class="w"> </span><span class="s1">&#39;Linux x86-64 root (/)&#39;</span>
<a id="__codelineno-48-131" name="__codelineno-48-131" href="#__codelineno-48-131"></a><span class="c1"># 查看 sdb3 分区信息</span>
<a id="__codelineno-48-132" name="__codelineno-48-132" href="#__codelineno-48-132"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>i
<a id="__codelineno-48-133" name="__codelineno-48-133" href="#__codelineno-48-133"></a>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">1</span>-3<span class="o">)</span>:<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-48-134" name="__codelineno-48-134" href="#__codelineno-48-134"></a>Partition<span class="w"> </span>GUID<span class="w"> </span>code:<span class="w"> </span>933AC7E1-2EB4-4F13-B844-0E14E2AEF915<span class="w"> </span><span class="o">(</span>Linux<span class="w"> </span>/home<span class="o">)</span>
<a id="__codelineno-48-135" name="__codelineno-48-135" href="#__codelineno-48-135"></a>Partition<span class="w"> </span>unique<span class="w"> </span>GUID:<span class="w"> </span><span class="m">91459334</span>-E0B1-4AFF-8607-C70ABCDFC9D3
<a id="__codelineno-48-136" name="__codelineno-48-136" href="#__codelineno-48-136"></a>First<span class="w"> </span>sector:<span class="w"> </span><span class="m">21587968</span><span class="w"> </span><span class="o">(</span>at<span class="w"> </span><span class="m">10</span>.3<span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-48-137" name="__codelineno-48-137" href="#__codelineno-48-137"></a>Last<span class="w"> </span>sector:<span class="w"> </span><span class="m">41943006</span><span class="w"> </span><span class="o">(</span>at<span class="w"> </span><span class="m">20</span>.0<span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-48-138" name="__codelineno-48-138" href="#__codelineno-48-138"></a>Partition<span class="w"> </span>size:<span class="w"> </span><span class="m">20355039</span><span class="w"> </span>sectors<span class="w"> </span><span class="o">(</span><span class="m">9</span>.7<span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-48-139" name="__codelineno-48-139" href="#__codelineno-48-139"></a>Attribute<span class="w"> </span>flags:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-140" name="__codelineno-48-140" href="#__codelineno-48-140"></a>Partition<span class="w"> </span>name:<span class="w"> </span><span class="s1">&#39;Linux /home&#39;</span>
<a id="__codelineno-48-141" name="__codelineno-48-141" href="#__codelineno-48-141"></a><span class="c1"># 查看硬盘信息</span>
<a id="__codelineno-48-142" name="__codelineno-48-142" href="#__codelineno-48-142"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>p
<a id="__codelineno-48-143" name="__codelineno-48-143" href="#__codelineno-48-143"></a>Disk<span class="w"> </span>/dev/sdb:<span class="w"> </span><span class="m">41943040</span><span class="w"> </span>sectors,<span class="w"> </span><span class="m">20</span>.0<span class="w"> </span>GiB
<a id="__codelineno-48-144" name="__codelineno-48-144" href="#__codelineno-48-144"></a>Model:<span class="w"> </span>VMware<span class="w"> </span>Virtual<span class="w"> </span>S
<a id="__codelineno-48-145" name="__codelineno-48-145" href="#__codelineno-48-145"></a>Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span><span class="m">512</span>/512<span class="w"> </span>bytes
<a id="__codelineno-48-146" name="__codelineno-48-146" href="#__codelineno-48-146"></a>Disk<span class="w"> </span>identifier<span class="w"> </span><span class="o">(</span>GUID<span class="o">)</span>:<span class="w"> </span>FD2F28F7-7840-4F7A-A4ED-483B21B7BD9D
<a id="__codelineno-48-147" name="__codelineno-48-147" href="#__codelineno-48-147"></a>Partition<span class="w"> </span>table<span class="w"> </span>holds<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">128</span><span class="w"> </span>entries
<a id="__codelineno-48-148" name="__codelineno-48-148" href="#__codelineno-48-148"></a>Main<span class="w"> </span>partition<span class="w"> </span>table<span class="w"> </span>begins<span class="w"> </span>at<span class="w"> </span>sector<span class="w"> </span><span class="m">2</span><span class="w"> </span>and<span class="w"> </span>ends<span class="w"> </span>at<span class="w"> </span>sector<span class="w"> </span><span class="m">33</span>
<a id="__codelineno-48-149" name="__codelineno-48-149" href="#__codelineno-48-149"></a>First<span class="w"> </span>usable<span class="w"> </span>sector<span class="w"> </span>is<span class="w"> </span><span class="m">34</span>,<span class="w"> </span>last<span class="w"> </span>usable<span class="w"> </span>sector<span class="w"> </span>is<span class="w"> </span><span class="m">41943006</span>
<a id="__codelineno-48-150" name="__codelineno-48-150" href="#__codelineno-48-150"></a>Partitions<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>aligned<span class="w"> </span>on<span class="w"> </span><span class="m">2048</span>-sector<span class="w"> </span>boundaries
<a id="__codelineno-48-151" name="__codelineno-48-151" href="#__codelineno-48-151"></a>Total<span class="w"> </span>free<span class="w"> </span>space<span class="w"> </span>is<span class="w"> </span><span class="m">2014</span><span class="w"> </span>sectors<span class="w"> </span><span class="o">(</span><span class="m">1007</span>.0<span class="w"> </span>KiB<span class="o">)</span>
<a id="__codelineno-48-152" name="__codelineno-48-152" href="#__codelineno-48-152"></a>
<a id="__codelineno-48-153" name="__codelineno-48-153" href="#__codelineno-48-153"></a>Number<span class="w">  </span>Start<span class="w"> </span><span class="o">(</span>sector<span class="o">)</span><span class="w">    </span>End<span class="w"> </span><span class="o">(</span>sector<span class="o">)</span><span class="w">  </span>Size<span class="w">       </span>Code<span class="w">  </span>Name
<a id="__codelineno-48-154" name="__codelineno-48-154" href="#__codelineno-48-154"></a><span class="w">   </span><span class="m">1</span><span class="w">            </span><span class="m">2048</span><span class="w">          </span><span class="m">616447</span><span class="w">   </span><span class="m">300</span>.0<span class="w"> </span>MiB<span class="w">   </span>EF00<span class="w">  </span>EFI<span class="w"> </span>System
<a id="__codelineno-48-155" name="__codelineno-48-155" href="#__codelineno-48-155"></a><span class="w">   </span><span class="m">2</span><span class="w">          </span><span class="m">616448</span><span class="w">        </span><span class="m">21587967</span><span class="w">   </span><span class="m">10</span>.0<span class="w"> </span>GiB<span class="w">    </span><span class="m">8304</span><span class="w">  </span>Linux<span class="w"> </span>x86-64<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="o">)</span>
<a id="__codelineno-48-156" name="__codelineno-48-156" href="#__codelineno-48-156"></a><span class="w">   </span><span class="m">3</span><span class="w">        </span><span class="m">21587968</span><span class="w">        </span><span class="m">41943006</span><span class="w">   </span><span class="m">9</span>.7<span class="w"> </span>GiB<span class="w">     </span><span class="m">8302</span><span class="w">  </span>Linux<span class="w"> </span>/home
<a id="__codelineno-48-157" name="__codelineno-48-157" href="#__codelineno-48-157"></a><span class="c1"># 保存分区表更改并退出。</span>
<a id="__codelineno-48-158" name="__codelineno-48-158" href="#__codelineno-48-158"></a>Command<span class="w"> </span><span class="o">(</span>?<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>w
<a id="__codelineno-48-159" name="__codelineno-48-159" href="#__codelineno-48-159"></a>
<a id="__codelineno-48-160" name="__codelineno-48-160" href="#__codelineno-48-160"></a>Final<span class="w"> </span>checks<span class="w"> </span>complete.<span class="w"> </span>About<span class="w"> </span>to<span class="w"> </span>write<span class="w"> </span>GPT<span class="w"> </span>data.<span class="w"> </span>THIS<span class="w"> </span>WILL<span class="w"> </span>OVERWRITE<span class="w"> </span>EXISTING
<a id="__codelineno-48-161" name="__codelineno-48-161" href="#__codelineno-48-161"></a>PARTITIONS!!
<a id="__codelineno-48-162" name="__codelineno-48-162" href="#__codelineno-48-162"></a>
<a id="__codelineno-48-163" name="__codelineno-48-163" href="#__codelineno-48-163"></a>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>proceed?<span class="w"> </span><span class="o">(</span>Y/N<span class="o">)</span>:<span class="w"> </span>y
<a id="__codelineno-48-164" name="__codelineno-48-164" href="#__codelineno-48-164"></a>OK<span class="p">;</span><span class="w"> </span>writing<span class="w"> </span>new<span class="w"> </span>GUID<span class="w"> </span>partition<span class="w"> </span>table<span class="w"> </span><span class="o">(</span>GPT<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>/dev/sdb.
<a id="__codelineno-48-165" name="__codelineno-48-165" href="#__codelineno-48-165"></a>The<span class="w"> </span>operation<span class="w"> </span>has<span class="w"> </span>completed<span class="w"> </span>successfully.
<a id="__codelineno-48-166" name="__codelineno-48-166" href="#__codelineno-48-166"></a><span class="c1"># 查看硬盘信息</span>
<a id="__codelineno-48-167" name="__codelineno-48-167" href="#__codelineno-48-167"></a>$<span class="w"> </span>sudo<span class="w"> </span>fdisk<span class="w"> </span>-l
<a id="__codelineno-48-168" name="__codelineno-48-168" href="#__codelineno-48-168"></a>Disk<span class="w"> </span>/dev/sdb:<span class="w"> </span><span class="m">20</span><span class="w"> </span>GiB,<span class="w"> </span><span class="m">21474836480</span><span class="w"> </span>bytes,<span class="w"> </span><span class="m">41943040</span><span class="w"> </span>sectors
<a id="__codelineno-48-169" name="__codelineno-48-169" href="#__codelineno-48-169"></a>Disk<span class="w"> </span>model:<span class="w"> </span>VMware<span class="w"> </span>Virtual<span class="w"> </span>S
<a id="__codelineno-48-170" name="__codelineno-48-170" href="#__codelineno-48-170"></a>Units:<span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
<a id="__codelineno-48-171" name="__codelineno-48-171" href="#__codelineno-48-171"></a>Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
<a id="__codelineno-48-172" name="__codelineno-48-172" href="#__codelineno-48-172"></a>I/O<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>minimum/optimal<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
<a id="__codelineno-48-173" name="__codelineno-48-173" href="#__codelineno-48-173"></a>Disklabel<span class="w"> </span>type:<span class="w"> </span>gpt
<a id="__codelineno-48-174" name="__codelineno-48-174" href="#__codelineno-48-174"></a>Disk<span class="w"> </span>identifier:<span class="w"> </span>FD2F28F7-7840-4F7A-A4ED-483B21B7BD9D
<a id="__codelineno-48-175" name="__codelineno-48-175" href="#__codelineno-48-175"></a>
<a id="__codelineno-48-176" name="__codelineno-48-176" href="#__codelineno-48-176"></a>Device<span class="w">        </span>Start<span class="w">      </span>End<span class="w">  </span>Sectors<span class="w">  </span>Size<span class="w"> </span>Type
<a id="__codelineno-48-177" name="__codelineno-48-177" href="#__codelineno-48-177"></a>/dev/sdb1<span class="w">      </span><span class="m">2048</span><span class="w">   </span><span class="m">616447</span><span class="w">   </span><span class="m">614400</span><span class="w">  </span>300M<span class="w"> </span>EFI<span class="w"> </span>System
<a id="__codelineno-48-178" name="__codelineno-48-178" href="#__codelineno-48-178"></a>/dev/sdb2<span class="w">    </span><span class="m">616448</span><span class="w"> </span><span class="m">21587967</span><span class="w"> </span><span class="m">20971520</span><span class="w">   </span>10G<span class="w"> </span>Linux<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>x86-64<span class="o">)</span>
<a id="__codelineno-48-179" name="__codelineno-48-179" href="#__codelineno-48-179"></a>/dev/sdb3<span class="w">  </span><span class="m">21587968</span><span class="w"> </span><span class="m">41943006</span><span class="w"> </span><span class="m">20355039</span><span class="w">  </span><span class="m">9</span>.7G<span class="w"> </span>Linux<span class="w"> </span>home
<a id="__codelineno-48-180" name="__codelineno-48-180" href="#__codelineno-48-180"></a><span class="c1"># 可以看出 2 个分区已经创建好了，但是还没有创建文件系统，下面使用 mkfs 创建文件系统。</span>
<a id="__codelineno-48-181" name="__codelineno-48-181" href="#__codelineno-48-181"></a><span class="c1"># 指定创建 fat32，否则他会自动创建为 fat16。</span>
<a id="__codelineno-48-182" name="__codelineno-48-182" href="#__codelineno-48-182"></a>$<span class="w"> </span>sudo<span class="w"> </span>mkfs.fat<span class="w"> </span>-F<span class="w"> </span><span class="m">32</span><span class="w"> </span>/dev/sdb1
<a id="__codelineno-48-183" name="__codelineno-48-183" href="#__codelineno-48-183"></a>$<span class="w"> </span>sudo<span class="w"> </span>mkfs.ext4<span class="w"> </span>/dev/sdb2
<a id="__codelineno-48-184" name="__codelineno-48-184" href="#__codelineno-48-184"></a>$<span class="w"> </span>sudo<span class="w"> </span>mkfs.ext4<span class="w"> </span>/dev/sdb3
<a id="__codelineno-48-185" name="__codelineno-48-185" href="#__codelineno-48-185"></a>$<span class="w"> </span>sudo<span class="w"> </span>parted<span class="w"> </span>-l
<a id="__codelineno-48-186" name="__codelineno-48-186" href="#__codelineno-48-186"></a>Model:<span class="w"> </span>ATA<span class="w"> </span>VMware<span class="w"> </span>Virtual<span class="w"> </span>S<span class="w"> </span><span class="o">(</span>scsi<span class="o">)</span>
<a id="__codelineno-48-187" name="__codelineno-48-187" href="#__codelineno-48-187"></a>Disk<span class="w"> </span>/dev/sdb:<span class="w"> </span><span class="m">21</span>.5GB
<a id="__codelineno-48-188" name="__codelineno-48-188" href="#__codelineno-48-188"></a>Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span>512B/512B
<a id="__codelineno-48-189" name="__codelineno-48-189" href="#__codelineno-48-189"></a>Partition<span class="w"> </span>Table:<span class="w"> </span>gpt
<a id="__codelineno-48-190" name="__codelineno-48-190" href="#__codelineno-48-190"></a>Disk<span class="w"> </span>Flags:
<a id="__codelineno-48-191" name="__codelineno-48-191" href="#__codelineno-48-191"></a>
<a id="__codelineno-48-192" name="__codelineno-48-192" href="#__codelineno-48-192"></a>Number<span class="w">  </span>Start<span class="w">   </span>End<span class="w">     </span>Size<span class="w">    </span>File<span class="w"> </span>system<span class="w">  </span>Name<span class="w">                   </span>Flags
<a id="__codelineno-48-193" name="__codelineno-48-193" href="#__codelineno-48-193"></a><span class="w"> </span><span class="m">1</span><span class="w">      </span>1049kB<span class="w">  </span>316MB<span class="w">   </span>315MB<span class="w">   </span>fat32<span class="w">        </span>EFI<span class="w"> </span>System<span class="w">             </span>boot,<span class="w"> </span>esp
<a id="__codelineno-48-194" name="__codelineno-48-194" href="#__codelineno-48-194"></a><span class="w"> </span><span class="m">2</span><span class="w">      </span>316MB<span class="w">   </span><span class="m">11</span>.1GB<span class="w">  </span><span class="m">10</span>.7GB<span class="w">  </span>ext4<span class="w">         </span>Linux<span class="w"> </span>x86-64<span class="w"> </span>root<span class="w"> </span><span class="o">(</span>/<span class="o">)</span>
<a id="__codelineno-48-195" name="__codelineno-48-195" href="#__codelineno-48-195"></a><span class="w"> </span><span class="m">3</span><span class="w">      </span><span class="m">11</span>.1GB<span class="w">  </span><span class="m">21</span>.5GB<span class="w">  </span><span class="m">10</span>.4GB<span class="w">  </span>ext4<span class="w">         </span>Linux<span class="w"> </span>/home
<a id="__codelineno-48-196" name="__codelineno-48-196" href="#__codelineno-48-196"></a><span class="c1"># 创建完成，设置开机自动挂载</span>
<a id="__codelineno-48-197" name="__codelineno-48-197" href="#__codelineno-48-197"></a><span class="c1"># 备份且配置文件</span>
<a id="__codelineno-48-198" name="__codelineno-48-198" href="#__codelineno-48-198"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/fstab.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/fstab<span class="w"> </span>/etc/fstab.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-48-199" name="__codelineno-48-199" href="#__codelineno-48-199"></a><span class="c1"># 创建挂载点</span>
<a id="__codelineno-48-200" name="__codelineno-48-200" href="#__codelineno-48-200"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/mnt/sdb1<span class="w"> </span>/mnt/sdb2<span class="w"> </span>/mnt/sdb3
<a id="__codelineno-48-201" name="__codelineno-48-201" href="#__codelineno-48-201"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/fstab
<a id="__codelineno-48-202" name="__codelineno-48-202" href="#__codelineno-48-202"></a>/dev/sdb1<span class="w">  </span>/mnt/sdb1<span class="w">  </span>auto<span class="w">  </span>defaults,noatime,nofail,x-systemd.device-timeout<span class="o">=</span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">2</span>
<a id="__codelineno-48-203" name="__codelineno-48-203" href="#__codelineno-48-203"></a>/dev/sdb2<span class="w">  </span>/mnt/sdb2<span class="w">  </span>auto<span class="w">  </span>defaults,noatime,nofail,x-systemd.device-timeout<span class="o">=</span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">2</span>
<a id="__codelineno-48-204" name="__codelineno-48-204" href="#__codelineno-48-204"></a>/dev/sdb3<span class="w">  </span>/mnt/sdb3<span class="w">  </span>auto<span class="w">  </span>defaults,noatime,nofail,x-systemd.device-timeout<span class="o">=</span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">2</span>
<a id="__codelineno-48-205" name="__codelineno-48-205" href="#__codelineno-48-205"></a>EOF
<a id="__codelineno-48-206" name="__codelineno-48-206" href="#__codelineno-48-206"></a>clear
<a id="__codelineno-48-207" name="__codelineno-48-207" href="#__codelineno-48-207"></a>cat<span class="w"> </span>/etc/fstab
<a id="__codelineno-48-208" name="__codelineno-48-208" href="#__codelineno-48-208"></a>sudo<span class="w"> </span>mount<span class="w"> </span>-a
<a id="__codelineno-48-209" name="__codelineno-48-209" href="#__codelineno-48-209"></a><span class="c1"># 查看磁盘情况</span>
<a id="__codelineno-48-210" name="__codelineno-48-210" href="#__codelineno-48-210"></a>$<span class="w"> </span>lsblk<span class="w"> </span>-f<span class="w"> </span>/dev/sdb
<a id="__codelineno-48-211" name="__codelineno-48-211" href="#__codelineno-48-211"></a>NAME<span class="w">   </span>FSTYPE<span class="w"> </span>LABEL<span class="w"> </span>UUID<span class="w">                                 </span>FSAVAIL<span class="w"> </span>FSUSE%<span class="w"> </span>MOUNTPOINT
<a id="__codelineno-48-212" name="__codelineno-48-212" href="#__codelineno-48-212"></a>sdb
<a id="__codelineno-48-213" name="__codelineno-48-213" href="#__codelineno-48-213"></a>├─sdb1<span class="w"> </span>vfat<span class="w">         </span>2DFE-7EA7<span class="w">                             </span><span class="m">299</span>.8M<span class="w">     </span><span class="m">0</span>%<span class="w"> </span>/mnt/sdb1
<a id="__codelineno-48-214" name="__codelineno-48-214" href="#__codelineno-48-214"></a>├─sdb2<span class="w"> </span>ext4<span class="w">         </span>6e785fc3-ab28-4582-a4ca-d87f3666f554<span class="w">    </span><span class="m">9</span>.2G<span class="w">     </span><span class="m">0</span>%<span class="w"> </span>/mnt/sdb2
<a id="__codelineno-48-215" name="__codelineno-48-215" href="#__codelineno-48-215"></a>└─sdb3<span class="w"> </span>ext4<span class="w">         </span>9435a117-e60d-40df-a9f6-3d7c031444fe<span class="w">      </span>9G<span class="w">     </span><span class="m">0</span>%<span class="w"> </span>/mnt/sdb3
</code></pre></div>
<h3 id="smart">SMART 监测</h3>
<p>参考：<a href="https://blog.shadypixel.com/monitoring-hard-drive-health-on-linux-with-smartmontools/">https://blog.shadypixel.com/monitoring-hard-drive-health-on-linux-with-smartmontools/</a></p>
<p><a href="https://help.ubuntu.com/community/Smartmontools">https://help.ubuntu.com/community/Smartmontools</a></p>
<p><a href="https://www.centos.org/forums/viewtopic.php?t=62007">https://www.centos.org/forums/viewtopic.php?t=62007</a></p>
<p><a href="https://wiki.archlinux.org/index.php/S.M.A.R.T.">https://wiki.archlinux.org/index.php/S.M.A.R.T.</a></p>
<p>S.M.A.R.T（Self-Monitoring Analysis and Reporting Technology），是硬盘的自我健康监测功能，只要是 1993 年之后的硬盘，基本上都会支持。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1"># 默认它 recommends 了 mailx 等一堆软件。</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="c1"># 使用 --no-install-recommends 命令，不安装推荐的软件。</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>--no-install-recommends<span class="w"> </span>smartmontools
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="c1"># -------------------------------------------------</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="c1"># 显示硬盘的详情，包括自检信息。</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>-a<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="c1"># 显示硬盘的简明特征信息，查看是否支持 smart 特性。</span>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>-i<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="c1"># 开启 smart 功能。大部分都会默认开启的。</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>--smart<span class="o">=</span>on<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="c1"># 测试硬盘健康</span>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>-t<span class="w"> </span>short<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>-t<span class="w"> </span>long<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="c1"># 查看检查结果，result 显示 passed 就表示没有问题。</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>-H<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="c1"># 查看最近的检查结果</span>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a>sudo<span class="w"> </span>smartctl<span class="w"> </span>-l<span class="w"> </span>selftest<span class="w"> </span>/dev/sdb
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="c1"># smartd 主配置文件</span>
<a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a>cat<span class="w"> </span>/etc/smartd.conf
<a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="c1"># man 手册</span>
<a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a>man<span class="w"> </span>smartd.conf
<a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a><span class="c1"># 重启服务</span>
<a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>smartd
<a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="c1"># 查看日志</span>
<a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a>journalctl<span class="w"> </span>-u<span class="w"> </span>smartd<span class="w"> </span>--no-pager
</code></pre></div>
<p>配置</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1"># -------------------------------------------------</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="nv">to_address</span><span class="o">=</span><span class="k">$(</span>readini<span class="w"> </span>~/.ssh/host.cfg<span class="w"> </span>mail<span class="w"> </span>to_address<span class="k">)</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$to_address</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/smartd.conf.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/smartd.conf<span class="w"> </span>/etc/smartd.conf.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | sudo tee /etc/smartd.conf</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="s"># 测试模式</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="s">#DEVICESCAN -a -m $to_address -M test</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="s"># 安静模式</span>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="s">#DEVICESCAN -H -m $to_address</span>
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="s"># 详细模式</span>
<a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="s">DEVICESCAN -a -o on -S on -n standby,q -s (S/../.././02|L/../../6/03) -I 190 -I 194 -W 4,45,55 -m $to_address</span>
<a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="s">EOF</span>
<a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="c1"># DEVICESCAN -a monitor for all possible SMART errors on all disks.</span>
<a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a><span class="c1"># -a equivalent to -H -f -t -l error -l selftest -C 197 -U 198</span>
<a id="__codelineno-50-15" name="__codelineno-50-15" href="#__codelineno-50-15"></a><span class="c1"># -o on enable automatic offline data collection.</span>
<a id="__codelineno-50-16" name="__codelineno-50-16" href="#__codelineno-50-16"></a><span class="c1"># -S on enable automatic attribute autosave.</span>
<a id="__codelineno-50-17" name="__codelineno-50-17" href="#__codelineno-50-17"></a><span class="c1"># -n standby,q do not check if disk is in standby, and suppress log message to that effect so as not to cause a write to disk</span>
<a id="__codelineno-50-18" name="__codelineno-50-18" href="#__codelineno-50-18"></a><span class="c1"># -s (S/../.././02|L/../../6/03) start a short self-test every day between 2-3am, and an extended self test weekly on Saturdays between 3-4am.</span>
<a id="__codelineno-50-19" name="__codelineno-50-19" href="#__codelineno-50-19"></a><span class="c1"># -W 4,35,40 log changes of 4 degrees or more, log when temp reaches 35 degrees, and log/email a warning when temp reaches 40</span>
</code></pre></div>
<p>测试是否能正常发送邮件</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="c1"># 将配置文件修改为测试模式，然后重启服务</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>smartd
</code></pre></div>
<h3 id="_18">硬盘休眠</h3>
<p>参考：<a href="http://www.mkitby.com/2016/05/15/raspberry-pi-nas-manage-hdd-power/">http://www.mkitby.com/2016/05/15/raspberry-pi-nas-manage-hdd-power/</a></p>
<p><a href="http://hd-idle.sourceforge.net/">http://hd-idle.sourceforge.net/</a></p>
<p>最简单的方法，使用一个支持硬盘休眠的硬盘盒，绿联的硬盘盒就支持。</p>
<p>经测试，hdparm 无效，hd-idle 有效。如果 hd-idle 也不支持，可以试下 sdparm。</p>
<blockquote>
<p>hd-idle is a utility program for spinning-down external disks after a period of idle time.</p>
</blockquote>
<p>需要下载源代码，编译为 deb 包。</p>
<blockquote>
<p>树莓派的源里已经有 hd-idle 软件包了可以直接使用 apt 安装了。</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="c1"># hd-idle 使用一个特殊的系统文件来检测磁盘活动, 如果没有这个文件，那么就不能使用hd-idle。</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>cat<span class="w"> </span>/proc/diskstats
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="c1"># 应该会看到如下的输出, 如果提示找不到文件或目录，那就不支持hd-idle。</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">   </span><span class="m">1</span><span class="w">       </span><span class="m">0</span><span class="w"> </span>ram0<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">   </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w"> </span>ram1<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">   </span><span class="m">1</span><span class="w">       </span><span class="m">2</span><span class="w"> </span>ram2<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">           </span>************
<a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">   </span><span class="m">8</span><span class="w">      </span><span class="m">17</span><span class="w"> </span>sdb1<span class="w"> </span><span class="m">577</span><span class="w"> </span><span class="m">389</span><span class="w"> </span><span class="m">12608</span><span class="w"> </span><span class="m">2310</span><span class="w"> </span><span class="m">54</span><span class="w"> </span><span class="m">141</span><span class="w"> </span><span class="m">1808</span><span class="w"> </span><span class="m">330</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1880</span><span class="w"> </span><span class="m">2640</span>
<a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">   </span><span class="m">8</span><span class="w">      </span><span class="m">18</span><span class="w"> </span>sdb2<span class="w"> </span><span class="m">90</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">6336</span><span class="w"> </span><span class="m">1520</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1150</span><span class="w"> </span><span class="m">1520</span>
<a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">   </span><span class="m">8</span><span class="w">      </span><span class="m">19</span><span class="w"> </span>sdb3<span class="w"> </span><span class="m">84</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">6192</span><span class="w"> </span><span class="m">1580</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1110</span><span class="w"> </span><span class="m">1580</span>
<a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a>
<a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="c1"># 安装编译需要的依赖包。</span>
<a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>build-essential<span class="w"> </span>fakeroot<span class="w"> </span>debhelper
<a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a><span class="c1"># 获取源代码</span>
<a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a>wget<span class="w"> </span>https://sourceforge.net/projects/hd-idle/files/hd-idle-1.05.tgz
<a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a><span class="c1"># 解压缩进入目录</span>
<a id="__codelineno-52-17" name="__codelineno-52-17" href="#__codelineno-52-17"></a>tar<span class="w"> </span>-xvf<span class="w"> </span>hd-idle-1.05.tgz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>hd-idle
<a id="__codelineno-52-18" name="__codelineno-52-18" href="#__codelineno-52-18"></a><span class="c1"># 编译</span>
<a id="__codelineno-52-19" name="__codelineno-52-19" href="#__codelineno-52-19"></a>dpkg-buildpackage<span class="w"> </span>-rfakeroot
<a id="__codelineno-52-20" name="__codelineno-52-20" href="#__codelineno-52-20"></a><span class="c1"># 安装</span>
<a id="__codelineno-52-21" name="__codelineno-52-21" href="#__codelineno-52-21"></a>sudo<span class="w"> </span>dpkg<span class="w"> </span>-i<span class="w"> </span>../hd-idle_*.deb
<a id="__codelineno-52-22" name="__codelineno-52-22" href="#__codelineno-52-22"></a><span class="c1"># 继续检查硬盘是否支持hd-idle</span>
<a id="__codelineno-52-23" name="__codelineno-52-23" href="#__codelineno-52-23"></a>sudo<span class="w"> </span>hd-idle<span class="w"> </span>-i<span class="w"> </span><span class="m">0</span><span class="w"> </span>-a<span class="w"> </span>sdb<span class="w"> </span>-i<span class="w"> </span><span class="m">300</span><span class="w"> </span>-d
<a id="__codelineno-52-24" name="__codelineno-52-24" href="#__codelineno-52-24"></a><span class="c1"># You should see output like this</span>
<a id="__codelineno-52-25" name="__codelineno-52-25" href="#__codelineno-52-25"></a><span class="c1">#probing sda: reads: 13418, writes: 594344</span>
<a id="__codelineno-52-26" name="__codelineno-52-26" href="#__codelineno-52-26"></a><span class="c1">#probing sdb: reads: 146538, writes: 429152</span>
<a id="__codelineno-52-27" name="__codelineno-52-27" href="#__codelineno-52-27"></a><span class="c1">#按 Ctrl+C 停止 hd-idle</span>
<a id="__codelineno-52-28" name="__codelineno-52-28" href="#__codelineno-52-28"></a>
<a id="__codelineno-52-29" name="__codelineno-52-29" href="#__codelineno-52-29"></a><span class="c1"># 立即停止硬盘，可以听下硬盘是否停止转动了。</span>
<a id="__codelineno-52-30" name="__codelineno-52-30" href="#__codelineno-52-30"></a>sudo<span class="w"> </span>hd-idle<span class="w"> </span>-t<span class="w"> </span>sdb<span class="w"> </span>-d
<a id="__codelineno-52-31" name="__codelineno-52-31" href="#__codelineno-52-31"></a>
<a id="__codelineno-52-32" name="__codelineno-52-32" href="#__codelineno-52-32"></a><span class="c1"># 编辑配置文件</span>
<a id="__codelineno-52-33" name="__codelineno-52-33" href="#__codelineno-52-33"></a>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/default/hd-idle<span class="w"> </span>/etc/default/hd-idle.bak
<a id="__codelineno-52-34" name="__codelineno-52-34" href="#__codelineno-52-34"></a>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/default/hd-idle
<a id="__codelineno-52-35" name="__codelineno-52-35" href="#__codelineno-52-35"></a><span class="c1"># 修改下面来开启hd-idle</span>
<a id="__codelineno-52-36" name="__codelineno-52-36" href="#__codelineno-52-36"></a><span class="c1"># 启用 hd-idle</span>
<a id="__codelineno-52-37" name="__codelineno-52-37" href="#__codelineno-52-37"></a><span class="nv">START_HD_IDLE</span><span class="o">=</span><span class="nb">true</span>
<a id="__codelineno-52-38" name="__codelineno-52-38" href="#__codelineno-52-38"></a><span class="c1"># 调整空闲时间为 5 分钟 (60 秒 * 5=300)，设备为sdb</span>
<a id="__codelineno-52-39" name="__codelineno-52-39" href="#__codelineno-52-39"></a><span class="nv">HD_IDLE_OPTS</span><span class="o">=</span><span class="s2">&quot;-i 0 -a sdb -i 300 -l /var/log/hd-idle.log&quot;</span>
<a id="__codelineno-52-40" name="__codelineno-52-40" href="#__codelineno-52-40"></a><span class="c1"># 重启 hd-idle</span>
<a id="__codelineno-52-41" name="__codelineno-52-41" href="#__codelineno-52-41"></a>systemctl<span class="w"> </span>status<span class="w"> </span>hd-idle.service
<a id="__codelineno-52-42" name="__codelineno-52-42" href="#__codelineno-52-42"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>hd-idle.service
<a id="__codelineno-52-43" name="__codelineno-52-43" href="#__codelineno-52-43"></a><span class="c1"># 查看日志，日志记录的是硬盘开始转动的开始、结束时间。</span>
<a id="__codelineno-52-44" name="__codelineno-52-44" href="#__codelineno-52-44"></a>cat<span class="w"> </span>/var/log/hd-idle.log
<a id="__codelineno-52-45" name="__codelineno-52-45" href="#__codelineno-52-45"></a>&gt;&gt;&gt;<span class="w"> </span>date:<span class="w"> </span><span class="m">2019</span>-08-18,<span class="w"> </span>time:<span class="w"> </span><span class="m">10</span>:33:39,<span class="w"> </span>disk:<span class="w"> </span>sdb,<span class="w"> </span>running:<span class="w"> </span><span class="m">901</span>,<span class="w"> </span>stopped:<span class="w"> </span><span class="m">2521</span>
</code></pre></div>
<h2 id="_19">用户、组管理</h2>
<p>参考：<a href="https://www.cnblogs.com/jackyyou/p/5498083.html">https://www.cnblogs.com/jackyyou/p/5498083.html</a></p>
<p>文件：</p>
<p><code>/etc/group</code> 文件包含所有组，并且能显示出用户是归属哪个用户组或哪几个用户组。用户组的特性在系统管理中为系统管理员提供了极大的方便，但安全性也是值得关注的，如某个用户下有对系统管理有最重要的内容，最好让用户拥有独立的用户组，或者是把用户下的文件的权限设置为完全私有；另外 root 用户组一般不要轻易把普通用户加入进去。</p>
<p><code>/etc/shadow</code> 用户（user）影子口令文件</p>
<p><code>/etc/passwd</code> 用户（user）的配置文件</p>
<p><code>/etc/group</code>  用户组（group）配置文件</p>
<p><code>/etc/gshadow</code> 用户组（group）的影子文件</p>
<p>命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1"># 查看当前用户所在的组</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>groups
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="c1"># 也可以下面的命令</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>groups<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="c1"># 查看当前登录用户名</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a>whoami
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a>
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="c1"># 查看系统所有的组信息</span>
<a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a>cat<span class="w"> </span>/etc/group
<a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="c1"># 查看指定用户组下的所有成员</span>
<a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a>getent<span class="w"> </span>group<span class="w"> </span>family
</code></pre></div>
<p>1）管理用户（user）的工具或命令；</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="c1"># debian 下，useradd 命令创建用户是不会在/home 下自动创建与用户名同名的用户目录，而且不会自动选择 shell 版本，也没有设置密码，那么这个用户是不能登录的，需要使用 passwd 命令修改密码。会同时创建同名群组</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>useradd
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="c1"># 创建用户，并附加到 family 组，不创建同名的组，主组仍是 users 用户组</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>sudo<span class="w"> </span>useradd<span class="w"> </span>qiuge<span class="w"> </span>-G<span class="w"> </span>family<span class="w"> </span>-N
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>groups<span class="w"> </span>qiuge
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>&gt;&gt;&gt;<span class="w"> </span>qiuge<span class="w"> </span>:<span class="w"> </span>users<span class="w"> </span>family
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="c1"># debian 下，adduser 命令创建用户是会在/home 下自动创建与用户名同名的用户目录，系统 shell 版本，会在创建时会提示输入密码，更加友好。会同时创建同名群组。</span>
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>sudo<span class="w"> </span>adduser<span class="w"> </span>--ingroup<span class="w"> </span>family<span class="w"> </span>selina
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="c1"># 为用户设置密码</span>
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>sudo<span class="w"> </span>passwd
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="c1"># 将用户 qiuge 从 family 组中移除</span>
<a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a>sudo<span class="w"> </span>passwd<span class="w"> </span>-d<span class="w"> </span>qiuge<span class="w"> </span>family
<a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="c1"># 修改用户命令，可以通过 usermod 来修改登录名、用户的家目录等等；</span>
<a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>qiuge<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>family,users
<a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a><span class="c1"># 删除用户</span>
<a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a>userdel
<a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a><span class="c1"># pwck 是校验用户配置文件/etc/passwd 和/etc/shadow 文件内容是否合法或完整；</span>
<a id="__codelineno-54-18" name="__codelineno-54-18" href="#__codelineno-54-18"></a>pwck
<a id="__codelineno-54-19" name="__codelineno-54-19" href="#__codelineno-54-19"></a><span class="c1"># 查看用户的 UID、GID 及所归属的用户组</span>
<a id="__codelineno-54-20" name="__codelineno-54-20" href="#__codelineno-54-20"></a>id
<a id="__codelineno-54-21" name="__codelineno-54-21" href="#__codelineno-54-21"></a><span class="c1"># 更改用户信息工具</span>
<a id="__codelineno-54-22" name="__codelineno-54-22" href="#__codelineno-54-22"></a>chfn
<a id="__codelineno-54-23" name="__codelineno-54-23" href="#__codelineno-54-23"></a><span class="c1"># 用户切换工具</span>
<a id="__codelineno-54-24" name="__codelineno-54-24" href="#__codelineno-54-24"></a>su
<a id="__codelineno-54-25" name="__codelineno-54-25" href="#__codelineno-54-25"></a><span class="c1"># sudo 是通过另一个用户来执行命令（execute a command as another user），su 是用来切换用户，然后通过切换到的用户来完成相应的任务。但 sudo 能后面直接执行命令，比如 sudo 不需要 root 密码就可以执行 root 赋与的执行只有 root 才能执行相应的命令；但得通过 visudo 来编辑/etc/sudoers 来实现；</span>
<a id="__codelineno-54-26" name="__codelineno-54-26" href="#__codelineno-54-26"></a>sudo
<a id="__codelineno-54-27" name="__codelineno-54-27" href="#__codelineno-54-27"></a><span class="c1"># visodo 是安全地编辑 /etc/sudoers 的方法，如果编辑错误，会有提示。</span>
<a id="__codelineno-54-28" name="__codelineno-54-28" href="#__codelineno-54-28"></a>visudo
<a id="__codelineno-54-29" name="__codelineno-54-29" href="#__codelineno-54-29"></a><span class="c1"># 和 sudo 功能差不多</span>
<a id="__codelineno-54-30" name="__codelineno-54-30" href="#__codelineno-54-30"></a>sudoedit
</code></pre></div>
<p>2）管理用户组（group）的工具或命令</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="c1"># 添加用户组</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>sudo<span class="w"> </span>groupadd<span class="w"> </span>family
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="c1"># 删除用户组</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>groupdel
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="c1"># 修改用户组信息：将 kevin 组改名为 family</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>sudo<span class="w"> </span>groupmod<span class="w"> </span>-n<span class="w"> </span>family<span class="w"> </span>kevin
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="c1"># 显示用户所属的用户组</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>groups
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="c1"># 通过/etc/group 和/etc/gshadow 的文件内容来同步或创建/etc/gshadow，如果/etc/gshadow 不存在则创建；</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a>grpck<span class="w"> </span>grpconv
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="c1"># 注：通过/etc/group 和/etc/gshadow 文件内容来同步或创建/etc/group，然后删除 gshadow 文件；</span>
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a>grpunconv
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="c1"># 设置用户组</span>
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a>gpasswd
</code></pre></div>
<h3 id="_20">批量修改用户密码</h3>
<p>参考：<a href="https://blog.csdn.net/xuwuhao/article/details/46618913">https://blog.csdn.net/xuwuhao/article/details/46618913</a></p>
<p>对系统定期修改密码是一个很重要的安全常识，通常，我们修改用户密码都使用 passwd user 这样的命令来修改密码，但是这样会进入交互模式，即使使用脚本也不能很方便的批量修改，除非使用 expect 这样的软件来实现，难道修改一下密码还需要单独安装一个软件包吗？不，我们其实还有其他很多方法可以让我们避开交互的，下面具体写一下具体的实现方式：
第一种：</p>
<p>Debian 不支持 <code>--stdin</code> 参数</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;123456&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>passwd<span class="w"> </span>--stdin<span class="w"> </span>sftp
</code></pre></div>
<blockquote>
<p>优点：方便快捷</p>
<p>缺点：如果你输入的指令能被别人通过 history 或者其他方式捕获，那么这样的方式是很不安全的，更重要的是如果密码同时含有单引号和双引号，那么则无法通过这种方法修改。</p>
<p>说明：
批量修改 linux 密码 passwd --stdin user 从标准输入中读取密码，所以用户可以在脚本中使用如 echo NewPasswd | passwd --stdin username 这种方式来批量更改密码 但在其它的一些发行版（如 Debian/Suse）所提供的 passwd 并不支持--stdin 这个参数</p>
</blockquote>
<p>第二种：
a. 首先将用户名密码一起写入一个临时文件。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>cat<span class="w"> </span>chpass.txt
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>root:123456
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>zhaohang:123456
</code></pre></div>
<p>b. 使用如下命令对用户口令进行修改：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>chpasswd<span class="w"> </span>&lt;<span class="w"> </span>chpass.txt
</code></pre></div>
<p>c. 可以使用 123456 来登录系统，密码修改完毕。</p>
<blockquote>
<p>优点：可以很快速方便的修改多个用户密码
缺点：明文密码写在文件里仍然显得不够安全，但是避免了第一种修改方式不能有特殊字符串密码的情况。</p>
</blockquote>
<p>第三种：</p>
<p>a. 用 <code>openssl passwd -6</code> 来生成用户口令，连同用户名一起写入文件。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="c1"># -salt val           Use provided salt</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="c1"># -stdin              Read passwords from stdin</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="c1"># -6                  SHA512-based password algorithm</span>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="c1"># -5                  SHA256-based password algorithm</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="c1"># -1                  MD5-based password algorithm</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>cat<span class="w"> </span>chpass.txt
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a>root:<span class="nv">$1$ri2hceVU$WIf</span>.firUBn97JKswK9ExO0
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a>zhaohang:<span class="nv">$1$i</span>/Gou7.v<span class="nv">$Bh2K6sXmxV6</span>/UCxJz8N7b.
</code></pre></div>
<p>b. 使用如下命令对用户口令进行修改：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>chpasswd<span class="w"> </span>-e<span class="w"> </span>&lt;<span class="w"> </span>chpass.txt
</code></pre></div>
<p>c. 可以使用 123456 来登录系统，密码修改完毕。</p>
<blockquote>
<p>优点：可以很快速方便的修改多个用户密码。和上面两种相比大大增强了安全性</p>
</blockquote>
<p>附加介绍：
openssl passwd -1 命令可以输出 shadow 里面的密码，把这个命令生成的秘串更改为你 shadow 里的密码，那么下次你登录系统就可以用你的生成密码的口令来登录了，使用这个命令，即使口令一样，多次执行生成的密码串也不一样。那个 hash 值对应的密码是完全随机的基于 64 位字符编码的 28 位长，因此要破解它是非常困难的，只要不用那些密码已经公布出来的 hash 值创建账号，即使这些密码文件被公布也还是比较安全的。使用旧的 unix 哈希可以去掉 -1 参数。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="o">[</span>root@WEB01<span class="w"> </span>~<span class="o">]</span><span class="c1"># openssl passwd -6</span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>Password:<span class="w"> </span><span class="m">123456</span>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>Verifying<span class="w"> </span>-<span class="w"> </span>Password:<span class="w"> </span><span class="m">123456</span>
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="nv">$1$ri2hceVU$WIf</span>.firUBn97JKswK9ExO0
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a>也可以直接使用如下命令来直接生成：
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="o">[</span>root@WEB01<span class="w"> </span>~<span class="o">]</span><span class="c1"># openssl passwd -6 123456</span>
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="o">[</span>root@WEB01<span class="w"> </span>~<span class="o">]</span><span class="c1"># openssl passwd -6 -salt &quot;yoctor&quot; 123456</span>
</code></pre></div>
<p>上面命令中的 salt 自己随便输入些东西。因为设置密码的时候密码密文是 MD5 加密的，在产生哈希值的时候系统回在密文中加如盐从而使密文无法反向破译。passwd 加密的时候系统加的 salt 是 时间。</p>
<h2 id="_21">远程访问</h2>
<h3 id="ssh">SSH</h3>
<p>服务器版的 Linux 一般都会默认安装 SSH Server，桌面版的可能默认没有安装，需要手动安装一下。</p>
<p>输入：<code>ps -e | grep ssh</code>，如果没有 <code>sshd</code>，说明没有安装 ssh server。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>openssh-server
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>systemctl<span class="w"> </span>status<span class="w"> </span>ssh
</code></pre></div>
<p>ssh 的配置文件为 <code>/etc/ssh/sshd_config</code>。</p>
<p>默认情况下，ssh 就可以正常工作了，需要注意的是：</p>
<ul>
<li>默认禁止 root 账户登录。</li>
<li>用户配置应设置为最小权限。<code>~/.ssh</code> 目录权限为 700，<code>~/.ssh/authorized_keys</code>文件权限为 600。</li>
</ul>
<h3 id="sftp">SFTP</h3>
<p>参考：<a href="https://www.cnblogs.com/luyucheng/p/6094729.html">https://www.cnblogs.com/luyucheng/p/6094729.html</a></p>
<p><a href="https://blog.csdn.net/yanzhenjie1003/article/details/70184221">https://blog.csdn.net/yanzhenjie1003/article/details/70184221</a></p>
<p>SFTP 是 Secure File Transfer Protocol 的缩写，安全文件传送协议。SFTP 使用加密传输认证信息和传输的数据，所以使用 SFTP 是非常安全的。SFTP 之于 FTP 可以理解为 Https 之于 Http，由于这种传输方式使用了加密/解密技术，所以传输效率比普通的 FTP 要低得多，如果您对网络安全性要求更高时，可以使用 SFTP 代替 FTP。</p>
<p><strong>需求</strong>：</p>
<ul>
<li>限制一个 Linux 用户，让他只能在指定的目录下进行添加、修改、删除操作，无法切换到上一级目录或其它目录。</li>
<li>只能使用 sftp 登录，不能用 ssh 登录。</li>
</ul>
<p>使用 internal-sftp 带来两个好处：</p>
<p>（1）性能更好，在连接 sftp 的时候，系统不会 fork 出一个新的 sftp 进程；可使用<code>ps -e | grep sftp</code>命令查看 sftp 进程。</p>
<p>（2）可以在 ssh 的配置文件 <code>/etc/ssh/sshd_config</code> 中，使用 ChrootDirectory，Match，ForceCommand 等指令来限制登录 sftp 用户的行为。这部分另外写文章总结。请参考：<a href="https://www.maixj.net/ict/ssh-sftp-21993">通过 SSH 配置纯 sftp 用户及权限</a></p>
<p>注意：权限设置，参考：<a href="https://www.cnblogs.com/buffer/p/3191540.html">https://www.cnblogs.com/buffer/p/3191540.html</a></p>
<blockquote>
<p>要实现 Chroot 功能，<strong>目录权限的设置非常重要，否则无法登录</strong>。目录权限设置上要遵循 2 点：</p>
<ol>
<li>ChrootDirectory 设置的目录权限及其所有的上级文件夹权限，属主和属组必须是 root；</li>
<li>ChrootDirectory 设置的目录权限及其所有的上级文件夹权限，只有属主能拥有写权限，也就是说权限最大设置只能是 755。</li>
</ol>
<p>如果不能遵循以上 2 点，即使是该目录仅属于某个用户，也无法 sftp 登录。</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="c1"># 我们要建立一个专门管理 sftp 用户的用户组，方便我们管理权限。</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>sudo<span class="w"> </span>groupadd<span class="w"> </span>sftp
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="c1"># 在该组下建立新用户，禁止任何形式的登录。</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="c1"># 不禁止登录也可以，ssh 可以配置禁止 ssh 登录，这样的话仅本地登录，无法远程 ssh 登录。</span>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a>sudo<span class="w"> </span>useradd<span class="w"> </span>-s<span class="w"> </span>/usr/sbin/nologin<span class="w"> </span>-g<span class="w"> </span>sftp<span class="w"> </span>-d<span class="w"> </span>/home/sftp<span class="w"> </span>sftp
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="c1"># sudo usermod -s /usr/sbin/nologin sftp</span>
<a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="c1"># sudo usermod -d /home/ftp sftp</span>
<a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="c1"># -d, --home-dir HOME_DIR       新账户的主目录</span>
<a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="c1"># -s, --shell SHELL             新账户的登录 shell</span>
<a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="c1"># -g, --gid GROUP               新账户主组的名称或 ID</span>
<a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="c1"># -M, --no-create-home          不创建用户的主目录</span>
<a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a><span class="c1">#--------------------------------------------</span>
<a id="__codelineno-63-13" name="__codelineno-63-13" href="#__codelineno-63-13"></a><span class="c1"># 设置用户密码</span>
<a id="__codelineno-63-14" name="__codelineno-63-14" href="#__codelineno-63-14"></a>sudo<span class="w"> </span>passwd<span class="w"> </span>sftp
<a id="__codelineno-63-15" name="__codelineno-63-15" href="#__codelineno-63-15"></a><span class="c1">#--------------------------------------------</span>
<a id="__codelineno-63-16" name="__codelineno-63-16" href="#__codelineno-63-16"></a><span class="c1"># 3.创建用户的根目录，用户就只能在此目录下活动</span>
<a id="__codelineno-63-17" name="__codelineno-63-17" href="#__codelineno-63-17"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/home/sftp
<a id="__codelineno-63-18" name="__codelineno-63-18" href="#__codelineno-63-18"></a><span class="c1"># 修改权限为 root 用户拥有</span>
<a id="__codelineno-63-19" name="__codelineno-63-19" href="#__codelineno-63-19"></a>sudo<span class="w"> </span>chown<span class="w"> </span>root:root<span class="w"> </span>/home/sftp
<a id="__codelineno-63-20" name="__codelineno-63-20" href="#__codelineno-63-20"></a><span class="c1"># 修改权限为 root 可读写执行，其它用户可读</span>
<a id="__codelineno-63-21" name="__codelineno-63-21" href="#__codelineno-63-21"></a>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>/home/sftp
<a id="__codelineno-63-22" name="__codelineno-63-22" href="#__codelineno-63-22"></a><span class="c1"># 创建 sync 目录，用户可以在此目录创建、修改、删除文件、文件夹。</span>
<a id="__codelineno-63-23" name="__codelineno-63-23" href="#__codelineno-63-23"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/home/sftp/sync
<a id="__codelineno-63-24" name="__codelineno-63-24" href="#__codelineno-63-24"></a>sudo<span class="w"> </span>chown<span class="w"> </span>sftp:sftp<span class="w"> </span>/home/sftp/sync
<a id="__codelineno-63-25" name="__codelineno-63-25" href="#__codelineno-63-25"></a><span class="c1"># 方便其它用户往里面放文件</span>
<a id="__codelineno-63-26" name="__codelineno-63-26" href="#__codelineno-63-26"></a>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">777</span><span class="w"> </span>/home/sftp/sync
<a id="__codelineno-63-27" name="__codelineno-63-27" href="#__codelineno-63-27"></a>ln<span class="w"> </span>-s<span class="w"> </span>/home/sftp/sync<span class="w"> </span>/mnt/sdb1/orico/sftp-sync
<a id="__codelineno-63-28" name="__codelineno-63-28" href="#__codelineno-63-28"></a><span class="c1"># 5.配置 sshd_config</span>
<a id="__codelineno-63-29" name="__codelineno-63-29" href="#__codelineno-63-29"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/ssh/sshd_config.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/ssh/sshd_config<span class="w"> </span>/etc/ssh/sshd_config.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-63-30" name="__codelineno-63-30" href="#__codelineno-63-30"></a>sudo<span class="w"> </span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s|^Subsystem\s*sftp\s*/usr/lib/openssh/sftp-server$|## &amp;|&#39;</span><span class="w"> </span>/etc/ssh/sshd_config
</code></pre></div>
<p>修改为下面内容，保存退出</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="c1"># 添加在配置文件末尾</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>cat<span class="w"> </span>&lt;&lt;<span class="w"> </span><span class="s2">&quot;EOF&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/ssh/sshd_config
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="c1"># 指定使用 sftp 服务使用系统自带的 internal-sftp</span>
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a>Subsystem<span class="w"> </span>sftp<span class="w"> </span>internal-sftp
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="c1"># 匹配用户或组，如果要匹配多个组，多个组之间用逗号分割</span>
<a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a>Match<span class="w"> </span>Group<span class="w"> </span>sftp
<a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="w">    </span><span class="c1"># 强制执行内部 internal-sftp，并忽略任何~/.ssh/rc 文件中的命令</span>
<a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="w">    </span>ForceCommand<span class="w"> </span>internal-sftp
<a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="w">    </span><span class="c1"># 用 chroot 指定用户的根目录</span>
<a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="w">    </span><span class="c1"># chroot 的含义：https://www.ibm.com/developerworks/cn/linux/l-cn-chroot/</span>
<a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="w">    </span>ChrootDirectory<span class="w"> </span>/home/sftp
<a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="w">    </span><span class="c1"># 禁止终端登录</span>
<a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="w">    </span>PermitTTY<span class="w"> </span>no
<a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="w">    </span><span class="c1"># 禁止端口转发</span>
<a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a><span class="w">    </span>X11Forwarding<span class="w"> </span>no
<a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="w">    </span>AllowTcpForwarding<span class="w"> </span>no
<a id="__codelineno-64-17" name="__codelineno-64-17" href="#__codelineno-64-17"></a>EOF
<a id="__codelineno-64-18" name="__codelineno-64-18" href="#__codelineno-64-18"></a><span class="c1"># 重启 ssh 服务</span>
<a id="__codelineno-64-19" name="__codelineno-64-19" href="#__codelineno-64-19"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>ssh.service
<a id="__codelineno-64-20" name="__codelineno-64-20" href="#__codelineno-64-20"></a><span class="c1"># 测试一下</span>
<a id="__codelineno-64-21" name="__codelineno-64-21" href="#__codelineno-64-21"></a>sftp<span class="w"> </span>-oPort<span class="o">=</span><span class="m">22</span><span class="w"> </span>sftp@192.168.88.40
<a id="__codelineno-64-22" name="__codelineno-64-22" href="#__codelineno-64-22"></a><span class="c1"># sftp 登录 www 用户，进入 ui 目录，即可在/home/www/ui 下，对文件进行添加、修改、删除的操作</span>
</code></pre></div>
<h2 id="_22">常用命令</h2>
<h3 id="ntp">NTP 时间同步</h3>
<p>Debian 开始使用 Systemd 内置的一个服务 <code>systemd-timesyncd.service</code> 来同步时间。</p>
<p>常用的时间服务器地址参考：<a href="https://dns.icoa.cn/ntp/">https://dns.icoa.cn/ntp/</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="c1"># ---------------------------------------------------------------------</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>sudo<span class="w"> </span>timedatectl<span class="w"> </span>set-timezone<span class="w"> </span><span class="s2">&quot;Asia/Shanghai&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;时区设置为东 8 区成功！&quot;</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="c1"># 设置时间同步服务器</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="c1"># 常用的时间服务器地址参考：https://dns.icoa.cn/ntp/</span>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/etc/systemd/timesyncd.conf.bak<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/systemd/timesyncd.conf<span class="w"> </span>/etc/systemd/timesyncd.conf.bak<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a>sudo<span class="w"> </span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^#\?NTP=.*$/NTP=cn.pool.ntp.org ntp.aliyun.com time.asia.apple.com time1.cloud.tencent.com/&#39;</span><span class="w"> </span>/etc/systemd/timesyncd.conf
<a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>systemd-timesyncd.service
<a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;同步系统时间成功！&quot;</span>
<a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="c1"># 查看时间设置</span>
<a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a>timedatectl
</code></pre></div>
<p>新版的 Debian 不再使用 ntp.service。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="c1"># 时间不准，设置时间同步服务器</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/ntp.conf<span class="w"> </span>/etc/ntp.conf.bak
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>sudo<span class="w"> </span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/#server ntp\.your-provider\.example/&amp;\nserver ntp.tuna.tsinghua.edu.cn\nserver time.asia.apple.com iburst\nserver asia.pool.ntp.org iburst/&#39;</span><span class="w"> </span>/etc/ntp.conf
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="c1"># 强制要求NTP对表</span>
<a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>ntp.service
<a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a>sudo<span class="w"> </span>ntpd<span class="w"> </span>-gq
<a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>ntp.service
<a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="c1"># 查看当前日期时间</span>
<a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a>date
</code></pre></div>
<h3 id="_23">计划任务</h3>
<p>常用的命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="c1"># 列出用户的计划任务</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>crontab<span class="w"> </span>-l
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="c1"># 编辑用户的计划任务</span>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a>crontab<span class="w"> </span>-e
</code></pre></div>
<p>cron 的格式：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="c1"># minute   hour   day   month   week   command</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="c1"># For details see man 4 crontabs</span>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="c1"># Example of job definition:</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a>.----------------------------------<span class="w"> </span>minute<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>-<span class="w"> </span><span class="m">59</span><span class="o">)</span><span class="w"> </span>表示分钟
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="p">|</span><span class="w">  </span>.-------------------------------<span class="w"> </span>hour<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>-<span class="w"> </span><span class="m">23</span><span class="o">)</span><span class="w">   </span>表示小时
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span>.----------------------------<span class="w"> </span>day<span class="w"> </span>of<span class="w"> </span>month<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>-<span class="w"> </span><span class="m">31</span><span class="o">)</span><span class="w">   </span>表示日期
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span>.-------------------------<span class="w"> </span>month<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>-<span class="w"> </span><span class="m">12</span><span class="o">)</span><span class="w"> </span>OR<span class="w"> </span>jan,feb,mar,apr<span class="w"> </span>...<span class="w"> </span>表示月份
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span>.----------------------<span class="w"> </span>day<span class="w"> </span>of<span class="w"> </span>week<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>-<span class="w"> </span><span class="m">6</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="nv">Sunday</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>or<span class="w"> </span><span class="m">7</span><span class="o">)</span><span class="w"> </span>OR<span class="w"> </span>sun,mon,tue,wed,thu,fri,sat<span class="w">  </span>表示星期（0<span class="w"> </span>或<span class="w"> </span><span class="m">7</span><span class="w"> </span>表示星期天）
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span>.-------------------<span class="w"> </span>username<span class="w">  </span>以哪个用户来执行
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">            </span>.------<span class="w"> </span><span class="nb">command</span><span class="w">  </span>要执行的命令，可以是系统命令，也可以是自己编写的脚本文件
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w">            </span><span class="p">|</span>
<a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a>*<span class="w">  </span>*<span class="w">  </span>*<span class="w">  </span>*<span class="w">  </span>*<span class="w"> </span>user-name<span class="w">  </span><span class="nb">command</span><span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>executed
</code></pre></div>
<p>示例：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="c1"># 每天的 6:12 重启</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="m">12</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>sleep<span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>reboot
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="c1"># 每 2 天的 6:12 重启一次</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="m">12</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>*/2<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>sleep<span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>reboot
</code></pre></div>
<h3 id="man">中文 man</h3>
<p>不推荐安装。里面的内容比较旧了，维护更新也不及时，最好还是看英文原版。</p>
<p>项目地址：<a href="https://github.com/man-pages-zh/manpages-zh">https://github.com/man-pages-zh/manpages-zh</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>manpages-zh
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Linux 文件系统层次结构标准 (FHS)">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Linux 文件系统层次结构标准 (FHS)
              </div>
            </div>
          </a>
        
        
          
          <a href="../Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/" class="md-footer__link md-footer__link--next" aria-label="下一页: Linux 网络管理">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Linux 网络管理
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 - 2025 kisa747
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "search.highlight", "navigation.footer", "navigation.top", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../assets/js/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>